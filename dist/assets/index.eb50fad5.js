const p = function polyfill() {
  const relList = document.createElement("link").relList;
  if (relList && relList.supports && relList.supports("modulepreload")) {
    return;
  }
  for (const link of document.querySelectorAll('link[rel="modulepreload"]')) {
    processPreload(link);
  }
  new MutationObserver((mutations) => {
    for (const mutation of mutations) {
      if (mutation.type !== "childList") {
        continue;
      }
      for (const node of mutation.addedNodes) {
        if (node.tagName === "LINK" && node.rel === "modulepreload")
          processPreload(node);
      }
    }
  }).observe(document, { childList: true, subtree: true });
  function getFetchOpts(script) {
    const fetchOpts = {};
    if (script.integrity)
      fetchOpts.integrity = script.integrity;
    if (script.referrerpolicy)
      fetchOpts.referrerPolicy = script.referrerpolicy;
    if (script.crossorigin === "use-credentials")
      fetchOpts.credentials = "include";
    else if (script.crossorigin === "anonymous")
      fetchOpts.credentials = "omit";
    else
      fetchOpts.credentials = "same-origin";
    return fetchOpts;
  }
  function processPreload(link) {
    if (link.ep)
      return;
    link.ep = true;
    const fetchOpts = getFetchOpts(link);
    fetch(link.href, fetchOpts);
  }
};
p();
/*!
 * Vue.js v2.7.8
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var emptyObject = Object.freeze({});
var isArray = Array.isArray;
function isUndef(v) {
  return v === void 0 || v === null;
}
function isDef(v) {
  return v !== void 0 && v !== null;
}
function isTrue(v) {
  return v === true;
}
function isFalse(v) {
  return v === false;
}
function isPrimitive$1(value) {
  return typeof value === "string" || typeof value === "number" || typeof value === "symbol" || typeof value === "boolean";
}
function isFunction(value) {
  return typeof value === "function";
}
function isObject(obj) {
  return obj !== null && typeof obj === "object";
}
var _toString = Object.prototype.toString;
function toRawType(value) {
  return _toString.call(value).slice(8, -1);
}
function isPlainObject(obj) {
  return _toString.call(obj) === "[object Object]";
}
function isRegExp(v) {
  return _toString.call(v) === "[object RegExp]";
}
function isValidArrayIndex(val) {
  var n = parseFloat(String(val));
  return n >= 0 && Math.floor(n) === n && isFinite(val);
}
function isPromise(val) {
  return isDef(val) && typeof val.then === "function" && typeof val.catch === "function";
}
function toString(val) {
  return val == null ? "" : Array.isArray(val) || isPlainObject(val) && val.toString === _toString ? JSON.stringify(val, null, 2) : String(val);
}
function toNumber(val) {
  var n = parseFloat(val);
  return isNaN(n) ? val : n;
}
function makeMap(str2, expectsLowerCase) {
  var map = /* @__PURE__ */ Object.create(null);
  var list = str2.split(",");
  for (var i = 0; i < list.length; i++) {
    map[list[i]] = true;
  }
  return expectsLowerCase ? function(val) {
    return map[val.toLowerCase()];
  } : function(val) {
    return map[val];
  };
}
var isBuiltInTag = makeMap("slot,component", true);
var isReservedAttribute = makeMap("key,ref,slot,slot-scope,is");
function remove$2(arr, item) {
  if (arr.length) {
    var index2 = arr.indexOf(item);
    if (index2 > -1) {
      return arr.splice(index2, 1);
    }
  }
}
var hasOwnProperty = Object.prototype.hasOwnProperty;
function hasOwn(obj, key) {
  return hasOwnProperty.call(obj, key);
}
function cached(fn) {
  var cache = /* @__PURE__ */ Object.create(null);
  return function cachedFn(str2) {
    var hit = cache[str2];
    return hit || (cache[str2] = fn(str2));
  };
}
var camelizeRE = /-(\w)/g;
var camelize = cached(function(str2) {
  return str2.replace(camelizeRE, function(_, c) {
    return c ? c.toUpperCase() : "";
  });
});
var capitalize = cached(function(str2) {
  return str2.charAt(0).toUpperCase() + str2.slice(1);
});
var hyphenateRE = /\B([A-Z])/g;
var hyphenate = cached(function(str2) {
  return str2.replace(hyphenateRE, "-$1").toLowerCase();
});
function polyfillBind(fn, ctx) {
  function boundFn(a) {
    var l = arguments.length;
    return l ? l > 1 ? fn.apply(ctx, arguments) : fn.call(ctx, a) : fn.call(ctx);
  }
  boundFn._length = fn.length;
  return boundFn;
}
function nativeBind(fn, ctx) {
  return fn.bind(ctx);
}
var bind$1 = Function.prototype.bind ? nativeBind : polyfillBind;
function toArray(list, start) {
  start = start || 0;
  var i = list.length - start;
  var ret = new Array(i);
  while (i--) {
    ret[i] = list[i + start];
  }
  return ret;
}
function extend(to, _from) {
  for (var key in _from) {
    to[key] = _from[key];
  }
  return to;
}
function toObject(arr) {
  var res = {};
  for (var i = 0; i < arr.length; i++) {
    if (arr[i]) {
      extend(res, arr[i]);
    }
  }
  return res;
}
function noop(a, b, c) {
}
var no = function(a, b, c) {
  return false;
};
var identity = function(_) {
  return _;
};
function genStaticKeys$1(modules2) {
  return modules2.reduce(function(keys, m) {
    return keys.concat(m.staticKeys || []);
  }, []).join(",");
}
function looseEqual(a, b) {
  if (a === b)
    return true;
  var isObjectA = isObject(a);
  var isObjectB = isObject(b);
  if (isObjectA && isObjectB) {
    try {
      var isArrayA = Array.isArray(a);
      var isArrayB = Array.isArray(b);
      if (isArrayA && isArrayB) {
        return a.length === b.length && a.every(function(e, i) {
          return looseEqual(e, b[i]);
        });
      } else if (a instanceof Date && b instanceof Date) {
        return a.getTime() === b.getTime();
      } else if (!isArrayA && !isArrayB) {
        var keysA = Object.keys(a);
        var keysB = Object.keys(b);
        return keysA.length === keysB.length && keysA.every(function(key) {
          return looseEqual(a[key], b[key]);
        });
      } else {
        return false;
      }
    } catch (e) {
      return false;
    }
  } else if (!isObjectA && !isObjectB) {
    return String(a) === String(b);
  } else {
    return false;
  }
}
function looseIndexOf(arr, val) {
  for (var i = 0; i < arr.length; i++) {
    if (looseEqual(arr[i], val))
      return i;
  }
  return -1;
}
function once(fn) {
  var called = false;
  return function() {
    if (!called) {
      called = true;
      fn.apply(this, arguments);
    }
  };
}
function hasChanged(x, y) {
  if (x === y) {
    return x === 0 && 1 / x !== 1 / y;
  } else {
    return x === x || y === y;
  }
}
var SSR_ATTR = "data-server-rendered";
var ASSET_TYPES = ["component", "directive", "filter"];
var LIFECYCLE_HOOKS = [
  "beforeCreate",
  "created",
  "beforeMount",
  "mounted",
  "beforeUpdate",
  "updated",
  "beforeDestroy",
  "destroyed",
  "activated",
  "deactivated",
  "errorCaptured",
  "serverPrefetch",
  "renderTracked",
  "renderTriggered"
];
var config = {
  optionMergeStrategies: /* @__PURE__ */ Object.create(null),
  silent: false,
  productionTip: false,
  devtools: false,
  performance: false,
  errorHandler: null,
  warnHandler: null,
  ignoredElements: [],
  keyCodes: /* @__PURE__ */ Object.create(null),
  isReservedTag: no,
  isReservedAttr: no,
  isUnknownElement: no,
  getTagNamespace: noop,
  parsePlatformTagName: identity,
  mustUseProp: no,
  async: true,
  _lifecycleHooks: LIFECYCLE_HOOKS
};
var unicodeRegExp = /a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;
function isReserved(str2) {
  var c = (str2 + "").charCodeAt(0);
  return c === 36 || c === 95;
}
function def(obj, key, val, enumerable) {
  Object.defineProperty(obj, key, {
    value: val,
    enumerable: !!enumerable,
    writable: true,
    configurable: true
  });
}
var bailRE = new RegExp("[^".concat(unicodeRegExp.source, ".$_\\d]"));
function parsePath(path) {
  if (bailRE.test(path)) {
    return;
  }
  var segments = path.split(".");
  return function(obj) {
    for (var i = 0; i < segments.length; i++) {
      if (!obj)
        return;
      obj = obj[segments[i]];
    }
    return obj;
  };
}
var hasProto$1 = "__proto__" in {};
var inBrowser = typeof window !== "undefined";
var UA = inBrowser && window.navigator.userAgent.toLowerCase();
var isIE = UA && /msie|trident/.test(UA);
var isIE9 = UA && UA.indexOf("msie 9.0") > 0;
var isEdge = UA && UA.indexOf("edge/") > 0;
UA && UA.indexOf("android") > 0;
var isIOS = UA && /iphone|ipad|ipod|ios/.test(UA);
UA && /chrome\/\d+/.test(UA) && !isEdge;
UA && /phantomjs/.test(UA);
var isFF = UA && UA.match(/firefox\/(\d+)/);
var nativeWatch = {}.watch;
var supportsPassive = false;
if (inBrowser) {
  try {
    var opts = {};
    Object.defineProperty(opts, "passive", {
      get: function() {
        supportsPassive = true;
      }
    });
    window.addEventListener("test-passive", null, opts);
  } catch (e) {
  }
}
var _isServer;
var isServerRendering = function() {
  if (_isServer === void 0) {
    if (!inBrowser && typeof global !== "undefined") {
      _isServer = global["process"] && global["process"].env.VUE_ENV === "server";
    } else {
      _isServer = false;
    }
  }
  return _isServer;
};
var devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;
function isNative(Ctor) {
  return typeof Ctor === "function" && /native code/.test(Ctor.toString());
}
var hasSymbol = typeof Symbol !== "undefined" && isNative(Symbol) && typeof Reflect !== "undefined" && isNative(Reflect.ownKeys);
var _Set;
if (typeof Set !== "undefined" && isNative(Set)) {
  _Set = Set;
} else {
  _Set = function() {
    function Set2() {
      this.set = /* @__PURE__ */ Object.create(null);
    }
    Set2.prototype.has = function(key) {
      return this.set[key] === true;
    };
    Set2.prototype.add = function(key) {
      this.set[key] = true;
    };
    Set2.prototype.clear = function() {
      this.set = /* @__PURE__ */ Object.create(null);
    };
    return Set2;
  }();
}
var currentInstance = null;
function getCurrentInstance() {
  return currentInstance && { proxy: currentInstance };
}
function setCurrentInstance(vm) {
  if (vm === void 0) {
    vm = null;
  }
  if (!vm)
    currentInstance && currentInstance._scope.off();
  currentInstance = vm;
  vm && vm._scope.on();
}
var VNode = function() {
  function VNode2(tag, data, children, text2, elm, context, componentOptions, asyncFactory) {
    this.tag = tag;
    this.data = data;
    this.children = children;
    this.text = text2;
    this.elm = elm;
    this.ns = void 0;
    this.context = context;
    this.fnContext = void 0;
    this.fnOptions = void 0;
    this.fnScopeId = void 0;
    this.key = data && data.key;
    this.componentOptions = componentOptions;
    this.componentInstance = void 0;
    this.parent = void 0;
    this.raw = false;
    this.isStatic = false;
    this.isRootInsert = true;
    this.isComment = false;
    this.isCloned = false;
    this.isOnce = false;
    this.asyncFactory = asyncFactory;
    this.asyncMeta = void 0;
    this.isAsyncPlaceholder = false;
  }
  Object.defineProperty(VNode2.prototype, "child", {
    get: function() {
      return this.componentInstance;
    },
    enumerable: false,
    configurable: true
  });
  return VNode2;
}();
var createEmptyVNode = function(text2) {
  if (text2 === void 0) {
    text2 = "";
  }
  var node = new VNode();
  node.text = text2;
  node.isComment = true;
  return node;
};
function createTextVNode(val) {
  return new VNode(void 0, void 0, void 0, String(val));
}
function cloneVNode(vnode) {
  var cloned = new VNode(
    vnode.tag,
    vnode.data,
    vnode.children && vnode.children.slice(),
    vnode.text,
    vnode.elm,
    vnode.context,
    vnode.componentOptions,
    vnode.asyncFactory
  );
  cloned.ns = vnode.ns;
  cloned.isStatic = vnode.isStatic;
  cloned.key = vnode.key;
  cloned.isComment = vnode.isComment;
  cloned.fnContext = vnode.fnContext;
  cloned.fnOptions = vnode.fnOptions;
  cloned.fnScopeId = vnode.fnScopeId;
  cloned.asyncMeta = vnode.asyncMeta;
  cloned.isCloned = true;
  return cloned;
}
var uid$2 = 0;
var Dep = function() {
  function Dep2() {
    this.id = uid$2++;
    this.subs = [];
  }
  Dep2.prototype.addSub = function(sub) {
    this.subs.push(sub);
  };
  Dep2.prototype.removeSub = function(sub) {
    remove$2(this.subs, sub);
  };
  Dep2.prototype.depend = function(info) {
    if (Dep2.target) {
      Dep2.target.addDep(this);
    }
  };
  Dep2.prototype.notify = function(info) {
    var subs = this.subs.slice();
    for (var i = 0, l = subs.length; i < l; i++) {
      subs[i].update();
    }
  };
  return Dep2;
}();
Dep.target = null;
var targetStack = [];
function pushTarget(target2) {
  targetStack.push(target2);
  Dep.target = target2;
}
function popTarget() {
  targetStack.pop();
  Dep.target = targetStack[targetStack.length - 1];
}
var arrayProto = Array.prototype;
var arrayMethods = Object.create(arrayProto);
var methodsToPatch = [
  "push",
  "pop",
  "shift",
  "unshift",
  "splice",
  "sort",
  "reverse"
];
methodsToPatch.forEach(function(method) {
  var original = arrayProto[method];
  def(arrayMethods, method, function mutator() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    var result = original.apply(this, args);
    var ob = this.__ob__;
    var inserted;
    switch (method) {
      case "push":
      case "unshift":
        inserted = args;
        break;
      case "splice":
        inserted = args.slice(2);
        break;
    }
    if (inserted)
      ob.observeArray(inserted);
    {
      ob.dep.notify();
    }
    return result;
  });
});
var arrayKeys = Object.getOwnPropertyNames(arrayMethods);
var NO_INIITIAL_VALUE = {};
var shouldObserve = true;
function toggleObserving(value) {
  shouldObserve = value;
}
var mockDep = {
  notify: noop,
  depend: noop,
  addSub: noop,
  removeSub: noop
};
var Observer = function() {
  function Observer2(value, shallow, mock) {
    if (shallow === void 0) {
      shallow = false;
    }
    if (mock === void 0) {
      mock = false;
    }
    this.value = value;
    this.shallow = shallow;
    this.mock = mock;
    this.dep = mock ? mockDep : new Dep();
    this.vmCount = 0;
    def(value, "__ob__", this);
    if (isArray(value)) {
      if (!mock) {
        if (hasProto$1) {
          value.__proto__ = arrayMethods;
        } else {
          for (var i = 0, l = arrayKeys.length; i < l; i++) {
            var key = arrayKeys[i];
            def(value, key, arrayMethods[key]);
          }
        }
      }
      if (!shallow) {
        this.observeArray(value);
      }
    } else {
      var keys = Object.keys(value);
      for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
        defineReactive(value, key, NO_INIITIAL_VALUE, void 0, shallow, mock);
      }
    }
  }
  Observer2.prototype.observeArray = function(value) {
    for (var i = 0, l = value.length; i < l; i++) {
      observe(value[i], false, this.mock);
    }
  };
  return Observer2;
}();
function observe(value, shallow, ssrMockReactivity) {
  if (!isObject(value) || isRef(value) || value instanceof VNode) {
    return;
  }
  var ob;
  if (hasOwn(value, "__ob__") && value.__ob__ instanceof Observer) {
    ob = value.__ob__;
  } else if (shouldObserve && (ssrMockReactivity || !isServerRendering()) && (isArray(value) || isPlainObject(value)) && Object.isExtensible(value) && !value.__v_skip) {
    ob = new Observer(value, shallow, ssrMockReactivity);
  }
  return ob;
}
function defineReactive(obj, key, val, customSetter, shallow, mock) {
  var dep = new Dep();
  var property = Object.getOwnPropertyDescriptor(obj, key);
  if (property && property.configurable === false) {
    return;
  }
  var getter = property && property.get;
  var setter = property && property.set;
  if ((!getter || setter) && (val === NO_INIITIAL_VALUE || arguments.length === 2)) {
    val = obj[key];
  }
  var childOb = !shallow && observe(val, false, mock);
  Object.defineProperty(obj, key, {
    enumerable: true,
    configurable: true,
    get: function reactiveGetter() {
      var value = getter ? getter.call(obj) : val;
      if (Dep.target) {
        {
          dep.depend();
        }
        if (childOb) {
          childOb.dep.depend();
          if (isArray(value)) {
            dependArray(value);
          }
        }
      }
      return isRef(value) && !shallow ? value.value : value;
    },
    set: function reactiveSetter(newVal) {
      var value = getter ? getter.call(obj) : val;
      if (!hasChanged(value, newVal)) {
        return;
      }
      if (setter) {
        setter.call(obj, newVal);
      } else if (getter) {
        return;
      } else if (!shallow && isRef(value) && !isRef(newVal)) {
        value.value = newVal;
        return;
      } else {
        val = newVal;
      }
      childOb = !shallow && observe(newVal, false, mock);
      {
        dep.notify();
      }
    }
  });
  return dep;
}
function set(target2, key, val) {
  if (isReadonly(target2)) {
    return;
  }
  var ob = target2.__ob__;
  if (isArray(target2) && isValidArrayIndex(key)) {
    target2.length = Math.max(target2.length, key);
    target2.splice(key, 1, val);
    if (ob && !ob.shallow && ob.mock) {
      observe(val, false, true);
    }
    return val;
  }
  if (key in target2 && !(key in Object.prototype)) {
    target2[key] = val;
    return val;
  }
  if (target2._isVue || ob && ob.vmCount) {
    return val;
  }
  if (!ob) {
    target2[key] = val;
    return val;
  }
  defineReactive(ob.value, key, val, void 0, ob.shallow, ob.mock);
  {
    ob.dep.notify();
  }
  return val;
}
function del(target2, key) {
  if (isArray(target2) && isValidArrayIndex(key)) {
    target2.splice(key, 1);
    return;
  }
  var ob = target2.__ob__;
  if (target2._isVue || ob && ob.vmCount) {
    return;
  }
  if (isReadonly(target2)) {
    return;
  }
  if (!hasOwn(target2, key)) {
    return;
  }
  delete target2[key];
  if (!ob) {
    return;
  }
  {
    ob.dep.notify();
  }
}
function dependArray(value) {
  for (var e = void 0, i = 0, l = value.length; i < l; i++) {
    e = value[i];
    if (e && e.__ob__) {
      e.__ob__.dep.depend();
    }
    if (isArray(e)) {
      dependArray(e);
    }
  }
}
function reactive(target2) {
  makeReactive(target2, false);
  return target2;
}
function shallowReactive(target2) {
  makeReactive(target2, true);
  def(target2, "__v_isShallow", true);
  return target2;
}
function makeReactive(target2, shallow) {
  if (!isReadonly(target2)) {
    observe(target2, shallow, isServerRendering());
  }
}
function isReactive(value) {
  if (isReadonly(value)) {
    return isReactive(value["__v_raw"]);
  }
  return !!(value && value.__ob__);
}
function isShallow(value) {
  return !!(value && value.__v_isShallow);
}
function isReadonly(value) {
  return !!(value && value.__v_isReadonly);
}
function isProxy(value) {
  return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
  var raw = observed && observed["__v_raw"];
  return raw ? toRaw(raw) : observed;
}
function markRaw(value) {
  def(value, "__v_skip", true);
  return value;
}
var RefFlag = "__v_isRef";
function isRef(r) {
  return !!(r && r.__v_isRef === true);
}
function ref$1(value) {
  return createRef(value, false);
}
function shallowRef(value) {
  return createRef(value, true);
}
function createRef(rawValue, shallow) {
  if (isRef(rawValue)) {
    return rawValue;
  }
  var ref2 = {};
  def(ref2, RefFlag, true);
  def(ref2, "__v_isShallow", shallow);
  def(ref2, "dep", defineReactive(ref2, "value", rawValue, null, shallow, isServerRendering()));
  return ref2;
}
function triggerRef(ref2) {
  {
    ref2.dep && ref2.dep.notify();
  }
}
function unref(ref2) {
  return isRef(ref2) ? ref2.value : ref2;
}
function proxyRefs(objectWithRefs) {
  if (isReactive(objectWithRefs)) {
    return objectWithRefs;
  }
  var proxy2 = {};
  var keys = Object.keys(objectWithRefs);
  for (var i = 0; i < keys.length; i++) {
    proxyWithRefUnwrap(proxy2, objectWithRefs, keys[i]);
  }
  return proxy2;
}
function proxyWithRefUnwrap(target2, source, key) {
  Object.defineProperty(target2, key, {
    enumerable: true,
    configurable: true,
    get: function() {
      var val = source[key];
      if (isRef(val)) {
        return val.value;
      } else {
        var ob = val && val.__ob__;
        if (ob)
          ob.dep.depend();
        return val;
      }
    },
    set: function(value) {
      var oldValue = source[key];
      if (isRef(oldValue) && !isRef(value)) {
        oldValue.value = value;
      } else {
        source[key] = value;
      }
    }
  });
}
function customRef(factory) {
  var dep = new Dep();
  var _a2 = factory(function() {
    {
      dep.depend();
    }
  }, function() {
    {
      dep.notify();
    }
  }), get = _a2.get, set2 = _a2.set;
  var ref2 = {
    get value() {
      return get();
    },
    set value(newVal) {
      set2(newVal);
    }
  };
  def(ref2, RefFlag, true);
  return ref2;
}
function toRefs(object) {
  var ret = isArray(object) ? new Array(object.length) : {};
  for (var key in object) {
    ret[key] = toRef(object, key);
  }
  return ret;
}
function toRef(object, key, defaultValue) {
  var val = object[key];
  if (isRef(val)) {
    return val;
  }
  var ref2 = {
    get value() {
      var val2 = object[key];
      return val2 === void 0 ? defaultValue : val2;
    },
    set value(newVal) {
      object[key] = newVal;
    }
  };
  def(ref2, RefFlag, true);
  return ref2;
}
var rawToReadonlyFlag = "__v_rawToReadonly";
var rawToShallowReadonlyFlag = "__v_rawToShallowReadonly";
function readonly(target2) {
  return createReadonly(target2, false);
}
function createReadonly(target2, shallow) {
  if (!isPlainObject(target2)) {
    return target2;
  }
  if (isReadonly(target2)) {
    return target2;
  }
  var existingFlag = shallow ? rawToShallowReadonlyFlag : rawToReadonlyFlag;
  var existingProxy = target2[existingFlag];
  if (existingProxy) {
    return existingProxy;
  }
  var proxy2 = Object.create(Object.getPrototypeOf(target2));
  def(target2, existingFlag, proxy2);
  def(proxy2, "__v_isReadonly", true);
  def(proxy2, "__v_raw", target2);
  if (isRef(target2)) {
    def(proxy2, RefFlag, true);
  }
  if (shallow || isShallow(target2)) {
    def(proxy2, "__v_isShallow", true);
  }
  var keys = Object.keys(target2);
  for (var i = 0; i < keys.length; i++) {
    defineReadonlyProperty(proxy2, target2, keys[i], shallow);
  }
  return proxy2;
}
function defineReadonlyProperty(proxy2, target2, key, shallow) {
  Object.defineProperty(proxy2, key, {
    enumerable: true,
    configurable: true,
    get: function() {
      var val = target2[key];
      return shallow || !isPlainObject(val) ? val : readonly(val);
    },
    set: function() {
    }
  });
}
function shallowReadonly(target2) {
  return createReadonly(target2, true);
}
function computed(getterOrOptions, debugOptions) {
  var getter;
  var setter;
  var onlyGetter = isFunction(getterOrOptions);
  if (onlyGetter) {
    getter = getterOrOptions;
    setter = noop;
  } else {
    getter = getterOrOptions.get;
    setter = getterOrOptions.set;
  }
  var watcher = isServerRendering() ? null : new Watcher(currentInstance, getter, noop, { lazy: true });
  var ref2 = {
    effect: watcher,
    get value() {
      if (watcher) {
        if (watcher.dirty) {
          watcher.evaluate();
        }
        if (Dep.target) {
          watcher.depend();
        }
        return watcher.value;
      } else {
        return getter();
      }
    },
    set value(newVal) {
      setter(newVal);
    }
  };
  def(ref2, RefFlag, true);
  def(ref2, "__v_isReadonly", onlyGetter);
  return ref2;
}
var normalizeEvent = cached(function(name) {
  var passive = name.charAt(0) === "&";
  name = passive ? name.slice(1) : name;
  var once2 = name.charAt(0) === "~";
  name = once2 ? name.slice(1) : name;
  var capture = name.charAt(0) === "!";
  name = capture ? name.slice(1) : name;
  return {
    name,
    once: once2,
    capture,
    passive
  };
});
function createFnInvoker(fns, vm) {
  function invoker() {
    var fns2 = invoker.fns;
    if (isArray(fns2)) {
      var cloned = fns2.slice();
      for (var i = 0; i < cloned.length; i++) {
        invokeWithErrorHandling(cloned[i], null, arguments, vm, "v-on handler");
      }
    } else {
      return invokeWithErrorHandling(fns2, null, arguments, vm, "v-on handler");
    }
  }
  invoker.fns = fns;
  return invoker;
}
function updateListeners(on2, oldOn, add2, remove2, createOnceHandler2, vm) {
  var name, cur, old, event;
  for (name in on2) {
    cur = on2[name];
    old = oldOn[name];
    event = normalizeEvent(name);
    if (isUndef(cur))
      ;
    else if (isUndef(old)) {
      if (isUndef(cur.fns)) {
        cur = on2[name] = createFnInvoker(cur, vm);
      }
      if (isTrue(event.once)) {
        cur = on2[name] = createOnceHandler2(event.name, cur, event.capture);
      }
      add2(event.name, cur, event.capture, event.passive, event.params);
    } else if (cur !== old) {
      old.fns = cur;
      on2[name] = old;
    }
  }
  for (name in oldOn) {
    if (isUndef(on2[name])) {
      event = normalizeEvent(name);
      remove2(event.name, oldOn[name], event.capture);
    }
  }
}
function mergeVNodeHook(def2, hookKey, hook) {
  if (def2 instanceof VNode) {
    def2 = def2.data.hook || (def2.data.hook = {});
  }
  var invoker;
  var oldHook = def2[hookKey];
  function wrappedHook() {
    hook.apply(this, arguments);
    remove$2(invoker.fns, wrappedHook);
  }
  if (isUndef(oldHook)) {
    invoker = createFnInvoker([wrappedHook]);
  } else {
    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {
      invoker = oldHook;
      invoker.fns.push(wrappedHook);
    } else {
      invoker = createFnInvoker([oldHook, wrappedHook]);
    }
  }
  invoker.merged = true;
  def2[hookKey] = invoker;
}
function extractPropsFromVNodeData(data, Ctor, tag) {
  var propOptions = Ctor.options.props;
  if (isUndef(propOptions)) {
    return;
  }
  var res = {};
  var attrs2 = data.attrs, props2 = data.props;
  if (isDef(attrs2) || isDef(props2)) {
    for (var key in propOptions) {
      var altKey = hyphenate(key);
      checkProp(res, props2, key, altKey, true) || checkProp(res, attrs2, key, altKey, false);
    }
  }
  return res;
}
function checkProp(res, hash2, key, altKey, preserve) {
  if (isDef(hash2)) {
    if (hasOwn(hash2, key)) {
      res[key] = hash2[key];
      if (!preserve) {
        delete hash2[key];
      }
      return true;
    } else if (hasOwn(hash2, altKey)) {
      res[key] = hash2[altKey];
      if (!preserve) {
        delete hash2[altKey];
      }
      return true;
    }
  }
  return false;
}
function simpleNormalizeChildren(children) {
  for (var i = 0; i < children.length; i++) {
    if (isArray(children[i])) {
      return Array.prototype.concat.apply([], children);
    }
  }
  return children;
}
function normalizeChildren(children) {
  return isPrimitive$1(children) ? [createTextVNode(children)] : isArray(children) ? normalizeArrayChildren(children) : void 0;
}
function isTextNode(node) {
  return isDef(node) && isDef(node.text) && isFalse(node.isComment);
}
function normalizeArrayChildren(children, nestedIndex) {
  var res = [];
  var i, c, lastIndex, last;
  for (i = 0; i < children.length; i++) {
    c = children[i];
    if (isUndef(c) || typeof c === "boolean")
      continue;
    lastIndex = res.length - 1;
    last = res[lastIndex];
    if (isArray(c)) {
      if (c.length > 0) {
        c = normalizeArrayChildren(c, "".concat(nestedIndex || "", "_").concat(i));
        if (isTextNode(c[0]) && isTextNode(last)) {
          res[lastIndex] = createTextVNode(last.text + c[0].text);
          c.shift();
        }
        res.push.apply(res, c);
      }
    } else if (isPrimitive$1(c)) {
      if (isTextNode(last)) {
        res[lastIndex] = createTextVNode(last.text + c);
      } else if (c !== "") {
        res.push(createTextVNode(c));
      }
    } else {
      if (isTextNode(c) && isTextNode(last)) {
        res[lastIndex] = createTextVNode(last.text + c.text);
      } else {
        if (isTrue(children._isVList) && isDef(c.tag) && isUndef(c.key) && isDef(nestedIndex)) {
          c.key = "__vlist".concat(nestedIndex, "_").concat(i, "__");
        }
        res.push(c);
      }
    }
  }
  return res;
}
var SIMPLE_NORMALIZE = 1;
var ALWAYS_NORMALIZE = 2;
function createElement$1(context, tag, data, children, normalizationType, alwaysNormalize) {
  if (isArray(data) || isPrimitive$1(data)) {
    normalizationType = children;
    children = data;
    data = void 0;
  }
  if (isTrue(alwaysNormalize)) {
    normalizationType = ALWAYS_NORMALIZE;
  }
  return _createElement(context, tag, data, children, normalizationType);
}
function _createElement(context, tag, data, children, normalizationType) {
  if (isDef(data) && isDef(data.__ob__)) {
    return createEmptyVNode();
  }
  if (isDef(data) && isDef(data.is)) {
    tag = data.is;
  }
  if (!tag) {
    return createEmptyVNode();
  }
  if (isArray(children) && isFunction(children[0])) {
    data = data || {};
    data.scopedSlots = { default: children[0] };
    children.length = 0;
  }
  if (normalizationType === ALWAYS_NORMALIZE) {
    children = normalizeChildren(children);
  } else if (normalizationType === SIMPLE_NORMALIZE) {
    children = simpleNormalizeChildren(children);
  }
  var vnode, ns;
  if (typeof tag === "string") {
    var Ctor = void 0;
    ns = context.$vnode && context.$vnode.ns || config.getTagNamespace(tag);
    if (config.isReservedTag(tag)) {
      vnode = new VNode(config.parsePlatformTagName(tag), data, children, void 0, void 0, context);
    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, "components", tag))) {
      vnode = createComponent(Ctor, data, context, children, tag);
    } else {
      vnode = new VNode(tag, data, children, void 0, void 0, context);
    }
  } else {
    vnode = createComponent(tag, data, context, children);
  }
  if (isArray(vnode)) {
    return vnode;
  } else if (isDef(vnode)) {
    if (isDef(ns))
      applyNS(vnode, ns);
    if (isDef(data))
      registerDeepBindings(data);
    return vnode;
  } else {
    return createEmptyVNode();
  }
}
function applyNS(vnode, ns, force) {
  vnode.ns = ns;
  if (vnode.tag === "foreignObject") {
    ns = void 0;
    force = true;
  }
  if (isDef(vnode.children)) {
    for (var i = 0, l = vnode.children.length; i < l; i++) {
      var child = vnode.children[i];
      if (isDef(child.tag) && (isUndef(child.ns) || isTrue(force) && child.tag !== "svg")) {
        applyNS(child, ns, force);
      }
    }
  }
}
function registerDeepBindings(data) {
  if (isObject(data.style)) {
    traverse(data.style);
  }
  if (isObject(data.class)) {
    traverse(data.class);
  }
}
function renderList(val, render2) {
  var ret = null, i, l, keys, key;
  if (isArray(val) || typeof val === "string") {
    ret = new Array(val.length);
    for (i = 0, l = val.length; i < l; i++) {
      ret[i] = render2(val[i], i);
    }
  } else if (typeof val === "number") {
    ret = new Array(val);
    for (i = 0; i < val; i++) {
      ret[i] = render2(i + 1, i);
    }
  } else if (isObject(val)) {
    if (hasSymbol && val[Symbol.iterator]) {
      ret = [];
      var iterator = val[Symbol.iterator]();
      var result = iterator.next();
      while (!result.done) {
        ret.push(render2(result.value, ret.length));
        result = iterator.next();
      }
    } else {
      keys = Object.keys(val);
      ret = new Array(keys.length);
      for (i = 0, l = keys.length; i < l; i++) {
        key = keys[i];
        ret[i] = render2(val[key], key, i);
      }
    }
  }
  if (!isDef(ret)) {
    ret = [];
  }
  ret._isVList = true;
  return ret;
}
function renderSlot(name, fallbackRender, props2, bindObject) {
  var scopedSlotFn = this.$scopedSlots[name];
  var nodes;
  if (scopedSlotFn) {
    props2 = props2 || {};
    if (bindObject) {
      props2 = extend(extend({}, bindObject), props2);
    }
    nodes = scopedSlotFn(props2) || (isFunction(fallbackRender) ? fallbackRender() : fallbackRender);
  } else {
    nodes = this.$slots[name] || (isFunction(fallbackRender) ? fallbackRender() : fallbackRender);
  }
  var target2 = props2 && props2.slot;
  if (target2) {
    return this.$createElement("template", { slot: target2 }, nodes);
  } else {
    return nodes;
  }
}
function resolveFilter(id) {
  return resolveAsset(this.$options, "filters", id) || identity;
}
function isKeyNotMatch(expect, actual) {
  if (isArray(expect)) {
    return expect.indexOf(actual) === -1;
  } else {
    return expect !== actual;
  }
}
function checkKeyCodes(eventKeyCode, key, builtInKeyCode, eventKeyName, builtInKeyName) {
  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;
  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {
    return isKeyNotMatch(builtInKeyName, eventKeyName);
  } else if (mappedKeyCode) {
    return isKeyNotMatch(mappedKeyCode, eventKeyCode);
  } else if (eventKeyName) {
    return hyphenate(eventKeyName) !== key;
  }
  return eventKeyCode === void 0;
}
function bindObjectProps(data, tag, value, asProp, isSync) {
  if (value) {
    if (!isObject(value))
      ;
    else {
      if (isArray(value)) {
        value = toObject(value);
      }
      var hash2 = void 0;
      var _loop_1 = function(key2) {
        if (key2 === "class" || key2 === "style" || isReservedAttribute(key2)) {
          hash2 = data;
        } else {
          var type = data.attrs && data.attrs.type;
          hash2 = asProp || config.mustUseProp(tag, type, key2) ? data.domProps || (data.domProps = {}) : data.attrs || (data.attrs = {});
        }
        var camelizedKey = camelize(key2);
        var hyphenatedKey = hyphenate(key2);
        if (!(camelizedKey in hash2) && !(hyphenatedKey in hash2)) {
          hash2[key2] = value[key2];
          if (isSync) {
            var on2 = data.on || (data.on = {});
            on2["update:".concat(key2)] = function($event) {
              value[key2] = $event;
            };
          }
        }
      };
      for (var key in value) {
        _loop_1(key);
      }
    }
  }
  return data;
}
function renderStatic(index2, isInFor) {
  var cached2 = this._staticTrees || (this._staticTrees = []);
  var tree = cached2[index2];
  if (tree && !isInFor) {
    return tree;
  }
  tree = cached2[index2] = this.$options.staticRenderFns[index2].call(
    this._renderProxy,
    this._c,
    this
  );
  markStatic$1(tree, "__static__".concat(index2), false);
  return tree;
}
function markOnce(tree, index2, key) {
  markStatic$1(tree, "__once__".concat(index2).concat(key ? "_".concat(key) : ""), true);
  return tree;
}
function markStatic$1(tree, key, isOnce) {
  if (isArray(tree)) {
    for (var i = 0; i < tree.length; i++) {
      if (tree[i] && typeof tree[i] !== "string") {
        markStaticNode(tree[i], "".concat(key, "_").concat(i), isOnce);
      }
    }
  } else {
    markStaticNode(tree, key, isOnce);
  }
}
function markStaticNode(node, key, isOnce) {
  node.isStatic = true;
  node.key = key;
  node.isOnce = isOnce;
}
function bindObjectListeners(data, value) {
  if (value) {
    if (!isPlainObject(value))
      ;
    else {
      var on2 = data.on = data.on ? extend({}, data.on) : {};
      for (var key in value) {
        var existing = on2[key];
        var ours = value[key];
        on2[key] = existing ? [].concat(existing, ours) : ours;
      }
    }
  }
  return data;
}
function resolveScopedSlots(fns, res, hasDynamicKeys, contentHashKey) {
  res = res || { $stable: !hasDynamicKeys };
  for (var i = 0; i < fns.length; i++) {
    var slot = fns[i];
    if (isArray(slot)) {
      resolveScopedSlots(slot, res, hasDynamicKeys);
    } else if (slot) {
      if (slot.proxy) {
        slot.fn.proxy = true;
      }
      res[slot.key] = slot.fn;
    }
  }
  if (contentHashKey) {
    res.$key = contentHashKey;
  }
  return res;
}
function bindDynamicKeys(baseObj, values) {
  for (var i = 0; i < values.length; i += 2) {
    var key = values[i];
    if (typeof key === "string" && key) {
      baseObj[values[i]] = values[i + 1];
    }
  }
  return baseObj;
}
function prependModifier(value, symbol) {
  return typeof value === "string" ? symbol + value : value;
}
function installRenderHelpers(target2) {
  target2._o = markOnce;
  target2._n = toNumber;
  target2._s = toString;
  target2._l = renderList;
  target2._t = renderSlot;
  target2._q = looseEqual;
  target2._i = looseIndexOf;
  target2._m = renderStatic;
  target2._f = resolveFilter;
  target2._k = checkKeyCodes;
  target2._b = bindObjectProps;
  target2._v = createTextVNode;
  target2._e = createEmptyVNode;
  target2._u = resolveScopedSlots;
  target2._g = bindObjectListeners;
  target2._d = bindDynamicKeys;
  target2._p = prependModifier;
}
function resolveSlots(children, context) {
  if (!children || !children.length) {
    return {};
  }
  var slots = {};
  for (var i = 0, l = children.length; i < l; i++) {
    var child = children[i];
    var data = child.data;
    if (data && data.attrs && data.attrs.slot) {
      delete data.attrs.slot;
    }
    if ((child.context === context || child.fnContext === context) && data && data.slot != null) {
      var name_1 = data.slot;
      var slot = slots[name_1] || (slots[name_1] = []);
      if (child.tag === "template") {
        slot.push.apply(slot, child.children || []);
      } else {
        slot.push(child);
      }
    } else {
      (slots.default || (slots.default = [])).push(child);
    }
  }
  for (var name_2 in slots) {
    if (slots[name_2].every(isWhitespace)) {
      delete slots[name_2];
    }
  }
  return slots;
}
function isWhitespace(node) {
  return node.isComment && !node.asyncFactory || node.text === " ";
}
function isAsyncPlaceholder(node) {
  return node.isComment && node.asyncFactory;
}
function normalizeScopedSlots(ownerVm, scopedSlots, normalSlots, prevScopedSlots) {
  var res;
  var hasNormalSlots = Object.keys(normalSlots).length > 0;
  var isStable = scopedSlots ? !!scopedSlots.$stable : !hasNormalSlots;
  var key = scopedSlots && scopedSlots.$key;
  if (!scopedSlots) {
    res = {};
  } else if (scopedSlots._normalized) {
    return scopedSlots._normalized;
  } else if (isStable && prevScopedSlots && prevScopedSlots !== emptyObject && key === prevScopedSlots.$key && !hasNormalSlots && !prevScopedSlots.$hasNormal) {
    return prevScopedSlots;
  } else {
    res = {};
    for (var key_1 in scopedSlots) {
      if (scopedSlots[key_1] && key_1[0] !== "$") {
        res[key_1] = normalizeScopedSlot(ownerVm, normalSlots, key_1, scopedSlots[key_1]);
      }
    }
  }
  for (var key_2 in normalSlots) {
    if (!(key_2 in res)) {
      res[key_2] = proxyNormalSlot(normalSlots, key_2);
    }
  }
  if (scopedSlots && Object.isExtensible(scopedSlots)) {
    scopedSlots._normalized = res;
  }
  def(res, "$stable", isStable);
  def(res, "$key", key);
  def(res, "$hasNormal", hasNormalSlots);
  return res;
}
function normalizeScopedSlot(vm, normalSlots, key, fn) {
  var normalized = function() {
    var cur = currentInstance;
    setCurrentInstance(vm);
    var res = arguments.length ? fn.apply(null, arguments) : fn({});
    res = res && typeof res === "object" && !isArray(res) ? [res] : normalizeChildren(res);
    var vnode = res && res[0];
    setCurrentInstance(cur);
    return res && (!vnode || res.length === 1 && vnode.isComment && !isAsyncPlaceholder(vnode)) ? void 0 : res;
  };
  if (fn.proxy) {
    Object.defineProperty(normalSlots, key, {
      get: normalized,
      enumerable: true,
      configurable: true
    });
  }
  return normalized;
}
function proxyNormalSlot(slots, key) {
  return function() {
    return slots[key];
  };
}
function initSetup(vm) {
  var options = vm.$options;
  var setup = options.setup;
  if (setup) {
    var ctx = vm._setupContext = createSetupContext(vm);
    setCurrentInstance(vm);
    pushTarget();
    var setupResult = invokeWithErrorHandling(setup, null, [vm._props || shallowReactive({}), ctx], vm, "setup");
    popTarget();
    setCurrentInstance();
    if (isFunction(setupResult)) {
      options.render = setupResult;
    } else if (isObject(setupResult)) {
      vm._setupState = setupResult;
      if (!setupResult.__sfc) {
        for (var key in setupResult) {
          if (!isReserved(key)) {
            proxyWithRefUnwrap(vm, setupResult, key);
          }
        }
      } else {
        var proxy2 = vm._setupProxy = {};
        for (var key in setupResult) {
          if (key !== "__sfc") {
            proxyWithRefUnwrap(proxy2, setupResult, key);
          }
        }
      }
    } else
      ;
  }
}
function createSetupContext(vm) {
  return {
    get attrs() {
      if (!vm._attrsProxy) {
        var proxy2 = vm._attrsProxy = {};
        def(proxy2, "_v_attr_proxy", true);
        syncSetupProxy(proxy2, vm.$attrs, emptyObject, vm, "$attrs");
      }
      return vm._attrsProxy;
    },
    get listeners() {
      if (!vm._listenersProxy) {
        var proxy2 = vm._listenersProxy = {};
        syncSetupProxy(proxy2, vm.$listeners, emptyObject, vm, "$listeners");
      }
      return vm._listenersProxy;
    },
    get slots() {
      return initSlotsProxy(vm);
    },
    emit: bind$1(vm.$emit, vm),
    expose: function(exposed) {
      if (exposed) {
        Object.keys(exposed).forEach(function(key) {
          return proxyWithRefUnwrap(vm, exposed, key);
        });
      }
    }
  };
}
function syncSetupProxy(to, from, prev, instance, type) {
  var changed = false;
  for (var key in from) {
    if (!(key in to)) {
      changed = true;
      defineProxyAttr(to, key, instance, type);
    } else if (from[key] !== prev[key]) {
      changed = true;
    }
  }
  for (var key in to) {
    if (!(key in from)) {
      changed = true;
      delete to[key];
    }
  }
  return changed;
}
function defineProxyAttr(proxy2, key, instance, type) {
  Object.defineProperty(proxy2, key, {
    enumerable: true,
    configurable: true,
    get: function() {
      return instance[type][key];
    }
  });
}
function initSlotsProxy(vm) {
  if (!vm._slotsProxy) {
    syncSetupSlots(vm._slotsProxy = {}, vm.$scopedSlots);
  }
  return vm._slotsProxy;
}
function syncSetupSlots(to, from) {
  for (var key in from) {
    to[key] = from[key];
  }
  for (var key in to) {
    if (!(key in from)) {
      delete to[key];
    }
  }
}
function useSlots() {
  return getContext().slots;
}
function useAttrs() {
  return getContext().attrs;
}
function useListeners() {
  return getContext().listeners;
}
function getContext() {
  var vm = currentInstance;
  return vm._setupContext || (vm._setupContext = createSetupContext(vm));
}
function mergeDefaults(raw, defaults) {
  var props2 = isArray(raw) ? raw.reduce(function(normalized, p2) {
    return normalized[p2] = {}, normalized;
  }, {}) : raw;
  for (var key in defaults) {
    var opt = props2[key];
    if (opt) {
      if (isArray(opt) || isFunction(opt)) {
        props2[key] = { type: opt, default: defaults[key] };
      } else {
        opt.default = defaults[key];
      }
    } else if (opt === null) {
      props2[key] = { default: defaults[key] };
    } else
      ;
  }
  return props2;
}
function initRender(vm) {
  vm._vnode = null;
  vm._staticTrees = null;
  var options = vm.$options;
  var parentVnode = vm.$vnode = options._parentVnode;
  var renderContext = parentVnode && parentVnode.context;
  vm.$slots = resolveSlots(options._renderChildren, renderContext);
  vm.$scopedSlots = parentVnode ? normalizeScopedSlots(vm.$parent, parentVnode.data.scopedSlots, vm.$slots) : emptyObject;
  vm._c = function(a, b, c, d) {
    return createElement$1(vm, a, b, c, d, false);
  };
  vm.$createElement = function(a, b, c, d) {
    return createElement$1(vm, a, b, c, d, true);
  };
  var parentData = parentVnode && parentVnode.data;
  {
    defineReactive(vm, "$attrs", parentData && parentData.attrs || emptyObject, null, true);
    defineReactive(vm, "$listeners", options._parentListeners || emptyObject, null, true);
  }
}
var currentRenderingInstance = null;
function renderMixin(Vue2) {
  installRenderHelpers(Vue2.prototype);
  Vue2.prototype.$nextTick = function(fn) {
    return nextTick(fn, this);
  };
  Vue2.prototype._render = function() {
    var vm = this;
    var _a2 = vm.$options, render2 = _a2.render, _parentVnode = _a2._parentVnode;
    if (_parentVnode && vm._isMounted) {
      vm.$scopedSlots = normalizeScopedSlots(vm.$parent, _parentVnode.data.scopedSlots, vm.$slots, vm.$scopedSlots);
      if (vm._slotsProxy) {
        syncSetupSlots(vm._slotsProxy, vm.$scopedSlots);
      }
    }
    vm.$vnode = _parentVnode;
    var vnode;
    try {
      setCurrentInstance(vm);
      currentRenderingInstance = vm;
      vnode = render2.call(vm._renderProxy, vm.$createElement);
    } catch (e) {
      handleError(e, vm, "render");
      {
        vnode = vm._vnode;
      }
    } finally {
      currentRenderingInstance = null;
      setCurrentInstance();
    }
    if (isArray(vnode) && vnode.length === 1) {
      vnode = vnode[0];
    }
    if (!(vnode instanceof VNode)) {
      vnode = createEmptyVNode();
    }
    vnode.parent = _parentVnode;
    return vnode;
  };
}
function ensureCtor(comp, base) {
  if (comp.__esModule || hasSymbol && comp[Symbol.toStringTag] === "Module") {
    comp = comp.default;
  }
  return isObject(comp) ? base.extend(comp) : comp;
}
function createAsyncPlaceholder(factory, data, context, children, tag) {
  var node = createEmptyVNode();
  node.asyncFactory = factory;
  node.asyncMeta = { data, context, children, tag };
  return node;
}
function resolveAsyncComponent(factory, baseCtor) {
  if (isTrue(factory.error) && isDef(factory.errorComp)) {
    return factory.errorComp;
  }
  if (isDef(factory.resolved)) {
    return factory.resolved;
  }
  var owner = currentRenderingInstance;
  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {
    factory.owners.push(owner);
  }
  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {
    return factory.loadingComp;
  }
  if (owner && !isDef(factory.owners)) {
    var owners_1 = factory.owners = [owner];
    var sync_1 = true;
    var timerLoading_1 = null;
    var timerTimeout_1 = null;
    owner.$on("hook:destroyed", function() {
      return remove$2(owners_1, owner);
    });
    var forceRender_1 = function(renderCompleted) {
      for (var i = 0, l = owners_1.length; i < l; i++) {
        owners_1[i].$forceUpdate();
      }
      if (renderCompleted) {
        owners_1.length = 0;
        if (timerLoading_1 !== null) {
          clearTimeout(timerLoading_1);
          timerLoading_1 = null;
        }
        if (timerTimeout_1 !== null) {
          clearTimeout(timerTimeout_1);
          timerTimeout_1 = null;
        }
      }
    };
    var resolve = once(function(res) {
      factory.resolved = ensureCtor(res, baseCtor);
      if (!sync_1) {
        forceRender_1(true);
      } else {
        owners_1.length = 0;
      }
    });
    var reject_1 = once(function(reason) {
      if (isDef(factory.errorComp)) {
        factory.error = true;
        forceRender_1(true);
      }
    });
    var res_1 = factory(resolve, reject_1);
    if (isObject(res_1)) {
      if (isPromise(res_1)) {
        if (isUndef(factory.resolved)) {
          res_1.then(resolve, reject_1);
        }
      } else if (isPromise(res_1.component)) {
        res_1.component.then(resolve, reject_1);
        if (isDef(res_1.error)) {
          factory.errorComp = ensureCtor(res_1.error, baseCtor);
        }
        if (isDef(res_1.loading)) {
          factory.loadingComp = ensureCtor(res_1.loading, baseCtor);
          if (res_1.delay === 0) {
            factory.loading = true;
          } else {
            timerLoading_1 = setTimeout(function() {
              timerLoading_1 = null;
              if (isUndef(factory.resolved) && isUndef(factory.error)) {
                factory.loading = true;
                forceRender_1(false);
              }
            }, res_1.delay || 200);
          }
        }
        if (isDef(res_1.timeout)) {
          timerTimeout_1 = setTimeout(function() {
            timerTimeout_1 = null;
            if (isUndef(factory.resolved)) {
              reject_1(null);
            }
          }, res_1.timeout);
        }
      }
    }
    sync_1 = false;
    return factory.loading ? factory.loadingComp : factory.resolved;
  }
}
function getFirstComponentChild(children) {
  if (isArray(children)) {
    for (var i = 0; i < children.length; i++) {
      var c = children[i];
      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {
        return c;
      }
    }
  }
}
function initEvents(vm) {
  vm._events = /* @__PURE__ */ Object.create(null);
  vm._hasHookEvent = false;
  var listeners = vm.$options._parentListeners;
  if (listeners) {
    updateComponentListeners(vm, listeners);
  }
}
var target$1;
function add$1(event, fn) {
  target$1.$on(event, fn);
}
function remove$1(event, fn) {
  target$1.$off(event, fn);
}
function createOnceHandler$1(event, fn) {
  var _target = target$1;
  return function onceHandler() {
    var res = fn.apply(null, arguments);
    if (res !== null) {
      _target.$off(event, onceHandler);
    }
  };
}
function updateComponentListeners(vm, listeners, oldListeners) {
  target$1 = vm;
  updateListeners(listeners, oldListeners || {}, add$1, remove$1, createOnceHandler$1, vm);
  target$1 = void 0;
}
function eventsMixin(Vue2) {
  var hookRE = /^hook:/;
  Vue2.prototype.$on = function(event, fn) {
    var vm = this;
    if (isArray(event)) {
      for (var i = 0, l = event.length; i < l; i++) {
        vm.$on(event[i], fn);
      }
    } else {
      (vm._events[event] || (vm._events[event] = [])).push(fn);
      if (hookRE.test(event)) {
        vm._hasHookEvent = true;
      }
    }
    return vm;
  };
  Vue2.prototype.$once = function(event, fn) {
    var vm = this;
    function on2() {
      vm.$off(event, on2);
      fn.apply(vm, arguments);
    }
    on2.fn = fn;
    vm.$on(event, on2);
    return vm;
  };
  Vue2.prototype.$off = function(event, fn) {
    var vm = this;
    if (!arguments.length) {
      vm._events = /* @__PURE__ */ Object.create(null);
      return vm;
    }
    if (isArray(event)) {
      for (var i_1 = 0, l = event.length; i_1 < l; i_1++) {
        vm.$off(event[i_1], fn);
      }
      return vm;
    }
    var cbs = vm._events[event];
    if (!cbs) {
      return vm;
    }
    if (!fn) {
      vm._events[event] = null;
      return vm;
    }
    var cb;
    var i = cbs.length;
    while (i--) {
      cb = cbs[i];
      if (cb === fn || cb.fn === fn) {
        cbs.splice(i, 1);
        break;
      }
    }
    return vm;
  };
  Vue2.prototype.$emit = function(event) {
    var vm = this;
    var cbs = vm._events[event];
    if (cbs) {
      cbs = cbs.length > 1 ? toArray(cbs) : cbs;
      var args = toArray(arguments, 1);
      var info = 'event handler for "'.concat(event, '"');
      for (var i = 0, l = cbs.length; i < l; i++) {
        invokeWithErrorHandling(cbs[i], vm, args, vm, info);
      }
    }
    return vm;
  };
}
var activeInstance = null;
function setActiveInstance(vm) {
  var prevActiveInstance = activeInstance;
  activeInstance = vm;
  return function() {
    activeInstance = prevActiveInstance;
  };
}
function initLifecycle(vm) {
  var options = vm.$options;
  var parent = options.parent;
  if (parent && !options.abstract) {
    while (parent.$options.abstract && parent.$parent) {
      parent = parent.$parent;
    }
    parent.$children.push(vm);
  }
  vm.$parent = parent;
  vm.$root = parent ? parent.$root : vm;
  vm.$children = [];
  vm.$refs = {};
  vm._provided = parent ? parent._provided : /* @__PURE__ */ Object.create(null);
  vm._watcher = null;
  vm._inactive = null;
  vm._directInactive = false;
  vm._isMounted = false;
  vm._isDestroyed = false;
  vm._isBeingDestroyed = false;
}
function lifecycleMixin(Vue2) {
  Vue2.prototype._update = function(vnode, hydrating) {
    var vm = this;
    var prevEl = vm.$el;
    var prevVnode = vm._vnode;
    var restoreActiveInstance = setActiveInstance(vm);
    vm._vnode = vnode;
    if (!prevVnode) {
      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false);
    } else {
      vm.$el = vm.__patch__(prevVnode, vnode);
    }
    restoreActiveInstance();
    if (prevEl) {
      prevEl.__vue__ = null;
    }
    if (vm.$el) {
      vm.$el.__vue__ = vm;
    }
    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {
      vm.$parent.$el = vm.$el;
    }
  };
  Vue2.prototype.$forceUpdate = function() {
    var vm = this;
    if (vm._watcher) {
      vm._watcher.update();
    }
  };
  Vue2.prototype.$destroy = function() {
    var vm = this;
    if (vm._isBeingDestroyed) {
      return;
    }
    callHook$1(vm, "beforeDestroy");
    vm._isBeingDestroyed = true;
    var parent = vm.$parent;
    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {
      remove$2(parent.$children, vm);
    }
    vm._scope.stop();
    if (vm._data.__ob__) {
      vm._data.__ob__.vmCount--;
    }
    vm._isDestroyed = true;
    vm.__patch__(vm._vnode, null);
    callHook$1(vm, "destroyed");
    vm.$off();
    if (vm.$el) {
      vm.$el.__vue__ = null;
    }
    if (vm.$vnode) {
      vm.$vnode.parent = null;
    }
  };
}
function mountComponent(vm, el, hydrating) {
  vm.$el = el;
  if (!vm.$options.render) {
    vm.$options.render = createEmptyVNode;
  }
  callHook$1(vm, "beforeMount");
  var updateComponent;
  {
    updateComponent = function() {
      vm._update(vm._render(), hydrating);
    };
  }
  var watcherOptions = {
    before: function() {
      if (vm._isMounted && !vm._isDestroyed) {
        callHook$1(vm, "beforeUpdate");
      }
    }
  };
  new Watcher(vm, updateComponent, noop, watcherOptions, true);
  hydrating = false;
  var preWatchers = vm._preWatchers;
  if (preWatchers) {
    for (var i = 0; i < preWatchers.length; i++) {
      preWatchers[i].run();
    }
  }
  if (vm.$vnode == null) {
    vm._isMounted = true;
    callHook$1(vm, "mounted");
  }
  return vm;
}
function updateChildComponent(vm, propsData, listeners, parentVnode, renderChildren) {
  var newScopedSlots = parentVnode.data.scopedSlots;
  var oldScopedSlots = vm.$scopedSlots;
  var hasDynamicScopedSlot = !!(newScopedSlots && !newScopedSlots.$stable || oldScopedSlots !== emptyObject && !oldScopedSlots.$stable || newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key || !newScopedSlots && vm.$scopedSlots.$key);
  var needsForceUpdate = !!(renderChildren || vm.$options._renderChildren || hasDynamicScopedSlot);
  var prevVNode = vm.$vnode;
  vm.$options._parentVnode = parentVnode;
  vm.$vnode = parentVnode;
  if (vm._vnode) {
    vm._vnode.parent = parentVnode;
  }
  vm.$options._renderChildren = renderChildren;
  var attrs2 = parentVnode.data.attrs || emptyObject;
  if (vm._attrsProxy) {
    if (syncSetupProxy(vm._attrsProxy, attrs2, prevVNode.data && prevVNode.data.attrs || emptyObject, vm, "$attrs")) {
      needsForceUpdate = true;
    }
  }
  vm.$attrs = attrs2;
  listeners = listeners || emptyObject;
  var prevListeners = vm.$options._parentListeners;
  if (vm._listenersProxy) {
    syncSetupProxy(vm._listenersProxy, listeners, prevListeners || emptyObject, vm, "$listeners");
  }
  vm.$listeners = vm.$options._parentListeners = listeners;
  updateComponentListeners(vm, listeners, prevListeners);
  if (propsData && vm.$options.props) {
    toggleObserving(false);
    var props2 = vm._props;
    var propKeys = vm.$options._propKeys || [];
    for (var i = 0; i < propKeys.length; i++) {
      var key = propKeys[i];
      var propOptions = vm.$options.props;
      props2[key] = validateProp(key, propOptions, propsData, vm);
    }
    toggleObserving(true);
    vm.$options.propsData = propsData;
  }
  if (needsForceUpdate) {
    vm.$slots = resolveSlots(renderChildren, parentVnode.context);
    vm.$forceUpdate();
  }
}
function isInInactiveTree(vm) {
  while (vm && (vm = vm.$parent)) {
    if (vm._inactive)
      return true;
  }
  return false;
}
function activateChildComponent(vm, direct) {
  if (direct) {
    vm._directInactive = false;
    if (isInInactiveTree(vm)) {
      return;
    }
  } else if (vm._directInactive) {
    return;
  }
  if (vm._inactive || vm._inactive === null) {
    vm._inactive = false;
    for (var i = 0; i < vm.$children.length; i++) {
      activateChildComponent(vm.$children[i]);
    }
    callHook$1(vm, "activated");
  }
}
function deactivateChildComponent(vm, direct) {
  if (direct) {
    vm._directInactive = true;
    if (isInInactiveTree(vm)) {
      return;
    }
  }
  if (!vm._inactive) {
    vm._inactive = true;
    for (var i = 0; i < vm.$children.length; i++) {
      deactivateChildComponent(vm.$children[i]);
    }
    callHook$1(vm, "deactivated");
  }
}
function callHook$1(vm, hook, args, setContext) {
  if (setContext === void 0) {
    setContext = true;
  }
  pushTarget();
  var prev = currentInstance;
  setContext && setCurrentInstance(vm);
  var handlers = vm.$options[hook];
  var info = "".concat(hook, " hook");
  if (handlers) {
    for (var i = 0, j = handlers.length; i < j; i++) {
      invokeWithErrorHandling(handlers[i], vm, args || null, vm, info);
    }
  }
  if (vm._hasHookEvent) {
    vm.$emit("hook:" + hook);
  }
  setContext && setCurrentInstance(prev);
  popTarget();
}
var queue = [];
var activatedChildren = [];
var has = {};
var waiting = false;
var flushing = false;
var index$1 = 0;
function resetSchedulerState() {
  index$1 = queue.length = activatedChildren.length = 0;
  has = {};
  waiting = flushing = false;
}
var currentFlushTimestamp = 0;
var getNow = Date.now;
if (inBrowser && !isIE) {
  var performance_1 = window.performance;
  if (performance_1 && typeof performance_1.now === "function" && getNow() > document.createEvent("Event").timeStamp) {
    getNow = function() {
      return performance_1.now();
    };
  }
}
var sortCompareFn = function(a, b) {
  if (a.post) {
    if (!b.post)
      return 1;
  } else if (b.post) {
    return -1;
  }
  return a.id - b.id;
};
function flushSchedulerQueue() {
  currentFlushTimestamp = getNow();
  flushing = true;
  var watcher, id;
  queue.sort(sortCompareFn);
  for (index$1 = 0; index$1 < queue.length; index$1++) {
    watcher = queue[index$1];
    if (watcher.before) {
      watcher.before();
    }
    id = watcher.id;
    has[id] = null;
    watcher.run();
  }
  var activatedQueue = activatedChildren.slice();
  var updatedQueue = queue.slice();
  resetSchedulerState();
  callActivatedHooks(activatedQueue);
  callUpdatedHooks(updatedQueue);
  if (devtools && config.devtools) {
    devtools.emit("flush");
  }
}
function callUpdatedHooks(queue2) {
  var i = queue2.length;
  while (i--) {
    var watcher = queue2[i];
    var vm = watcher.vm;
    if (vm && vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {
      callHook$1(vm, "updated");
    }
  }
}
function queueActivatedComponent(vm) {
  vm._inactive = false;
  activatedChildren.push(vm);
}
function callActivatedHooks(queue2) {
  for (var i = 0; i < queue2.length; i++) {
    queue2[i]._inactive = true;
    activateChildComponent(queue2[i], true);
  }
}
function queueWatcher(watcher) {
  var id = watcher.id;
  if (has[id] != null) {
    return;
  }
  if (watcher === Dep.target && watcher.noRecurse) {
    return;
  }
  has[id] = true;
  if (!flushing) {
    queue.push(watcher);
  } else {
    var i = queue.length - 1;
    while (i > index$1 && queue[i].id > watcher.id) {
      i--;
    }
    queue.splice(i + 1, 0, watcher);
  }
  if (!waiting) {
    waiting = true;
    nextTick(flushSchedulerQueue);
  }
}
var WATCHER = "watcher";
var WATCHER_CB = "".concat(WATCHER, " callback");
var WATCHER_GETTER = "".concat(WATCHER, " getter");
var WATCHER_CLEANUP = "".concat(WATCHER, " cleanup");
function watchEffect(effect, options) {
  return doWatch(effect, null, options);
}
function watchPostEffect(effect, options) {
  return doWatch(effect, null, { flush: "post" });
}
function watchSyncEffect(effect, options) {
  return doWatch(effect, null, { flush: "sync" });
}
var INITIAL_WATCHER_VALUE = {};
function watch(source, cb, options) {
  return doWatch(source, cb, options);
}
function doWatch(source, cb, _a2) {
  var _b = _a2 === void 0 ? emptyObject : _a2, immediate = _b.immediate, deep = _b.deep, _c = _b.flush, flush = _c === void 0 ? "pre" : _c;
  _b.onTrack;
  _b.onTrigger;
  var instance = currentInstance;
  var call = function(fn, type, args) {
    if (args === void 0) {
      args = null;
    }
    return invokeWithErrorHandling(fn, null, args, instance, type);
  };
  var getter;
  var forceTrigger = false;
  var isMultiSource = false;
  if (isRef(source)) {
    getter = function() {
      return source.value;
    };
    forceTrigger = isShallow(source);
  } else if (isReactive(source)) {
    getter = function() {
      source.__ob__.dep.depend();
      return source;
    };
    deep = true;
  } else if (isArray(source)) {
    isMultiSource = true;
    forceTrigger = source.some(function(s) {
      return isReactive(s) || isShallow(s);
    });
    getter = function() {
      return source.map(function(s) {
        if (isRef(s)) {
          return s.value;
        } else if (isReactive(s)) {
          return traverse(s);
        } else if (isFunction(s)) {
          return call(s, WATCHER_GETTER);
        } else
          ;
      });
    };
  } else if (isFunction(source)) {
    if (cb) {
      getter = function() {
        return call(source, WATCHER_GETTER);
      };
    } else {
      getter = function() {
        if (instance && instance._isDestroyed) {
          return;
        }
        if (cleanup) {
          cleanup();
        }
        return call(source, WATCHER, [onCleanup]);
      };
    }
  } else {
    getter = noop;
  }
  if (cb && deep) {
    var baseGetter_1 = getter;
    getter = function() {
      return traverse(baseGetter_1());
    };
  }
  var cleanup;
  var onCleanup = function(fn) {
    cleanup = watcher.onStop = function() {
      call(fn, WATCHER_CLEANUP);
    };
  };
  if (isServerRendering()) {
    onCleanup = noop;
    if (!cb) {
      getter();
    } else if (immediate) {
      call(cb, WATCHER_CB, [
        getter(),
        isMultiSource ? [] : void 0,
        onCleanup
      ]);
    }
    return noop;
  }
  var watcher = new Watcher(currentInstance, getter, noop, {
    lazy: true
  });
  watcher.noRecurse = !cb;
  var oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;
  watcher.run = function() {
    if (!watcher.active && !(flush === "pre" && instance && instance._isBeingDestroyed)) {
      return;
    }
    if (cb) {
      var newValue = watcher.get();
      if (deep || forceTrigger || (isMultiSource ? newValue.some(function(v, i) {
        return hasChanged(v, oldValue[i]);
      }) : hasChanged(newValue, oldValue))) {
        if (cleanup) {
          cleanup();
        }
        call(cb, WATCHER_CB, [
          newValue,
          oldValue === INITIAL_WATCHER_VALUE ? void 0 : oldValue,
          onCleanup
        ]);
        oldValue = newValue;
      }
    } else {
      watcher.get();
    }
  };
  if (flush === "sync") {
    watcher.update = watcher.run;
  } else if (flush === "post") {
    watcher.post = true;
    watcher.update = function() {
      return queueWatcher(watcher);
    };
  } else {
    watcher.update = function() {
      if (instance && instance === currentInstance && !instance._isMounted) {
        var buffer = instance._preWatchers || (instance._preWatchers = []);
        if (buffer.indexOf(watcher) < 0)
          buffer.push(watcher);
      } else {
        queueWatcher(watcher);
      }
    };
  }
  if (cb) {
    if (immediate) {
      watcher.run();
    } else {
      oldValue = watcher.get();
    }
  } else if (flush === "post" && instance) {
    instance.$once("hook:mounted", function() {
      return watcher.get();
    });
  } else {
    watcher.get();
  }
  return function() {
    watcher.teardown();
  };
}
var activeEffectScope;
var EffectScope = function() {
  function EffectScope2(detached) {
    if (detached === void 0) {
      detached = false;
    }
    this.active = true;
    this.effects = [];
    this.cleanups = [];
    if (!detached && activeEffectScope) {
      this.parent = activeEffectScope;
      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;
    }
  }
  EffectScope2.prototype.run = function(fn) {
    if (this.active) {
      var currentEffectScope = activeEffectScope;
      try {
        activeEffectScope = this;
        return fn();
      } finally {
        activeEffectScope = currentEffectScope;
      }
    }
  };
  EffectScope2.prototype.on = function() {
    activeEffectScope = this;
  };
  EffectScope2.prototype.off = function() {
    activeEffectScope = this.parent;
  };
  EffectScope2.prototype.stop = function(fromParent) {
    if (this.active) {
      var i = void 0, l = void 0;
      for (i = 0, l = this.effects.length; i < l; i++) {
        this.effects[i].teardown();
      }
      for (i = 0, l = this.cleanups.length; i < l; i++) {
        this.cleanups[i]();
      }
      if (this.scopes) {
        for (i = 0, l = this.scopes.length; i < l; i++) {
          this.scopes[i].stop(true);
        }
      }
      if (this.parent && !fromParent) {
        var last = this.parent.scopes.pop();
        if (last && last !== this) {
          this.parent.scopes[this.index] = last;
          last.index = this.index;
        }
      }
      this.active = false;
    }
  };
  return EffectScope2;
}();
function effectScope(detached) {
  return new EffectScope(detached);
}
function recordEffectScope(effect, scope) {
  if (scope === void 0) {
    scope = activeEffectScope;
  }
  if (scope && scope.active) {
    scope.effects.push(effect);
  }
}
function getCurrentScope() {
  return activeEffectScope;
}
function onScopeDispose(fn) {
  if (activeEffectScope) {
    activeEffectScope.cleanups.push(fn);
  }
}
function provide(key, value) {
  if (!currentInstance)
    ;
  else {
    resolveProvided(currentInstance)[key] = value;
  }
}
function resolveProvided(vm) {
  var existing = vm._provided;
  var parentProvides = vm.$parent && vm.$parent._provided;
  if (parentProvides === existing) {
    return vm._provided = Object.create(parentProvides);
  } else {
    return existing;
  }
}
function inject(key, defaultValue, treatDefaultAsFactory) {
  if (treatDefaultAsFactory === void 0) {
    treatDefaultAsFactory = false;
  }
  var instance = currentInstance;
  if (instance) {
    var provides = instance.$parent && instance.$parent._provided;
    if (provides && key in provides) {
      return provides[key];
    } else if (arguments.length > 1) {
      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance) : defaultValue;
    } else
      ;
  }
}
function h(type, props2, children) {
  return createElement$1(currentInstance, type, props2, children, 2, true);
}
function handleError(err, vm, info) {
  pushTarget();
  try {
    if (vm) {
      var cur = vm;
      while (cur = cur.$parent) {
        var hooks2 = cur.$options.errorCaptured;
        if (hooks2) {
          for (var i = 0; i < hooks2.length; i++) {
            try {
              var capture = hooks2[i].call(cur, err, vm, info) === false;
              if (capture)
                return;
            } catch (e) {
              globalHandleError(e, cur, "errorCaptured hook");
            }
          }
        }
      }
    }
    globalHandleError(err, vm, info);
  } finally {
    popTarget();
  }
}
function invokeWithErrorHandling(handler, context, args, vm, info) {
  var res;
  try {
    res = args ? handler.apply(context, args) : handler.call(context);
    if (res && !res._isVue && isPromise(res) && !res._handled) {
      res.catch(function(e) {
        return handleError(e, vm, info + " (Promise/async)");
      });
      res._handled = true;
    }
  } catch (e) {
    handleError(e, vm, info);
  }
  return res;
}
function globalHandleError(err, vm, info) {
  if (config.errorHandler) {
    try {
      return config.errorHandler.call(null, err, vm, info);
    } catch (e) {
      if (e !== err) {
        logError(e);
      }
    }
  }
  logError(err);
}
function logError(err, vm, info) {
  if (inBrowser && typeof console !== "undefined") {
    console.error(err);
  } else {
    throw err;
  }
}
var isUsingMicroTask = false;
var callbacks = [];
var pending = false;
function flushCallbacks() {
  pending = false;
  var copies = callbacks.slice(0);
  callbacks.length = 0;
  for (var i = 0; i < copies.length; i++) {
    copies[i]();
  }
}
var timerFunc;
if (typeof Promise !== "undefined" && isNative(Promise)) {
  var p_1 = Promise.resolve();
  timerFunc = function() {
    p_1.then(flushCallbacks);
    if (isIOS)
      setTimeout(noop);
  };
  isUsingMicroTask = true;
} else if (!isIE && typeof MutationObserver !== "undefined" && (isNative(MutationObserver) || MutationObserver.toString() === "[object MutationObserverConstructor]")) {
  var counter_1 = 1;
  var observer = new MutationObserver(flushCallbacks);
  var textNode_1 = document.createTextNode(String(counter_1));
  observer.observe(textNode_1, {
    characterData: true
  });
  timerFunc = function() {
    counter_1 = (counter_1 + 1) % 2;
    textNode_1.data = String(counter_1);
  };
  isUsingMicroTask = true;
} else if (typeof setImmediate !== "undefined" && isNative(setImmediate)) {
  timerFunc = function() {
    setImmediate(flushCallbacks);
  };
} else {
  timerFunc = function() {
    setTimeout(flushCallbacks, 0);
  };
}
function nextTick(cb, ctx) {
  var _resolve;
  callbacks.push(function() {
    if (cb) {
      try {
        cb.call(ctx);
      } catch (e) {
        handleError(e, ctx, "nextTick");
      }
    } else if (_resolve) {
      _resolve(ctx);
    }
  });
  if (!pending) {
    pending = true;
    timerFunc();
  }
  if (!cb && typeof Promise !== "undefined") {
    return new Promise(function(resolve) {
      _resolve = resolve;
    });
  }
}
function useCssModule(name) {
  if (name === void 0) {
    name = "$style";
  }
  {
    if (!currentInstance) {
      return emptyObject;
    }
    var mod = currentInstance[name];
    if (!mod) {
      return emptyObject;
    }
    return mod;
  }
}
function useCssVars(getter) {
  if (!inBrowser && true)
    return;
  var instance = currentInstance;
  if (!instance) {
    return;
  }
  watchPostEffect(function() {
    var el = instance.$el;
    var vars = getter(instance, instance._setupProxy);
    if (el && el.nodeType === 1) {
      var style2 = el.style;
      for (var key in vars) {
        style2.setProperty("--".concat(key), vars[key]);
      }
    }
  });
}
function defineAsyncComponent(source) {
  if (isFunction(source)) {
    source = { loader: source };
  }
  var loader = source.loader, loadingComponent = source.loadingComponent, errorComponent = source.errorComponent, _a2 = source.delay, delay = _a2 === void 0 ? 200 : _a2, timeout = source.timeout;
  source.suspensible;
  var userOnError = source.onError;
  var pendingRequest = null;
  var retries = 0;
  var retry = function() {
    retries++;
    pendingRequest = null;
    return load();
  };
  var load = function() {
    var thisRequest;
    return pendingRequest || (thisRequest = pendingRequest = loader().catch(function(err) {
      err = err instanceof Error ? err : new Error(String(err));
      if (userOnError) {
        return new Promise(function(resolve, reject) {
          var userRetry = function() {
            return resolve(retry());
          };
          var userFail = function() {
            return reject(err);
          };
          userOnError(err, userRetry, userFail, retries + 1);
        });
      } else {
        throw err;
      }
    }).then(function(comp) {
      if (thisRequest !== pendingRequest && pendingRequest) {
        return pendingRequest;
      }
      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === "Module")) {
        comp = comp.default;
      }
      return comp;
    }));
  };
  return function() {
    var component = load();
    return {
      component,
      delay,
      timeout,
      error: errorComponent,
      loading: loadingComponent
    };
  };
}
function createLifeCycle(hookName) {
  return function(fn, target2) {
    if (target2 === void 0) {
      target2 = currentInstance;
    }
    if (!target2) {
      return;
    }
    return injectHook(target2, hookName, fn);
  };
}
function injectHook(instance, hookName, fn) {
  var options = instance.$options;
  options[hookName] = mergeLifecycleHook(options[hookName], fn);
}
var onBeforeMount = createLifeCycle("beforeMount");
var onMounted = createLifeCycle("mounted");
var onBeforeUpdate = createLifeCycle("beforeUpdate");
var onUpdated = createLifeCycle("updated");
var onBeforeUnmount = createLifeCycle("beforeDestroy");
var onUnmounted = createLifeCycle("destroyed");
var onErrorCaptured = createLifeCycle("errorCaptured");
var onActivated = createLifeCycle("activated");
var onDeactivated = createLifeCycle("deactivated");
var onServerPrefetch = createLifeCycle("serverPrefetch");
var onRenderTracked = createLifeCycle("renderTracked");
var onRenderTriggered = createLifeCycle("renderTriggered");
var version = "2.7.8";
function defineComponent(options) {
  return options;
}
var seenObjects = new _Set();
function traverse(val) {
  _traverse(val, seenObjects);
  seenObjects.clear();
  return val;
}
function _traverse(val, seen) {
  var i, keys;
  var isA = isArray(val);
  if (!isA && !isObject(val) || Object.isFrozen(val) || val instanceof VNode) {
    return;
  }
  if (val.__ob__) {
    var depId = val.__ob__.dep.id;
    if (seen.has(depId)) {
      return;
    }
    seen.add(depId);
  }
  if (isA) {
    i = val.length;
    while (i--)
      _traverse(val[i], seen);
  } else if (isRef(val)) {
    _traverse(val.value, seen);
  } else {
    keys = Object.keys(val);
    i = keys.length;
    while (i--)
      _traverse(val[keys[i]], seen);
  }
}
var uid$1 = 0;
var Watcher = function() {
  function Watcher2(vm, expOrFn, cb, options, isRenderWatcher) {
    recordEffectScope(this, activeEffectScope || (vm ? vm._scope : void 0));
    if (this.vm = vm) {
      if (isRenderWatcher) {
        vm._watcher = this;
      }
    }
    if (options) {
      this.deep = !!options.deep;
      this.user = !!options.user;
      this.lazy = !!options.lazy;
      this.sync = !!options.sync;
      this.before = options.before;
    } else {
      this.deep = this.user = this.lazy = this.sync = false;
    }
    this.cb = cb;
    this.id = ++uid$1;
    this.active = true;
    this.post = false;
    this.dirty = this.lazy;
    this.deps = [];
    this.newDeps = [];
    this.depIds = new _Set();
    this.newDepIds = new _Set();
    this.expression = "";
    if (isFunction(expOrFn)) {
      this.getter = expOrFn;
    } else {
      this.getter = parsePath(expOrFn);
      if (!this.getter) {
        this.getter = noop;
      }
    }
    this.value = this.lazy ? void 0 : this.get();
  }
  Watcher2.prototype.get = function() {
    pushTarget(this);
    var value;
    var vm = this.vm;
    try {
      value = this.getter.call(vm, vm);
    } catch (e) {
      if (this.user) {
        handleError(e, vm, 'getter for watcher "'.concat(this.expression, '"'));
      } else {
        throw e;
      }
    } finally {
      if (this.deep) {
        traverse(value);
      }
      popTarget();
      this.cleanupDeps();
    }
    return value;
  };
  Watcher2.prototype.addDep = function(dep) {
    var id = dep.id;
    if (!this.newDepIds.has(id)) {
      this.newDepIds.add(id);
      this.newDeps.push(dep);
      if (!this.depIds.has(id)) {
        dep.addSub(this);
      }
    }
  };
  Watcher2.prototype.cleanupDeps = function() {
    var i = this.deps.length;
    while (i--) {
      var dep = this.deps[i];
      if (!this.newDepIds.has(dep.id)) {
        dep.removeSub(this);
      }
    }
    var tmp = this.depIds;
    this.depIds = this.newDepIds;
    this.newDepIds = tmp;
    this.newDepIds.clear();
    tmp = this.deps;
    this.deps = this.newDeps;
    this.newDeps = tmp;
    this.newDeps.length = 0;
  };
  Watcher2.prototype.update = function() {
    if (this.lazy) {
      this.dirty = true;
    } else if (this.sync) {
      this.run();
    } else {
      queueWatcher(this);
    }
  };
  Watcher2.prototype.run = function() {
    if (this.active) {
      var value = this.get();
      if (value !== this.value || isObject(value) || this.deep) {
        var oldValue = this.value;
        this.value = value;
        if (this.user) {
          var info = 'callback for watcher "'.concat(this.expression, '"');
          invokeWithErrorHandling(this.cb, this.vm, [value, oldValue], this.vm, info);
        } else {
          this.cb.call(this.vm, value, oldValue);
        }
      }
    }
  };
  Watcher2.prototype.evaluate = function() {
    this.value = this.get();
    this.dirty = false;
  };
  Watcher2.prototype.depend = function() {
    var i = this.deps.length;
    while (i--) {
      this.deps[i].depend();
    }
  };
  Watcher2.prototype.teardown = function() {
    if (this.vm && !this.vm._isBeingDestroyed) {
      remove$2(this.vm._scope.effects, this);
    }
    if (this.active) {
      var i = this.deps.length;
      while (i--) {
        this.deps[i].removeSub(this);
      }
      this.active = false;
      if (this.onStop) {
        this.onStop();
      }
    }
  };
  return Watcher2;
}();
var sharedPropertyDefinition = {
  enumerable: true,
  configurable: true,
  get: noop,
  set: noop
};
function proxy(target2, sourceKey, key) {
  sharedPropertyDefinition.get = function proxyGetter() {
    return this[sourceKey][key];
  };
  sharedPropertyDefinition.set = function proxySetter(val) {
    this[sourceKey][key] = val;
  };
  Object.defineProperty(target2, key, sharedPropertyDefinition);
}
function initState(vm) {
  var opts = vm.$options;
  if (opts.props)
    initProps$1(vm, opts.props);
  initSetup(vm);
  if (opts.methods)
    initMethods(vm, opts.methods);
  if (opts.data) {
    initData(vm);
  } else {
    var ob = observe(vm._data = {});
    ob && ob.vmCount++;
  }
  if (opts.computed)
    initComputed$1(vm, opts.computed);
  if (opts.watch && opts.watch !== nativeWatch) {
    initWatch(vm, opts.watch);
  }
}
function initProps$1(vm, propsOptions) {
  var propsData = vm.$options.propsData || {};
  var props2 = vm._props = shallowReactive({});
  var keys = vm.$options._propKeys = [];
  var isRoot = !vm.$parent;
  if (!isRoot) {
    toggleObserving(false);
  }
  var _loop_1 = function(key2) {
    keys.push(key2);
    var value = validateProp(key2, propsOptions, propsData, vm);
    {
      defineReactive(props2, key2, value);
    }
    if (!(key2 in vm)) {
      proxy(vm, "_props", key2);
    }
  };
  for (var key in propsOptions) {
    _loop_1(key);
  }
  toggleObserving(true);
}
function initData(vm) {
  var data = vm.$options.data;
  data = vm._data = isFunction(data) ? getData(data, vm) : data || {};
  if (!isPlainObject(data)) {
    data = {};
  }
  var keys = Object.keys(data);
  var props2 = vm.$options.props;
  vm.$options.methods;
  var i = keys.length;
  while (i--) {
    var key = keys[i];
    if (props2 && hasOwn(props2, key))
      ;
    else if (!isReserved(key)) {
      proxy(vm, "_data", key);
    }
  }
  var ob = observe(data);
  ob && ob.vmCount++;
}
function getData(data, vm) {
  pushTarget();
  try {
    return data.call(vm, vm);
  } catch (e) {
    handleError(e, vm, "data()");
    return {};
  } finally {
    popTarget();
  }
}
var computedWatcherOptions = { lazy: true };
function initComputed$1(vm, computed2) {
  var watchers = vm._computedWatchers = /* @__PURE__ */ Object.create(null);
  var isSSR = isServerRendering();
  for (var key in computed2) {
    var userDef = computed2[key];
    var getter = isFunction(userDef) ? userDef : userDef.get;
    if (!isSSR) {
      watchers[key] = new Watcher(vm, getter || noop, noop, computedWatcherOptions);
    }
    if (!(key in vm)) {
      defineComputed(vm, key, userDef);
    }
  }
}
function defineComputed(target2, key, userDef) {
  var shouldCache = !isServerRendering();
  if (isFunction(userDef)) {
    sharedPropertyDefinition.get = shouldCache ? createComputedGetter(key) : createGetterInvoker(userDef);
    sharedPropertyDefinition.set = noop;
  } else {
    sharedPropertyDefinition.get = userDef.get ? shouldCache && userDef.cache !== false ? createComputedGetter(key) : createGetterInvoker(userDef.get) : noop;
    sharedPropertyDefinition.set = userDef.set || noop;
  }
  Object.defineProperty(target2, key, sharedPropertyDefinition);
}
function createComputedGetter(key) {
  return function computedGetter() {
    var watcher = this._computedWatchers && this._computedWatchers[key];
    if (watcher) {
      if (watcher.dirty) {
        watcher.evaluate();
      }
      if (Dep.target) {
        watcher.depend();
      }
      return watcher.value;
    }
  };
}
function createGetterInvoker(fn) {
  return function computedGetter() {
    return fn.call(this, this);
  };
}
function initMethods(vm, methods) {
  vm.$options.props;
  for (var key in methods) {
    vm[key] = typeof methods[key] !== "function" ? noop : bind$1(methods[key], vm);
  }
}
function initWatch(vm, watch2) {
  for (var key in watch2) {
    var handler = watch2[key];
    if (isArray(handler)) {
      for (var i = 0; i < handler.length; i++) {
        createWatcher(vm, key, handler[i]);
      }
    } else {
      createWatcher(vm, key, handler);
    }
  }
}
function createWatcher(vm, expOrFn, handler, options) {
  if (isPlainObject(handler)) {
    options = handler;
    handler = handler.handler;
  }
  if (typeof handler === "string") {
    handler = vm[handler];
  }
  return vm.$watch(expOrFn, handler, options);
}
function stateMixin(Vue2) {
  var dataDef = {};
  dataDef.get = function() {
    return this._data;
  };
  var propsDef = {};
  propsDef.get = function() {
    return this._props;
  };
  Object.defineProperty(Vue2.prototype, "$data", dataDef);
  Object.defineProperty(Vue2.prototype, "$props", propsDef);
  Vue2.prototype.$set = set;
  Vue2.prototype.$delete = del;
  Vue2.prototype.$watch = function(expOrFn, cb, options) {
    var vm = this;
    if (isPlainObject(cb)) {
      return createWatcher(vm, expOrFn, cb, options);
    }
    options = options || {};
    options.user = true;
    var watcher = new Watcher(vm, expOrFn, cb, options);
    if (options.immediate) {
      var info = 'callback for immediate watcher "'.concat(watcher.expression, '"');
      pushTarget();
      invokeWithErrorHandling(cb, vm, [watcher.value], vm, info);
      popTarget();
    }
    return function unwatchFn() {
      watcher.teardown();
    };
  };
}
function initProvide(vm) {
  var provideOption = vm.$options.provide;
  if (provideOption) {
    var provided = isFunction(provideOption) ? provideOption.call(vm) : provideOption;
    if (!isObject(provided)) {
      return;
    }
    var source = resolveProvided(vm);
    var keys = hasSymbol ? Reflect.ownKeys(provided) : Object.keys(provided);
    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      Object.defineProperty(source, key, Object.getOwnPropertyDescriptor(provided, key));
    }
  }
}
function initInjections(vm) {
  var result = resolveInject(vm.$options.inject, vm);
  if (result) {
    toggleObserving(false);
    Object.keys(result).forEach(function(key) {
      {
        defineReactive(vm, key, result[key]);
      }
    });
    toggleObserving(true);
  }
}
function resolveInject(inject2, vm) {
  if (inject2) {
    var result = /* @__PURE__ */ Object.create(null);
    var keys = hasSymbol ? Reflect.ownKeys(inject2) : Object.keys(inject2);
    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      if (key === "__ob__")
        continue;
      var provideKey = inject2[key].from;
      if (provideKey in vm._provided) {
        result[key] = vm._provided[provideKey];
      } else if ("default" in inject2[key]) {
        var provideDefault = inject2[key].default;
        result[key] = isFunction(provideDefault) ? provideDefault.call(vm) : provideDefault;
      } else
        ;
    }
    return result;
  }
}
var uid = 0;
function initMixin$1(Vue2) {
  Vue2.prototype._init = function(options) {
    var vm = this;
    vm._uid = uid++;
    vm._isVue = true;
    vm.__v_skip = true;
    vm._scope = new EffectScope(true);
    if (options && options._isComponent) {
      initInternalComponent(vm, options);
    } else {
      vm.$options = mergeOptions(resolveConstructorOptions(vm.constructor), options || {}, vm);
    }
    {
      vm._renderProxy = vm;
    }
    vm._self = vm;
    initLifecycle(vm);
    initEvents(vm);
    initRender(vm);
    callHook$1(vm, "beforeCreate", void 0, false);
    initInjections(vm);
    initState(vm);
    initProvide(vm);
    callHook$1(vm, "created");
    if (vm.$options.el) {
      vm.$mount(vm.$options.el);
    }
  };
}
function initInternalComponent(vm, options) {
  var opts = vm.$options = Object.create(vm.constructor.options);
  var parentVnode = options._parentVnode;
  opts.parent = options.parent;
  opts._parentVnode = parentVnode;
  var vnodeComponentOptions = parentVnode.componentOptions;
  opts.propsData = vnodeComponentOptions.propsData;
  opts._parentListeners = vnodeComponentOptions.listeners;
  opts._renderChildren = vnodeComponentOptions.children;
  opts._componentTag = vnodeComponentOptions.tag;
  if (options.render) {
    opts.render = options.render;
    opts.staticRenderFns = options.staticRenderFns;
  }
}
function resolveConstructorOptions(Ctor) {
  var options = Ctor.options;
  if (Ctor.super) {
    var superOptions = resolveConstructorOptions(Ctor.super);
    var cachedSuperOptions = Ctor.superOptions;
    if (superOptions !== cachedSuperOptions) {
      Ctor.superOptions = superOptions;
      var modifiedOptions = resolveModifiedOptions(Ctor);
      if (modifiedOptions) {
        extend(Ctor.extendOptions, modifiedOptions);
      }
      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);
      if (options.name) {
        options.components[options.name] = Ctor;
      }
    }
  }
  return options;
}
function resolveModifiedOptions(Ctor) {
  var modified;
  var latest = Ctor.options;
  var sealed = Ctor.sealedOptions;
  for (var key in latest) {
    if (latest[key] !== sealed[key]) {
      if (!modified)
        modified = {};
      modified[key] = latest[key];
    }
  }
  return modified;
}
function FunctionalRenderContext(data, props2, children, parent, Ctor) {
  var _this = this;
  var options = Ctor.options;
  var contextVm;
  if (hasOwn(parent, "_uid")) {
    contextVm = Object.create(parent);
    contextVm._original = parent;
  } else {
    contextVm = parent;
    parent = parent._original;
  }
  var isCompiled = isTrue(options._compiled);
  var needNormalization = !isCompiled;
  this.data = data;
  this.props = props2;
  this.children = children;
  this.parent = parent;
  this.listeners = data.on || emptyObject;
  this.injections = resolveInject(options.inject, parent);
  this.slots = function() {
    if (!_this.$slots) {
      normalizeScopedSlots(parent, data.scopedSlots, _this.$slots = resolveSlots(children, parent));
    }
    return _this.$slots;
  };
  Object.defineProperty(this, "scopedSlots", {
    enumerable: true,
    get: function() {
      return normalizeScopedSlots(parent, data.scopedSlots, this.slots());
    }
  });
  if (isCompiled) {
    this.$options = options;
    this.$slots = this.slots();
    this.$scopedSlots = normalizeScopedSlots(parent, data.scopedSlots, this.$slots);
  }
  if (options._scopeId) {
    this._c = function(a, b, c, d) {
      var vnode = createElement$1(contextVm, a, b, c, d, needNormalization);
      if (vnode && !isArray(vnode)) {
        vnode.fnScopeId = options._scopeId;
        vnode.fnContext = parent;
      }
      return vnode;
    };
  } else {
    this._c = function(a, b, c, d) {
      return createElement$1(contextVm, a, b, c, d, needNormalization);
    };
  }
}
installRenderHelpers(FunctionalRenderContext.prototype);
function createFunctionalComponent(Ctor, propsData, data, contextVm, children) {
  var options = Ctor.options;
  var props2 = {};
  var propOptions = options.props;
  if (isDef(propOptions)) {
    for (var key in propOptions) {
      props2[key] = validateProp(key, propOptions, propsData || emptyObject);
    }
  } else {
    if (isDef(data.attrs))
      mergeProps(props2, data.attrs);
    if (isDef(data.props))
      mergeProps(props2, data.props);
  }
  var renderContext = new FunctionalRenderContext(data, props2, children, contextVm, Ctor);
  var vnode = options.render.call(null, renderContext._c, renderContext);
  if (vnode instanceof VNode) {
    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options);
  } else if (isArray(vnode)) {
    var vnodes = normalizeChildren(vnode) || [];
    var res = new Array(vnodes.length);
    for (var i = 0; i < vnodes.length; i++) {
      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options);
    }
    return res;
  }
}
function cloneAndMarkFunctionalResult(vnode, data, contextVm, options, renderContext) {
  var clone = cloneVNode(vnode);
  clone.fnContext = contextVm;
  clone.fnOptions = options;
  if (data.slot) {
    (clone.data || (clone.data = {})).slot = data.slot;
  }
  return clone;
}
function mergeProps(to, from) {
  for (var key in from) {
    to[camelize(key)] = from[key];
  }
}
function getComponentName(options) {
  return options.name || options.__name || options._componentTag;
}
var componentVNodeHooks = {
  init: function(vnode, hydrating) {
    if (vnode.componentInstance && !vnode.componentInstance._isDestroyed && vnode.data.keepAlive) {
      var mountedNode = vnode;
      componentVNodeHooks.prepatch(mountedNode, mountedNode);
    } else {
      var child = vnode.componentInstance = createComponentInstanceForVnode(vnode, activeInstance);
      child.$mount(hydrating ? vnode.elm : void 0, hydrating);
    }
  },
  prepatch: function(oldVnode, vnode) {
    var options = vnode.componentOptions;
    var child = vnode.componentInstance = oldVnode.componentInstance;
    updateChildComponent(
      child,
      options.propsData,
      options.listeners,
      vnode,
      options.children
    );
  },
  insert: function(vnode) {
    var context = vnode.context, componentInstance = vnode.componentInstance;
    if (!componentInstance._isMounted) {
      componentInstance._isMounted = true;
      callHook$1(componentInstance, "mounted");
    }
    if (vnode.data.keepAlive) {
      if (context._isMounted) {
        queueActivatedComponent(componentInstance);
      } else {
        activateChildComponent(componentInstance, true);
      }
    }
  },
  destroy: function(vnode) {
    var componentInstance = vnode.componentInstance;
    if (!componentInstance._isDestroyed) {
      if (!vnode.data.keepAlive) {
        componentInstance.$destroy();
      } else {
        deactivateChildComponent(componentInstance, true);
      }
    }
  }
};
var hooksToMerge = Object.keys(componentVNodeHooks);
function createComponent(Ctor, data, context, children, tag) {
  if (isUndef(Ctor)) {
    return;
  }
  var baseCtor = context.$options._base;
  if (isObject(Ctor)) {
    Ctor = baseCtor.extend(Ctor);
  }
  if (typeof Ctor !== "function") {
    return;
  }
  var asyncFactory;
  if (isUndef(Ctor.cid)) {
    asyncFactory = Ctor;
    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);
    if (Ctor === void 0) {
      return createAsyncPlaceholder(asyncFactory, data, context, children, tag);
    }
  }
  data = data || {};
  resolveConstructorOptions(Ctor);
  if (isDef(data.model)) {
    transformModel(Ctor.options, data);
  }
  var propsData = extractPropsFromVNodeData(data, Ctor);
  if (isTrue(Ctor.options.functional)) {
    return createFunctionalComponent(Ctor, propsData, data, context, children);
  }
  var listeners = data.on;
  data.on = data.nativeOn;
  if (isTrue(Ctor.options.abstract)) {
    var slot = data.slot;
    data = {};
    if (slot) {
      data.slot = slot;
    }
  }
  installComponentHooks(data);
  var name = getComponentName(Ctor.options) || tag;
  var vnode = new VNode(
    "vue-component-".concat(Ctor.cid).concat(name ? "-".concat(name) : ""),
    data,
    void 0,
    void 0,
    void 0,
    context,
    { Ctor, propsData, listeners, tag, children },
    asyncFactory
  );
  return vnode;
}
function createComponentInstanceForVnode(vnode, parent) {
  var options = {
    _isComponent: true,
    _parentVnode: vnode,
    parent
  };
  var inlineTemplate = vnode.data.inlineTemplate;
  if (isDef(inlineTemplate)) {
    options.render = inlineTemplate.render;
    options.staticRenderFns = inlineTemplate.staticRenderFns;
  }
  return new vnode.componentOptions.Ctor(options);
}
function installComponentHooks(data) {
  var hooks2 = data.hook || (data.hook = {});
  for (var i = 0; i < hooksToMerge.length; i++) {
    var key = hooksToMerge[i];
    var existing = hooks2[key];
    var toMerge = componentVNodeHooks[key];
    if (existing !== toMerge && !(existing && existing._merged)) {
      hooks2[key] = existing ? mergeHook(toMerge, existing) : toMerge;
    }
  }
}
function mergeHook(f1, f2) {
  var merged = function(a, b) {
    f1(a, b);
    f2(a, b);
  };
  merged._merged = true;
  return merged;
}
function transformModel(options, data) {
  var prop = options.model && options.model.prop || "value";
  var event = options.model && options.model.event || "input";
  (data.attrs || (data.attrs = {}))[prop] = data.model.value;
  var on2 = data.on || (data.on = {});
  var existing = on2[event];
  var callback = data.model.callback;
  if (isDef(existing)) {
    if (isArray(existing) ? existing.indexOf(callback) === -1 : existing !== callback) {
      on2[event] = [callback].concat(existing);
    }
  } else {
    on2[event] = callback;
  }
}
var warn$2 = noop;
var strats = config.optionMergeStrategies;
function mergeData(to, from) {
  if (!from)
    return to;
  var key, toVal, fromVal;
  var keys = hasSymbol ? Reflect.ownKeys(from) : Object.keys(from);
  for (var i = 0; i < keys.length; i++) {
    key = keys[i];
    if (key === "__ob__")
      continue;
    toVal = to[key];
    fromVal = from[key];
    if (!hasOwn(to, key)) {
      set(to, key, fromVal);
    } else if (toVal !== fromVal && isPlainObject(toVal) && isPlainObject(fromVal)) {
      mergeData(toVal, fromVal);
    }
  }
  return to;
}
function mergeDataOrFn(parentVal, childVal, vm) {
  if (!vm) {
    if (!childVal) {
      return parentVal;
    }
    if (!parentVal) {
      return childVal;
    }
    return function mergedDataFn() {
      return mergeData(isFunction(childVal) ? childVal.call(this, this) : childVal, isFunction(parentVal) ? parentVal.call(this, this) : parentVal);
    };
  } else {
    return function mergedInstanceDataFn() {
      var instanceData = isFunction(childVal) ? childVal.call(vm, vm) : childVal;
      var defaultData = isFunction(parentVal) ? parentVal.call(vm, vm) : parentVal;
      if (instanceData) {
        return mergeData(instanceData, defaultData);
      } else {
        return defaultData;
      }
    };
  }
}
strats.data = function(parentVal, childVal, vm) {
  if (!vm) {
    if (childVal && typeof childVal !== "function") {
      return parentVal;
    }
    return mergeDataOrFn(parentVal, childVal);
  }
  return mergeDataOrFn(parentVal, childVal, vm);
};
function mergeLifecycleHook(parentVal, childVal) {
  var res = childVal ? parentVal ? parentVal.concat(childVal) : isArray(childVal) ? childVal : [childVal] : parentVal;
  return res ? dedupeHooks(res) : res;
}
function dedupeHooks(hooks2) {
  var res = [];
  for (var i = 0; i < hooks2.length; i++) {
    if (res.indexOf(hooks2[i]) === -1) {
      res.push(hooks2[i]);
    }
  }
  return res;
}
LIFECYCLE_HOOKS.forEach(function(hook) {
  strats[hook] = mergeLifecycleHook;
});
function mergeAssets(parentVal, childVal, vm, key) {
  var res = Object.create(parentVal || null);
  if (childVal) {
    return extend(res, childVal);
  } else {
    return res;
  }
}
ASSET_TYPES.forEach(function(type) {
  strats[type + "s"] = mergeAssets;
});
strats.watch = function(parentVal, childVal, vm, key) {
  if (parentVal === nativeWatch)
    parentVal = void 0;
  if (childVal === nativeWatch)
    childVal = void 0;
  if (!childVal)
    return Object.create(parentVal || null);
  if (!parentVal)
    return childVal;
  var ret = {};
  extend(ret, parentVal);
  for (var key_1 in childVal) {
    var parent_1 = ret[key_1];
    var child = childVal[key_1];
    if (parent_1 && !isArray(parent_1)) {
      parent_1 = [parent_1];
    }
    ret[key_1] = parent_1 ? parent_1.concat(child) : isArray(child) ? child : [child];
  }
  return ret;
};
strats.props = strats.methods = strats.inject = strats.computed = function(parentVal, childVal, vm, key) {
  if (childVal && false) {
    assertObjectType(key, childVal);
  }
  if (!parentVal)
    return childVal;
  var ret = /* @__PURE__ */ Object.create(null);
  extend(ret, parentVal);
  if (childVal)
    extend(ret, childVal);
  return ret;
};
strats.provide = mergeDataOrFn;
var defaultStrat = function(parentVal, childVal) {
  return childVal === void 0 ? parentVal : childVal;
};
function normalizeProps(options, vm) {
  var props2 = options.props;
  if (!props2)
    return;
  var res = {};
  var i, val, name;
  if (isArray(props2)) {
    i = props2.length;
    while (i--) {
      val = props2[i];
      if (typeof val === "string") {
        name = camelize(val);
        res[name] = { type: null };
      }
    }
  } else if (isPlainObject(props2)) {
    for (var key in props2) {
      val = props2[key];
      name = camelize(key);
      res[name] = isPlainObject(val) ? val : { type: val };
    }
  } else
    ;
  options.props = res;
}
function normalizeInject(options, vm) {
  var inject2 = options.inject;
  if (!inject2)
    return;
  var normalized = options.inject = {};
  if (isArray(inject2)) {
    for (var i = 0; i < inject2.length; i++) {
      normalized[inject2[i]] = { from: inject2[i] };
    }
  } else if (isPlainObject(inject2)) {
    for (var key in inject2) {
      var val = inject2[key];
      normalized[key] = isPlainObject(val) ? extend({ from: key }, val) : { from: val };
    }
  } else
    ;
}
function normalizeDirectives$1(options) {
  var dirs = options.directives;
  if (dirs) {
    for (var key in dirs) {
      var def2 = dirs[key];
      if (isFunction(def2)) {
        dirs[key] = { bind: def2, update: def2 };
      }
    }
  }
}
function assertObjectType(name, value, vm) {
  if (!isPlainObject(value)) {
    warn$2('Invalid value for option "'.concat(name, '": expected an Object, ') + "but got ".concat(toRawType(value), "."));
  }
}
function mergeOptions(parent, child, vm) {
  if (isFunction(child)) {
    child = child.options;
  }
  normalizeProps(child);
  normalizeInject(child);
  normalizeDirectives$1(child);
  if (!child._base) {
    if (child.extends) {
      parent = mergeOptions(parent, child.extends, vm);
    }
    if (child.mixins) {
      for (var i = 0, l = child.mixins.length; i < l; i++) {
        parent = mergeOptions(parent, child.mixins[i], vm);
      }
    }
  }
  var options = {};
  var key;
  for (key in parent) {
    mergeField(key);
  }
  for (key in child) {
    if (!hasOwn(parent, key)) {
      mergeField(key);
    }
  }
  function mergeField(key2) {
    var strat = strats[key2] || defaultStrat;
    options[key2] = strat(parent[key2], child[key2], vm, key2);
  }
  return options;
}
function resolveAsset(options, type, id, warnMissing) {
  if (typeof id !== "string") {
    return;
  }
  var assets = options[type];
  if (hasOwn(assets, id))
    return assets[id];
  var camelizedId = camelize(id);
  if (hasOwn(assets, camelizedId))
    return assets[camelizedId];
  var PascalCaseId = capitalize(camelizedId);
  if (hasOwn(assets, PascalCaseId))
    return assets[PascalCaseId];
  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];
  return res;
}
function validateProp(key, propOptions, propsData, vm) {
  var prop = propOptions[key];
  var absent = !hasOwn(propsData, key);
  var value = propsData[key];
  var booleanIndex = getTypeIndex(Boolean, prop.type);
  if (booleanIndex > -1) {
    if (absent && !hasOwn(prop, "default")) {
      value = false;
    } else if (value === "" || value === hyphenate(key)) {
      var stringIndex = getTypeIndex(String, prop.type);
      if (stringIndex < 0 || booleanIndex < stringIndex) {
        value = true;
      }
    }
  }
  if (value === void 0) {
    value = getPropDefaultValue(vm, prop, key);
    var prevShouldObserve = shouldObserve;
    toggleObserving(true);
    observe(value);
    toggleObserving(prevShouldObserve);
  }
  return value;
}
function getPropDefaultValue(vm, prop, key) {
  if (!hasOwn(prop, "default")) {
    return void 0;
  }
  var def2 = prop.default;
  if (vm && vm.$options.propsData && vm.$options.propsData[key] === void 0 && vm._props[key] !== void 0) {
    return vm._props[key];
  }
  return isFunction(def2) && getType(prop.type) !== "Function" ? def2.call(vm) : def2;
}
var functionTypeCheckRE = /^\s*function (\w+)/;
function getType(fn) {
  var match = fn && fn.toString().match(functionTypeCheckRE);
  return match ? match[1] : "";
}
function isSameType(a, b) {
  return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
  if (!isArray(expectedTypes)) {
    return isSameType(expectedTypes, type) ? 0 : -1;
  }
  for (var i = 0, len2 = expectedTypes.length; i < len2; i++) {
    if (isSameType(expectedTypes[i], type)) {
      return i;
    }
  }
  return -1;
}
function Vue(options) {
  this._init(options);
}
initMixin$1(Vue);
stateMixin(Vue);
eventsMixin(Vue);
lifecycleMixin(Vue);
renderMixin(Vue);
function initUse(Vue2) {
  Vue2.use = function(plugin) {
    var installedPlugins = this._installedPlugins || (this._installedPlugins = []);
    if (installedPlugins.indexOf(plugin) > -1) {
      return this;
    }
    var args = toArray(arguments, 1);
    args.unshift(this);
    if (isFunction(plugin.install)) {
      plugin.install.apply(plugin, args);
    } else if (isFunction(plugin)) {
      plugin.apply(null, args);
    }
    installedPlugins.push(plugin);
    return this;
  };
}
function initMixin(Vue2) {
  Vue2.mixin = function(mixin) {
    this.options = mergeOptions(this.options, mixin);
    return this;
  };
}
function initExtend(Vue2) {
  Vue2.cid = 0;
  var cid = 1;
  Vue2.extend = function(extendOptions) {
    extendOptions = extendOptions || {};
    var Super = this;
    var SuperId = Super.cid;
    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});
    if (cachedCtors[SuperId]) {
      return cachedCtors[SuperId];
    }
    var name = getComponentName(extendOptions) || getComponentName(Super.options);
    var Sub = function VueComponent(options) {
      this._init(options);
    };
    Sub.prototype = Object.create(Super.prototype);
    Sub.prototype.constructor = Sub;
    Sub.cid = cid++;
    Sub.options = mergeOptions(Super.options, extendOptions);
    Sub["super"] = Super;
    if (Sub.options.props) {
      initProps(Sub);
    }
    if (Sub.options.computed) {
      initComputed(Sub);
    }
    Sub.extend = Super.extend;
    Sub.mixin = Super.mixin;
    Sub.use = Super.use;
    ASSET_TYPES.forEach(function(type) {
      Sub[type] = Super[type];
    });
    if (name) {
      Sub.options.components[name] = Sub;
    }
    Sub.superOptions = Super.options;
    Sub.extendOptions = extendOptions;
    Sub.sealedOptions = extend({}, Sub.options);
    cachedCtors[SuperId] = Sub;
    return Sub;
  };
}
function initProps(Comp) {
  var props2 = Comp.options.props;
  for (var key in props2) {
    proxy(Comp.prototype, "_props", key);
  }
}
function initComputed(Comp) {
  var computed2 = Comp.options.computed;
  for (var key in computed2) {
    defineComputed(Comp.prototype, key, computed2[key]);
  }
}
function initAssetRegisters(Vue2) {
  ASSET_TYPES.forEach(function(type) {
    Vue2[type] = function(id, definition) {
      if (!definition) {
        return this.options[type + "s"][id];
      } else {
        if (type === "component" && isPlainObject(definition)) {
          definition.name = definition.name || id;
          definition = this.options._base.extend(definition);
        }
        if (type === "directive" && isFunction(definition)) {
          definition = { bind: definition, update: definition };
        }
        this.options[type + "s"][id] = definition;
        return definition;
      }
    };
  });
}
function _getComponentName(opts) {
  return opts && (getComponentName(opts.Ctor.options) || opts.tag);
}
function matches(pattern, name) {
  if (isArray(pattern)) {
    return pattern.indexOf(name) > -1;
  } else if (typeof pattern === "string") {
    return pattern.split(",").indexOf(name) > -1;
  } else if (isRegExp(pattern)) {
    return pattern.test(name);
  }
  return false;
}
function pruneCache(keepAliveInstance, filter) {
  var cache = keepAliveInstance.cache, keys = keepAliveInstance.keys, _vnode = keepAliveInstance._vnode;
  for (var key in cache) {
    var entry = cache[key];
    if (entry) {
      var name_1 = entry.name;
      if (name_1 && !filter(name_1)) {
        pruneCacheEntry(cache, key, keys, _vnode);
      }
    }
  }
}
function pruneCacheEntry(cache, key, keys, current) {
  var entry = cache[key];
  if (entry && (!current || entry.tag !== current.tag)) {
    entry.componentInstance.$destroy();
  }
  cache[key] = null;
  remove$2(keys, key);
}
var patternTypes = [String, RegExp, Array];
var KeepAlive = {
  name: "keep-alive",
  abstract: true,
  props: {
    include: patternTypes,
    exclude: patternTypes,
    max: [String, Number]
  },
  methods: {
    cacheVNode: function() {
      var _a2 = this, cache = _a2.cache, keys = _a2.keys, vnodeToCache = _a2.vnodeToCache, keyToCache = _a2.keyToCache;
      if (vnodeToCache) {
        var tag = vnodeToCache.tag, componentInstance = vnodeToCache.componentInstance, componentOptions = vnodeToCache.componentOptions;
        cache[keyToCache] = {
          name: _getComponentName(componentOptions),
          tag,
          componentInstance
        };
        keys.push(keyToCache);
        if (this.max && keys.length > parseInt(this.max)) {
          pruneCacheEntry(cache, keys[0], keys, this._vnode);
        }
        this.vnodeToCache = null;
      }
    }
  },
  created: function() {
    this.cache = /* @__PURE__ */ Object.create(null);
    this.keys = [];
  },
  destroyed: function() {
    for (var key in this.cache) {
      pruneCacheEntry(this.cache, key, this.keys);
    }
  },
  mounted: function() {
    var _this = this;
    this.cacheVNode();
    this.$watch("include", function(val) {
      pruneCache(_this, function(name) {
        return matches(val, name);
      });
    });
    this.$watch("exclude", function(val) {
      pruneCache(_this, function(name) {
        return !matches(val, name);
      });
    });
  },
  updated: function() {
    this.cacheVNode();
  },
  render: function() {
    var slot = this.$slots.default;
    var vnode = getFirstComponentChild(slot);
    var componentOptions = vnode && vnode.componentOptions;
    if (componentOptions) {
      var name_2 = _getComponentName(componentOptions);
      var _a2 = this, include = _a2.include, exclude = _a2.exclude;
      if (include && (!name_2 || !matches(include, name_2)) || exclude && name_2 && matches(exclude, name_2)) {
        return vnode;
      }
      var _b = this, cache = _b.cache, keys = _b.keys;
      var key = vnode.key == null ? componentOptions.Ctor.cid + (componentOptions.tag ? "::".concat(componentOptions.tag) : "") : vnode.key;
      if (cache[key]) {
        vnode.componentInstance = cache[key].componentInstance;
        remove$2(keys, key);
        keys.push(key);
      } else {
        this.vnodeToCache = vnode;
        this.keyToCache = key;
      }
      vnode.data.keepAlive = true;
    }
    return vnode || slot && slot[0];
  }
};
var builtInComponents = {
  KeepAlive
};
function initGlobalAPI(Vue2) {
  var configDef = {};
  configDef.get = function() {
    return config;
  };
  Object.defineProperty(Vue2, "config", configDef);
  Vue2.util = {
    warn: warn$2,
    extend,
    mergeOptions,
    defineReactive
  };
  Vue2.set = set;
  Vue2.delete = del;
  Vue2.nextTick = nextTick;
  Vue2.observable = function(obj) {
    observe(obj);
    return obj;
  };
  Vue2.options = /* @__PURE__ */ Object.create(null);
  ASSET_TYPES.forEach(function(type) {
    Vue2.options[type + "s"] = /* @__PURE__ */ Object.create(null);
  });
  Vue2.options._base = Vue2;
  extend(Vue2.options.components, builtInComponents);
  initUse(Vue2);
  initMixin(Vue2);
  initExtend(Vue2);
  initAssetRegisters(Vue2);
}
initGlobalAPI(Vue);
Object.defineProperty(Vue.prototype, "$isServer", {
  get: isServerRendering
});
Object.defineProperty(Vue.prototype, "$ssrContext", {
  get: function() {
    return this.$vnode && this.$vnode.ssrContext;
  }
});
Object.defineProperty(Vue, "FunctionalRenderContext", {
  value: FunctionalRenderContext
});
Vue.version = version;
var isReservedAttr = makeMap("style,class");
var acceptValue = makeMap("input,textarea,option,select,progress");
var mustUseProp = function(tag, type, attr) {
  return attr === "value" && acceptValue(tag) && type !== "button" || attr === "selected" && tag === "option" || attr === "checked" && tag === "input" || attr === "muted" && tag === "video";
};
var isEnumeratedAttr = makeMap("contenteditable,draggable,spellcheck");
var isValidContentEditableValue = makeMap("events,caret,typing,plaintext-only");
var convertEnumeratedValue = function(key, value) {
  return isFalsyAttrValue(value) || value === "false" ? "false" : key === "contenteditable" && isValidContentEditableValue(value) ? value : "true";
};
var isBooleanAttr = makeMap("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible");
var xlinkNS = "http://www.w3.org/1999/xlink";
var isXlink = function(name) {
  return name.charAt(5) === ":" && name.slice(0, 5) === "xlink";
};
var getXlinkProp = function(name) {
  return isXlink(name) ? name.slice(6, name.length) : "";
};
var isFalsyAttrValue = function(val) {
  return val == null || val === false;
};
function genClassForVnode(vnode) {
  var data = vnode.data;
  var parentNode2 = vnode;
  var childNode = vnode;
  while (isDef(childNode.componentInstance)) {
    childNode = childNode.componentInstance._vnode;
    if (childNode && childNode.data) {
      data = mergeClassData(childNode.data, data);
    }
  }
  while (isDef(parentNode2 = parentNode2.parent)) {
    if (parentNode2 && parentNode2.data) {
      data = mergeClassData(data, parentNode2.data);
    }
  }
  return renderClass(data.staticClass, data.class);
}
function mergeClassData(child, parent) {
  return {
    staticClass: concat(child.staticClass, parent.staticClass),
    class: isDef(child.class) ? [child.class, parent.class] : parent.class
  };
}
function renderClass(staticClass, dynamicClass) {
  if (isDef(staticClass) || isDef(dynamicClass)) {
    return concat(staticClass, stringifyClass(dynamicClass));
  }
  return "";
}
function concat(a, b) {
  return a ? b ? a + " " + b : a : b || "";
}
function stringifyClass(value) {
  if (Array.isArray(value)) {
    return stringifyArray(value);
  }
  if (isObject(value)) {
    return stringifyObject(value);
  }
  if (typeof value === "string") {
    return value;
  }
  return "";
}
function stringifyArray(value) {
  var res = "";
  var stringified;
  for (var i = 0, l = value.length; i < l; i++) {
    if (isDef(stringified = stringifyClass(value[i])) && stringified !== "") {
      if (res)
        res += " ";
      res += stringified;
    }
  }
  return res;
}
function stringifyObject(value) {
  var res = "";
  for (var key in value) {
    if (value[key]) {
      if (res)
        res += " ";
      res += key;
    }
  }
  return res;
}
var namespaceMap = {
  svg: "http://www.w3.org/2000/svg",
  math: "http://www.w3.org/1998/Math/MathML"
};
var isHTMLTag = makeMap("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot");
var isSVG = makeMap("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view", true);
var isPreTag = function(tag) {
  return tag === "pre";
};
var isReservedTag = function(tag) {
  return isHTMLTag(tag) || isSVG(tag);
};
function getTagNamespace(tag) {
  if (isSVG(tag)) {
    return "svg";
  }
  if (tag === "math") {
    return "math";
  }
}
var unknownElementCache = /* @__PURE__ */ Object.create(null);
function isUnknownElement(tag) {
  if (!inBrowser) {
    return true;
  }
  if (isReservedTag(tag)) {
    return false;
  }
  tag = tag.toLowerCase();
  if (unknownElementCache[tag] != null) {
    return unknownElementCache[tag];
  }
  var el = document.createElement(tag);
  if (tag.indexOf("-") > -1) {
    return unknownElementCache[tag] = el.constructor === window.HTMLUnknownElement || el.constructor === window.HTMLElement;
  } else {
    return unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString());
  }
}
var isTextInputType = makeMap("text,number,password,search,email,tel,url");
function query(el) {
  if (typeof el === "string") {
    var selected = document.querySelector(el);
    if (!selected) {
      return document.createElement("div");
    }
    return selected;
  } else {
    return el;
  }
}
function createElement(tagName2, vnode) {
  var elm = document.createElement(tagName2);
  if (tagName2 !== "select") {
    return elm;
  }
  if (vnode.data && vnode.data.attrs && vnode.data.attrs.multiple !== void 0) {
    elm.setAttribute("multiple", "multiple");
  }
  return elm;
}
function createElementNS(namespace, tagName2) {
  return document.createElementNS(namespaceMap[namespace], tagName2);
}
function createTextNode(text2) {
  return document.createTextNode(text2);
}
function createComment(text2) {
  return document.createComment(text2);
}
function insertBefore(parentNode2, newNode, referenceNode) {
  parentNode2.insertBefore(newNode, referenceNode);
}
function removeChild(node, child) {
  node.removeChild(child);
}
function appendChild(node, child) {
  node.appendChild(child);
}
function parentNode(node) {
  return node.parentNode;
}
function nextSibling(node) {
  return node.nextSibling;
}
function tagName(node) {
  return node.tagName;
}
function setTextContent(node, text2) {
  node.textContent = text2;
}
function setStyleScope(node, scopeId) {
  node.setAttribute(scopeId, "");
}
var nodeOps = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  createElement,
  createElementNS,
  createTextNode,
  createComment,
  insertBefore,
  removeChild,
  appendChild,
  parentNode,
  nextSibling,
  tagName,
  setTextContent,
  setStyleScope
});
var ref = {
  create: function(_, vnode) {
    registerRef(vnode);
  },
  update: function(oldVnode, vnode) {
    if (oldVnode.data.ref !== vnode.data.ref) {
      registerRef(oldVnode, true);
      registerRef(vnode);
    }
  },
  destroy: function(vnode) {
    registerRef(vnode, true);
  }
};
function registerRef(vnode, isRemoval) {
  var ref2 = vnode.data.ref;
  if (!isDef(ref2))
    return;
  var vm = vnode.context;
  var refValue = vnode.componentInstance || vnode.elm;
  var value = isRemoval ? null : refValue;
  var $refsValue = isRemoval ? void 0 : refValue;
  if (isFunction(ref2)) {
    invokeWithErrorHandling(ref2, vm, [value], vm, "template ref function");
    return;
  }
  var isFor = vnode.data.refInFor;
  var _isString = typeof ref2 === "string" || typeof ref2 === "number";
  var _isRef = isRef(ref2);
  var refs = vm.$refs;
  if (_isString || _isRef) {
    if (isFor) {
      var existing = _isString ? refs[ref2] : ref2.value;
      if (isRemoval) {
        isArray(existing) && remove$2(existing, refValue);
      } else {
        if (!isArray(existing)) {
          if (_isString) {
            refs[ref2] = [refValue];
            setSetupRef(vm, ref2, refs[ref2]);
          } else {
            ref2.value = [refValue];
          }
        } else if (!existing.includes(refValue)) {
          existing.push(refValue);
        }
      }
    } else if (_isString) {
      if (isRemoval && refs[ref2] !== refValue) {
        return;
      }
      refs[ref2] = $refsValue;
      setSetupRef(vm, ref2, value);
    } else if (_isRef) {
      if (isRemoval && ref2.value !== refValue) {
        return;
      }
      ref2.value = value;
    } else
      ;
  }
}
function setSetupRef(_a2, key, val) {
  var _setupState = _a2._setupState;
  if (_setupState && hasOwn(_setupState, key)) {
    if (isRef(_setupState[key])) {
      _setupState[key].value = val;
    } else {
      _setupState[key] = val;
    }
  }
}
var emptyNode = new VNode("", {}, []);
var hooks = ["create", "activate", "update", "remove", "destroy"];
function sameVnode(a, b) {
  return a.key === b.key && a.asyncFactory === b.asyncFactory && (a.tag === b.tag && a.isComment === b.isComment && isDef(a.data) === isDef(b.data) && sameInputType(a, b) || isTrue(a.isAsyncPlaceholder) && isUndef(b.asyncFactory.error));
}
function sameInputType(a, b) {
  if (a.tag !== "input")
    return true;
  var i;
  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;
  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;
  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB);
}
function createKeyToOldIdx(children, beginIdx, endIdx) {
  var i, key;
  var map = {};
  for (i = beginIdx; i <= endIdx; ++i) {
    key = children[i].key;
    if (isDef(key))
      map[key] = i;
  }
  return map;
}
function createPatchFunction(backend) {
  var i, j;
  var cbs = {};
  var modules2 = backend.modules, nodeOps2 = backend.nodeOps;
  for (i = 0; i < hooks.length; ++i) {
    cbs[hooks[i]] = [];
    for (j = 0; j < modules2.length; ++j) {
      if (isDef(modules2[j][hooks[i]])) {
        cbs[hooks[i]].push(modules2[j][hooks[i]]);
      }
    }
  }
  function emptyNodeAt(elm) {
    return new VNode(nodeOps2.tagName(elm).toLowerCase(), {}, [], void 0, elm);
  }
  function createRmCb(childElm, listeners) {
    function remove2() {
      if (--remove2.listeners === 0) {
        removeNode(childElm);
      }
    }
    remove2.listeners = listeners;
    return remove2;
  }
  function removeNode(el) {
    var parent = nodeOps2.parentNode(el);
    if (isDef(parent)) {
      nodeOps2.removeChild(parent, el);
    }
  }
  function createElm(vnode, insertedVnodeQueue, parentElm, refElm, nested, ownerArray, index2) {
    if (isDef(vnode.elm) && isDef(ownerArray)) {
      vnode = ownerArray[index2] = cloneVNode(vnode);
    }
    vnode.isRootInsert = !nested;
    if (createComponent2(vnode, insertedVnodeQueue, parentElm, refElm)) {
      return;
    }
    var data = vnode.data;
    var children = vnode.children;
    var tag = vnode.tag;
    if (isDef(tag)) {
      vnode.elm = vnode.ns ? nodeOps2.createElementNS(vnode.ns, tag) : nodeOps2.createElement(tag, vnode);
      setScope(vnode);
      createChildren(vnode, children, insertedVnodeQueue);
      if (isDef(data)) {
        invokeCreateHooks(vnode, insertedVnodeQueue);
      }
      insert(parentElm, vnode.elm, refElm);
    } else if (isTrue(vnode.isComment)) {
      vnode.elm = nodeOps2.createComment(vnode.text);
      insert(parentElm, vnode.elm, refElm);
    } else {
      vnode.elm = nodeOps2.createTextNode(vnode.text);
      insert(parentElm, vnode.elm, refElm);
    }
  }
  function createComponent2(vnode, insertedVnodeQueue, parentElm, refElm) {
    var i2 = vnode.data;
    if (isDef(i2)) {
      var isReactivated = isDef(vnode.componentInstance) && i2.keepAlive;
      if (isDef(i2 = i2.hook) && isDef(i2 = i2.init)) {
        i2(vnode, false);
      }
      if (isDef(vnode.componentInstance)) {
        initComponent(vnode, insertedVnodeQueue);
        insert(parentElm, vnode.elm, refElm);
        if (isTrue(isReactivated)) {
          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);
        }
        return true;
      }
    }
  }
  function initComponent(vnode, insertedVnodeQueue) {
    if (isDef(vnode.data.pendingInsert)) {
      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);
      vnode.data.pendingInsert = null;
    }
    vnode.elm = vnode.componentInstance.$el;
    if (isPatchable(vnode)) {
      invokeCreateHooks(vnode, insertedVnodeQueue);
      setScope(vnode);
    } else {
      registerRef(vnode);
      insertedVnodeQueue.push(vnode);
    }
  }
  function reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm) {
    var i2;
    var innerNode = vnode;
    while (innerNode.componentInstance) {
      innerNode = innerNode.componentInstance._vnode;
      if (isDef(i2 = innerNode.data) && isDef(i2 = i2.transition)) {
        for (i2 = 0; i2 < cbs.activate.length; ++i2) {
          cbs.activate[i2](emptyNode, innerNode);
        }
        insertedVnodeQueue.push(innerNode);
        break;
      }
    }
    insert(parentElm, vnode.elm, refElm);
  }
  function insert(parent, elm, ref2) {
    if (isDef(parent)) {
      if (isDef(ref2)) {
        if (nodeOps2.parentNode(ref2) === parent) {
          nodeOps2.insertBefore(parent, elm, ref2);
        }
      } else {
        nodeOps2.appendChild(parent, elm);
      }
    }
  }
  function createChildren(vnode, children, insertedVnodeQueue) {
    if (isArray(children)) {
      for (var i_1 = 0; i_1 < children.length; ++i_1) {
        createElm(children[i_1], insertedVnodeQueue, vnode.elm, null, true, children, i_1);
      }
    } else if (isPrimitive$1(vnode.text)) {
      nodeOps2.appendChild(vnode.elm, nodeOps2.createTextNode(String(vnode.text)));
    }
  }
  function isPatchable(vnode) {
    while (vnode.componentInstance) {
      vnode = vnode.componentInstance._vnode;
    }
    return isDef(vnode.tag);
  }
  function invokeCreateHooks(vnode, insertedVnodeQueue) {
    for (var i_2 = 0; i_2 < cbs.create.length; ++i_2) {
      cbs.create[i_2](emptyNode, vnode);
    }
    i = vnode.data.hook;
    if (isDef(i)) {
      if (isDef(i.create))
        i.create(emptyNode, vnode);
      if (isDef(i.insert))
        insertedVnodeQueue.push(vnode);
    }
  }
  function setScope(vnode) {
    var i2;
    if (isDef(i2 = vnode.fnScopeId)) {
      nodeOps2.setStyleScope(vnode.elm, i2);
    } else {
      var ancestor = vnode;
      while (ancestor) {
        if (isDef(i2 = ancestor.context) && isDef(i2 = i2.$options._scopeId)) {
          nodeOps2.setStyleScope(vnode.elm, i2);
        }
        ancestor = ancestor.parent;
      }
    }
    if (isDef(i2 = activeInstance) && i2 !== vnode.context && i2 !== vnode.fnContext && isDef(i2 = i2.$options._scopeId)) {
      nodeOps2.setStyleScope(vnode.elm, i2);
    }
  }
  function addVnodes(parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {
    for (; startIdx <= endIdx; ++startIdx) {
      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);
    }
  }
  function invokeDestroyHook(vnode) {
    var i2, j2;
    var data = vnode.data;
    if (isDef(data)) {
      if (isDef(i2 = data.hook) && isDef(i2 = i2.destroy))
        i2(vnode);
      for (i2 = 0; i2 < cbs.destroy.length; ++i2)
        cbs.destroy[i2](vnode);
    }
    if (isDef(i2 = vnode.children)) {
      for (j2 = 0; j2 < vnode.children.length; ++j2) {
        invokeDestroyHook(vnode.children[j2]);
      }
    }
  }
  function removeVnodes(vnodes, startIdx, endIdx) {
    for (; startIdx <= endIdx; ++startIdx) {
      var ch = vnodes[startIdx];
      if (isDef(ch)) {
        if (isDef(ch.tag)) {
          removeAndInvokeRemoveHook(ch);
          invokeDestroyHook(ch);
        } else {
          removeNode(ch.elm);
        }
      }
    }
  }
  function removeAndInvokeRemoveHook(vnode, rm) {
    if (isDef(rm) || isDef(vnode.data)) {
      var i_3;
      var listeners = cbs.remove.length + 1;
      if (isDef(rm)) {
        rm.listeners += listeners;
      } else {
        rm = createRmCb(vnode.elm, listeners);
      }
      if (isDef(i_3 = vnode.componentInstance) && isDef(i_3 = i_3._vnode) && isDef(i_3.data)) {
        removeAndInvokeRemoveHook(i_3, rm);
      }
      for (i_3 = 0; i_3 < cbs.remove.length; ++i_3) {
        cbs.remove[i_3](vnode, rm);
      }
      if (isDef(i_3 = vnode.data.hook) && isDef(i_3 = i_3.remove)) {
        i_3(vnode, rm);
      } else {
        rm();
      }
    } else {
      removeNode(vnode.elm);
    }
  }
  function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {
    var oldStartIdx = 0;
    var newStartIdx = 0;
    var oldEndIdx = oldCh.length - 1;
    var oldStartVnode = oldCh[0];
    var oldEndVnode = oldCh[oldEndIdx];
    var newEndIdx = newCh.length - 1;
    var newStartVnode = newCh[0];
    var newEndVnode = newCh[newEndIdx];
    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;
    var canMove = !removeOnly;
    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {
      if (isUndef(oldStartVnode)) {
        oldStartVnode = oldCh[++oldStartIdx];
      } else if (isUndef(oldEndVnode)) {
        oldEndVnode = oldCh[--oldEndIdx];
      } else if (sameVnode(oldStartVnode, newStartVnode)) {
        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);
        oldStartVnode = oldCh[++oldStartIdx];
        newStartVnode = newCh[++newStartIdx];
      } else if (sameVnode(oldEndVnode, newEndVnode)) {
        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);
        oldEndVnode = oldCh[--oldEndIdx];
        newEndVnode = newCh[--newEndIdx];
      } else if (sameVnode(oldStartVnode, newEndVnode)) {
        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);
        canMove && nodeOps2.insertBefore(parentElm, oldStartVnode.elm, nodeOps2.nextSibling(oldEndVnode.elm));
        oldStartVnode = oldCh[++oldStartIdx];
        newEndVnode = newCh[--newEndIdx];
      } else if (sameVnode(oldEndVnode, newStartVnode)) {
        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);
        canMove && nodeOps2.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);
        oldEndVnode = oldCh[--oldEndIdx];
        newStartVnode = newCh[++newStartIdx];
      } else {
        if (isUndef(oldKeyToIdx))
          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);
        idxInOld = isDef(newStartVnode.key) ? oldKeyToIdx[newStartVnode.key] : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);
        if (isUndef(idxInOld)) {
          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);
        } else {
          vnodeToMove = oldCh[idxInOld];
          if (sameVnode(vnodeToMove, newStartVnode)) {
            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);
            oldCh[idxInOld] = void 0;
            canMove && nodeOps2.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);
          } else {
            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);
          }
        }
        newStartVnode = newCh[++newStartIdx];
      }
    }
    if (oldStartIdx > oldEndIdx) {
      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;
      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);
    } else if (newStartIdx > newEndIdx) {
      removeVnodes(oldCh, oldStartIdx, oldEndIdx);
    }
  }
  function findIdxInOld(node, oldCh, start, end) {
    for (var i_5 = start; i_5 < end; i_5++) {
      var c = oldCh[i_5];
      if (isDef(c) && sameVnode(node, c))
        return i_5;
    }
  }
  function patchVnode(oldVnode, vnode, insertedVnodeQueue, ownerArray, index2, removeOnly) {
    if (oldVnode === vnode) {
      return;
    }
    if (isDef(vnode.elm) && isDef(ownerArray)) {
      vnode = ownerArray[index2] = cloneVNode(vnode);
    }
    var elm = vnode.elm = oldVnode.elm;
    if (isTrue(oldVnode.isAsyncPlaceholder)) {
      if (isDef(vnode.asyncFactory.resolved)) {
        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);
      } else {
        vnode.isAsyncPlaceholder = true;
      }
      return;
    }
    if (isTrue(vnode.isStatic) && isTrue(oldVnode.isStatic) && vnode.key === oldVnode.key && (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))) {
      vnode.componentInstance = oldVnode.componentInstance;
      return;
    }
    var i2;
    var data = vnode.data;
    if (isDef(data) && isDef(i2 = data.hook) && isDef(i2 = i2.prepatch)) {
      i2(oldVnode, vnode);
    }
    var oldCh = oldVnode.children;
    var ch = vnode.children;
    if (isDef(data) && isPatchable(vnode)) {
      for (i2 = 0; i2 < cbs.update.length; ++i2)
        cbs.update[i2](oldVnode, vnode);
      if (isDef(i2 = data.hook) && isDef(i2 = i2.update))
        i2(oldVnode, vnode);
    }
    if (isUndef(vnode.text)) {
      if (isDef(oldCh) && isDef(ch)) {
        if (oldCh !== ch)
          updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly);
      } else if (isDef(ch)) {
        if (isDef(oldVnode.text))
          nodeOps2.setTextContent(elm, "");
        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);
      } else if (isDef(oldCh)) {
        removeVnodes(oldCh, 0, oldCh.length - 1);
      } else if (isDef(oldVnode.text)) {
        nodeOps2.setTextContent(elm, "");
      }
    } else if (oldVnode.text !== vnode.text) {
      nodeOps2.setTextContent(elm, vnode.text);
    }
    if (isDef(data)) {
      if (isDef(i2 = data.hook) && isDef(i2 = i2.postpatch))
        i2(oldVnode, vnode);
    }
  }
  function invokeInsertHook(vnode, queue2, initial) {
    if (isTrue(initial) && isDef(vnode.parent)) {
      vnode.parent.data.pendingInsert = queue2;
    } else {
      for (var i_6 = 0; i_6 < queue2.length; ++i_6) {
        queue2[i_6].data.hook.insert(queue2[i_6]);
      }
    }
  }
  var isRenderedModule = makeMap("attrs,class,staticClass,staticStyle,key");
  function hydrate(elm, vnode, insertedVnodeQueue, inVPre) {
    var i2;
    var tag = vnode.tag, data = vnode.data, children = vnode.children;
    inVPre = inVPre || data && data.pre;
    vnode.elm = elm;
    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {
      vnode.isAsyncPlaceholder = true;
      return true;
    }
    if (isDef(data)) {
      if (isDef(i2 = data.hook) && isDef(i2 = i2.init))
        i2(vnode, true);
      if (isDef(i2 = vnode.componentInstance)) {
        initComponent(vnode, insertedVnodeQueue);
        return true;
      }
    }
    if (isDef(tag)) {
      if (isDef(children)) {
        if (!elm.hasChildNodes()) {
          createChildren(vnode, children, insertedVnodeQueue);
        } else {
          if (isDef(i2 = data) && isDef(i2 = i2.domProps) && isDef(i2 = i2.innerHTML)) {
            if (i2 !== elm.innerHTML) {
              return false;
            }
          } else {
            var childrenMatch = true;
            var childNode = elm.firstChild;
            for (var i_7 = 0; i_7 < children.length; i_7++) {
              if (!childNode || !hydrate(childNode, children[i_7], insertedVnodeQueue, inVPre)) {
                childrenMatch = false;
                break;
              }
              childNode = childNode.nextSibling;
            }
            if (!childrenMatch || childNode) {
              return false;
            }
          }
        }
      }
      if (isDef(data)) {
        var fullInvoke = false;
        for (var key in data) {
          if (!isRenderedModule(key)) {
            fullInvoke = true;
            invokeCreateHooks(vnode, insertedVnodeQueue);
            break;
          }
        }
        if (!fullInvoke && data["class"]) {
          traverse(data["class"]);
        }
      }
    } else if (elm.data !== vnode.text) {
      elm.data = vnode.text;
    }
    return true;
  }
  return function patch2(oldVnode, vnode, hydrating, removeOnly) {
    if (isUndef(vnode)) {
      if (isDef(oldVnode))
        invokeDestroyHook(oldVnode);
      return;
    }
    var isInitialPatch = false;
    var insertedVnodeQueue = [];
    if (isUndef(oldVnode)) {
      isInitialPatch = true;
      createElm(vnode, insertedVnodeQueue);
    } else {
      var isRealElement = isDef(oldVnode.nodeType);
      if (!isRealElement && sameVnode(oldVnode, vnode)) {
        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);
      } else {
        if (isRealElement) {
          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {
            oldVnode.removeAttribute(SSR_ATTR);
            hydrating = true;
          }
          if (isTrue(hydrating)) {
            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {
              invokeInsertHook(vnode, insertedVnodeQueue, true);
              return oldVnode;
            }
          }
          oldVnode = emptyNodeAt(oldVnode);
        }
        var oldElm = oldVnode.elm;
        var parentElm = nodeOps2.parentNode(oldElm);
        createElm(
          vnode,
          insertedVnodeQueue,
          oldElm._leaveCb ? null : parentElm,
          nodeOps2.nextSibling(oldElm)
        );
        if (isDef(vnode.parent)) {
          var ancestor = vnode.parent;
          var patchable = isPatchable(vnode);
          while (ancestor) {
            for (var i_8 = 0; i_8 < cbs.destroy.length; ++i_8) {
              cbs.destroy[i_8](ancestor);
            }
            ancestor.elm = vnode.elm;
            if (patchable) {
              for (var i_9 = 0; i_9 < cbs.create.length; ++i_9) {
                cbs.create[i_9](emptyNode, ancestor);
              }
              var insert_1 = ancestor.data.hook.insert;
              if (insert_1.merged) {
                for (var i_10 = 1; i_10 < insert_1.fns.length; i_10++) {
                  insert_1.fns[i_10]();
                }
              }
            } else {
              registerRef(ancestor);
            }
            ancestor = ancestor.parent;
          }
        }
        if (isDef(parentElm)) {
          removeVnodes([oldVnode], 0, 0);
        } else if (isDef(oldVnode.tag)) {
          invokeDestroyHook(oldVnode);
        }
      }
    }
    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);
    return vnode.elm;
  };
}
var directives$1 = {
  create: updateDirectives,
  update: updateDirectives,
  destroy: function unbindDirectives(vnode) {
    updateDirectives(vnode, emptyNode);
  }
};
function updateDirectives(oldVnode, vnode) {
  if (oldVnode.data.directives || vnode.data.directives) {
    _update(oldVnode, vnode);
  }
}
function _update(oldVnode, vnode) {
  var isCreate = oldVnode === emptyNode;
  var isDestroy = vnode === emptyNode;
  var oldDirs = normalizeDirectives(oldVnode.data.directives, oldVnode.context);
  var newDirs = normalizeDirectives(vnode.data.directives, vnode.context);
  var dirsWithInsert = [];
  var dirsWithPostpatch = [];
  var key, oldDir, dir;
  for (key in newDirs) {
    oldDir = oldDirs[key];
    dir = newDirs[key];
    if (!oldDir) {
      callHook(dir, "bind", vnode, oldVnode);
      if (dir.def && dir.def.inserted) {
        dirsWithInsert.push(dir);
      }
    } else {
      dir.oldValue = oldDir.value;
      dir.oldArg = oldDir.arg;
      callHook(dir, "update", vnode, oldVnode);
      if (dir.def && dir.def.componentUpdated) {
        dirsWithPostpatch.push(dir);
      }
    }
  }
  if (dirsWithInsert.length) {
    var callInsert = function() {
      for (var i = 0; i < dirsWithInsert.length; i++) {
        callHook(dirsWithInsert[i], "inserted", vnode, oldVnode);
      }
    };
    if (isCreate) {
      mergeVNodeHook(vnode, "insert", callInsert);
    } else {
      callInsert();
    }
  }
  if (dirsWithPostpatch.length) {
    mergeVNodeHook(vnode, "postpatch", function() {
      for (var i = 0; i < dirsWithPostpatch.length; i++) {
        callHook(dirsWithPostpatch[i], "componentUpdated", vnode, oldVnode);
      }
    });
  }
  if (!isCreate) {
    for (key in oldDirs) {
      if (!newDirs[key]) {
        callHook(oldDirs[key], "unbind", oldVnode, oldVnode, isDestroy);
      }
    }
  }
}
var emptyModifiers = /* @__PURE__ */ Object.create(null);
function normalizeDirectives(dirs, vm) {
  var res = /* @__PURE__ */ Object.create(null);
  if (!dirs) {
    return res;
  }
  var i, dir;
  for (i = 0; i < dirs.length; i++) {
    dir = dirs[i];
    if (!dir.modifiers) {
      dir.modifiers = emptyModifiers;
    }
    res[getRawDirName(dir)] = dir;
    if (vm._setupState && vm._setupState.__sfc) {
      dir.def = dir.def || resolveAsset(vm, "_setupState", "v-" + dir.name);
    }
    dir.def = dir.def || resolveAsset(vm.$options, "directives", dir.name);
  }
  return res;
}
function getRawDirName(dir) {
  return dir.rawName || "".concat(dir.name, ".").concat(Object.keys(dir.modifiers || {}).join("."));
}
function callHook(dir, hook, vnode, oldVnode, isDestroy) {
  var fn = dir.def && dir.def[hook];
  if (fn) {
    try {
      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);
    } catch (e) {
      handleError(e, vnode.context, "directive ".concat(dir.name, " ").concat(hook, " hook"));
    }
  }
}
var baseModules = [ref, directives$1];
function updateAttrs(oldVnode, vnode) {
  var opts = vnode.componentOptions;
  if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {
    return;
  }
  if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {
    return;
  }
  var key, cur, old;
  var elm = vnode.elm;
  var oldAttrs = oldVnode.data.attrs || {};
  var attrs2 = vnode.data.attrs || {};
  if (isDef(attrs2.__ob__) || isTrue(attrs2._v_attr_proxy)) {
    attrs2 = vnode.data.attrs = extend({}, attrs2);
  }
  for (key in attrs2) {
    cur = attrs2[key];
    old = oldAttrs[key];
    if (old !== cur) {
      setAttr(elm, key, cur, vnode.data.pre);
    }
  }
  if ((isIE || isEdge) && attrs2.value !== oldAttrs.value) {
    setAttr(elm, "value", attrs2.value);
  }
  for (key in oldAttrs) {
    if (isUndef(attrs2[key])) {
      if (isXlink(key)) {
        elm.removeAttributeNS(xlinkNS, getXlinkProp(key));
      } else if (!isEnumeratedAttr(key)) {
        elm.removeAttribute(key);
      }
    }
  }
}
function setAttr(el, key, value, isInPre) {
  if (isInPre || el.tagName.indexOf("-") > -1) {
    baseSetAttr(el, key, value);
  } else if (isBooleanAttr(key)) {
    if (isFalsyAttrValue(value)) {
      el.removeAttribute(key);
    } else {
      value = key === "allowfullscreen" && el.tagName === "EMBED" ? "true" : key;
      el.setAttribute(key, value);
    }
  } else if (isEnumeratedAttr(key)) {
    el.setAttribute(key, convertEnumeratedValue(key, value));
  } else if (isXlink(key)) {
    if (isFalsyAttrValue(value)) {
      el.removeAttributeNS(xlinkNS, getXlinkProp(key));
    } else {
      el.setAttributeNS(xlinkNS, key, value);
    }
  } else {
    baseSetAttr(el, key, value);
  }
}
function baseSetAttr(el, key, value) {
  if (isFalsyAttrValue(value)) {
    el.removeAttribute(key);
  } else {
    if (isIE && !isIE9 && el.tagName === "TEXTAREA" && key === "placeholder" && value !== "" && !el.__ieph) {
      var blocker_1 = function(e) {
        e.stopImmediatePropagation();
        el.removeEventListener("input", blocker_1);
      };
      el.addEventListener("input", blocker_1);
      el.__ieph = true;
    }
    el.setAttribute(key, value);
  }
}
var attrs = {
  create: updateAttrs,
  update: updateAttrs
};
function updateClass(oldVnode, vnode) {
  var el = vnode.elm;
  var data = vnode.data;
  var oldData = oldVnode.data;
  if (isUndef(data.staticClass) && isUndef(data.class) && (isUndef(oldData) || isUndef(oldData.staticClass) && isUndef(oldData.class))) {
    return;
  }
  var cls = genClassForVnode(vnode);
  var transitionClass = el._transitionClasses;
  if (isDef(transitionClass)) {
    cls = concat(cls, stringifyClass(transitionClass));
  }
  if (cls !== el._prevClass) {
    el.setAttribute("class", cls);
    el._prevClass = cls;
  }
}
var klass$1 = {
  create: updateClass,
  update: updateClass
};
var validDivisionCharRE = /[\w).+\-_$\]]/;
function parseFilters(exp) {
  var inSingle = false;
  var inDouble = false;
  var inTemplateString = false;
  var inRegex = false;
  var curly = 0;
  var square = 0;
  var paren = 0;
  var lastFilterIndex = 0;
  var c, prev, i, expression, filters;
  for (i = 0; i < exp.length; i++) {
    prev = c;
    c = exp.charCodeAt(i);
    if (inSingle) {
      if (c === 39 && prev !== 92)
        inSingle = false;
    } else if (inDouble) {
      if (c === 34 && prev !== 92)
        inDouble = false;
    } else if (inTemplateString) {
      if (c === 96 && prev !== 92)
        inTemplateString = false;
    } else if (inRegex) {
      if (c === 47 && prev !== 92)
        inRegex = false;
    } else if (c === 124 && exp.charCodeAt(i + 1) !== 124 && exp.charCodeAt(i - 1) !== 124 && !curly && !square && !paren) {
      if (expression === void 0) {
        lastFilterIndex = i + 1;
        expression = exp.slice(0, i).trim();
      } else {
        pushFilter();
      }
    } else {
      switch (c) {
        case 34:
          inDouble = true;
          break;
        case 39:
          inSingle = true;
          break;
        case 96:
          inTemplateString = true;
          break;
        case 40:
          paren++;
          break;
        case 41:
          paren--;
          break;
        case 91:
          square++;
          break;
        case 93:
          square--;
          break;
        case 123:
          curly++;
          break;
        case 125:
          curly--;
          break;
      }
      if (c === 47) {
        var j = i - 1;
        var p2 = void 0;
        for (; j >= 0; j--) {
          p2 = exp.charAt(j);
          if (p2 !== " ")
            break;
        }
        if (!p2 || !validDivisionCharRE.test(p2)) {
          inRegex = true;
        }
      }
    }
  }
  if (expression === void 0) {
    expression = exp.slice(0, i).trim();
  } else if (lastFilterIndex !== 0) {
    pushFilter();
  }
  function pushFilter() {
    (filters || (filters = [])).push(exp.slice(lastFilterIndex, i).trim());
    lastFilterIndex = i + 1;
  }
  if (filters) {
    for (i = 0; i < filters.length; i++) {
      expression = wrapFilter(expression, filters[i]);
    }
  }
  return expression;
}
function wrapFilter(exp, filter) {
  var i = filter.indexOf("(");
  if (i < 0) {
    return '_f("'.concat(filter, '")(').concat(exp, ")");
  } else {
    var name_1 = filter.slice(0, i);
    var args = filter.slice(i + 1);
    return '_f("'.concat(name_1, '")(').concat(exp).concat(args !== ")" ? "," + args : args);
  }
}
function baseWarn(msg, range) {
  console.error("[Vue compiler]: ".concat(msg));
}
function pluckModuleFunction(modules2, key) {
  return modules2 ? modules2.map(function(m) {
    return m[key];
  }).filter(function(_) {
    return _;
  }) : [];
}
function addProp(el, name, value, range, dynamic) {
  (el.props || (el.props = [])).push(rangeSetItem({ name, value, dynamic }, range));
  el.plain = false;
}
function addAttr(el, name, value, range, dynamic) {
  var attrs2 = dynamic ? el.dynamicAttrs || (el.dynamicAttrs = []) : el.attrs || (el.attrs = []);
  attrs2.push(rangeSetItem({ name, value, dynamic }, range));
  el.plain = false;
}
function addRawAttr(el, name, value, range) {
  el.attrsMap[name] = value;
  el.attrsList.push(rangeSetItem({ name, value }, range));
}
function addDirective(el, name, rawName, value, arg, isDynamicArg, modifiers, range) {
  (el.directives || (el.directives = [])).push(rangeSetItem({
    name,
    rawName,
    value,
    arg,
    isDynamicArg,
    modifiers
  }, range));
  el.plain = false;
}
function prependModifierMarker(symbol, name, dynamic) {
  return dynamic ? "_p(".concat(name, ',"').concat(symbol, '")') : symbol + name;
}
function addHandler(el, name, value, modifiers, important, warn2, range, dynamic) {
  modifiers = modifiers || emptyObject;
  if (modifiers.right) {
    if (dynamic) {
      name = "(".concat(name, ")==='click'?'contextmenu':(").concat(name, ")");
    } else if (name === "click") {
      name = "contextmenu";
      delete modifiers.right;
    }
  } else if (modifiers.middle) {
    if (dynamic) {
      name = "(".concat(name, ")==='click'?'mouseup':(").concat(name, ")");
    } else if (name === "click") {
      name = "mouseup";
    }
  }
  if (modifiers.capture) {
    delete modifiers.capture;
    name = prependModifierMarker("!", name, dynamic);
  }
  if (modifiers.once) {
    delete modifiers.once;
    name = prependModifierMarker("~", name, dynamic);
  }
  if (modifiers.passive) {
    delete modifiers.passive;
    name = prependModifierMarker("&", name, dynamic);
  }
  var events2;
  if (modifiers.native) {
    delete modifiers.native;
    events2 = el.nativeEvents || (el.nativeEvents = {});
  } else {
    events2 = el.events || (el.events = {});
  }
  var newHandler = rangeSetItem({ value: value.trim(), dynamic }, range);
  if (modifiers !== emptyObject) {
    newHandler.modifiers = modifiers;
  }
  var handlers = events2[name];
  if (Array.isArray(handlers)) {
    important ? handlers.unshift(newHandler) : handlers.push(newHandler);
  } else if (handlers) {
    events2[name] = important ? [newHandler, handlers] : [handlers, newHandler];
  } else {
    events2[name] = newHandler;
  }
  el.plain = false;
}
function getRawBindingAttr(el, name) {
  return el.rawAttrsMap[":" + name] || el.rawAttrsMap["v-bind:" + name] || el.rawAttrsMap[name];
}
function getBindingAttr(el, name, getStatic) {
  var dynamicValue = getAndRemoveAttr(el, ":" + name) || getAndRemoveAttr(el, "v-bind:" + name);
  if (dynamicValue != null) {
    return parseFilters(dynamicValue);
  } else if (getStatic !== false) {
    var staticValue = getAndRemoveAttr(el, name);
    if (staticValue != null) {
      return JSON.stringify(staticValue);
    }
  }
}
function getAndRemoveAttr(el, name, removeFromMap) {
  var val;
  if ((val = el.attrsMap[name]) != null) {
    var list = el.attrsList;
    for (var i = 0, l = list.length; i < l; i++) {
      if (list[i].name === name) {
        list.splice(i, 1);
        break;
      }
    }
  }
  if (removeFromMap) {
    delete el.attrsMap[name];
  }
  return val;
}
function getAndRemoveAttrByRegex(el, name) {
  var list = el.attrsList;
  for (var i = 0, l = list.length; i < l; i++) {
    var attr = list[i];
    if (name.test(attr.name)) {
      list.splice(i, 1);
      return attr;
    }
  }
}
function rangeSetItem(item, range) {
  if (range) {
    if (range.start != null) {
      item.start = range.start;
    }
    if (range.end != null) {
      item.end = range.end;
    }
  }
  return item;
}
function genComponentModel(el, value, modifiers) {
  var _a2 = modifiers || {}, number = _a2.number, trim = _a2.trim;
  var baseValueExpression = "$$v";
  var valueExpression = baseValueExpression;
  if (trim) {
    valueExpression = "(typeof ".concat(baseValueExpression, " === 'string'") + "? ".concat(baseValueExpression, ".trim()") + ": ".concat(baseValueExpression, ")");
  }
  if (number) {
    valueExpression = "_n(".concat(valueExpression, ")");
  }
  var assignment = genAssignmentCode(value, valueExpression);
  el.model = {
    value: "(".concat(value, ")"),
    expression: JSON.stringify(value),
    callback: "function (".concat(baseValueExpression, ") {").concat(assignment, "}")
  };
}
function genAssignmentCode(value, assignment) {
  var res = parseModel(value);
  if (res.key === null) {
    return "".concat(value, "=").concat(assignment);
  } else {
    return "$set(".concat(res.exp, ", ").concat(res.key, ", ").concat(assignment, ")");
  }
}
var len, str, chr, index, expressionPos, expressionEndPos;
function parseModel(val) {
  val = val.trim();
  len = val.length;
  if (val.indexOf("[") < 0 || val.lastIndexOf("]") < len - 1) {
    index = val.lastIndexOf(".");
    if (index > -1) {
      return {
        exp: val.slice(0, index),
        key: '"' + val.slice(index + 1) + '"'
      };
    } else {
      return {
        exp: val,
        key: null
      };
    }
  }
  str = val;
  index = expressionPos = expressionEndPos = 0;
  while (!eof()) {
    chr = next();
    if (isStringStart(chr)) {
      parseString(chr);
    } else if (chr === 91) {
      parseBracket(chr);
    }
  }
  return {
    exp: val.slice(0, expressionPos),
    key: val.slice(expressionPos + 1, expressionEndPos)
  };
}
function next() {
  return str.charCodeAt(++index);
}
function eof() {
  return index >= len;
}
function isStringStart(chr2) {
  return chr2 === 34 || chr2 === 39;
}
function parseBracket(chr2) {
  var inBracket = 1;
  expressionPos = index;
  while (!eof()) {
    chr2 = next();
    if (isStringStart(chr2)) {
      parseString(chr2);
      continue;
    }
    if (chr2 === 91)
      inBracket++;
    if (chr2 === 93)
      inBracket--;
    if (inBracket === 0) {
      expressionEndPos = index;
      break;
    }
  }
}
function parseString(chr2) {
  var stringQuote = chr2;
  while (!eof()) {
    chr2 = next();
    if (chr2 === stringQuote) {
      break;
    }
  }
}
var RANGE_TOKEN = "__r";
var CHECKBOX_RADIO_TOKEN = "__c";
function model$1(el, dir, _warn) {
  var value = dir.value;
  var modifiers = dir.modifiers;
  var tag = el.tag;
  var type = el.attrsMap.type;
  if (el.component) {
    genComponentModel(el, value, modifiers);
    return false;
  } else if (tag === "select") {
    genSelect(el, value, modifiers);
  } else if (tag === "input" && type === "checkbox") {
    genCheckboxModel(el, value, modifiers);
  } else if (tag === "input" && type === "radio") {
    genRadioModel(el, value, modifiers);
  } else if (tag === "input" || tag === "textarea") {
    genDefaultModel(el, value, modifiers);
  } else if (!config.isReservedTag(tag)) {
    genComponentModel(el, value, modifiers);
    return false;
  } else
    ;
  return true;
}
function genCheckboxModel(el, value, modifiers) {
  var number = modifiers && modifiers.number;
  var valueBinding = getBindingAttr(el, "value") || "null";
  var trueValueBinding = getBindingAttr(el, "true-value") || "true";
  var falseValueBinding = getBindingAttr(el, "false-value") || "false";
  addProp(el, "checked", "Array.isArray(".concat(value, ")") + "?_i(".concat(value, ",").concat(valueBinding, ")>-1") + (trueValueBinding === "true" ? ":(".concat(value, ")") : ":_q(".concat(value, ",").concat(trueValueBinding, ")")));
  addHandler(el, "change", "var $$a=".concat(value, ",") + "$$el=$event.target," + "$$c=$$el.checked?(".concat(trueValueBinding, "):(").concat(falseValueBinding, ");") + "if(Array.isArray($$a)){" + "var $$v=".concat(number ? "_n(" + valueBinding + ")" : valueBinding, ",") + "$$i=_i($$a,$$v);" + "if($$el.checked){$$i<0&&(".concat(genAssignmentCode(value, "$$a.concat([$$v])"), ")}") + "else{$$i>-1&&(".concat(genAssignmentCode(value, "$$a.slice(0,$$i).concat($$a.slice($$i+1))"), ")}") + "}else{".concat(genAssignmentCode(value, "$$c"), "}"), null, true);
}
function genRadioModel(el, value, modifiers) {
  var number = modifiers && modifiers.number;
  var valueBinding = getBindingAttr(el, "value") || "null";
  valueBinding = number ? "_n(".concat(valueBinding, ")") : valueBinding;
  addProp(el, "checked", "_q(".concat(value, ",").concat(valueBinding, ")"));
  addHandler(el, "change", genAssignmentCode(value, valueBinding), null, true);
}
function genSelect(el, value, modifiers) {
  var number = modifiers && modifiers.number;
  var selectedVal = 'Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;' + "return ".concat(number ? "_n(val)" : "val", "})");
  var assignment = "$event.target.multiple ? $$selectedVal : $$selectedVal[0]";
  var code = "var $$selectedVal = ".concat(selectedVal, ";");
  code = "".concat(code, " ").concat(genAssignmentCode(value, assignment));
  addHandler(el, "change", code, null, true);
}
function genDefaultModel(el, value, modifiers) {
  var type = el.attrsMap.type;
  var _a2 = modifiers || {}, lazy = _a2.lazy, number = _a2.number, trim = _a2.trim;
  var needCompositionGuard = !lazy && type !== "range";
  var event = lazy ? "change" : type === "range" ? RANGE_TOKEN : "input";
  var valueExpression = "$event.target.value";
  if (trim) {
    valueExpression = "$event.target.value.trim()";
  }
  if (number) {
    valueExpression = "_n(".concat(valueExpression, ")");
  }
  var code = genAssignmentCode(value, valueExpression);
  if (needCompositionGuard) {
    code = "if($event.target.composing)return;".concat(code);
  }
  addProp(el, "value", "(".concat(value, ")"));
  addHandler(el, event, code, null, true);
  if (trim || number) {
    addHandler(el, "blur", "$forceUpdate()");
  }
}
function normalizeEvents(on2) {
  if (isDef(on2[RANGE_TOKEN])) {
    var event_1 = isIE ? "change" : "input";
    on2[event_1] = [].concat(on2[RANGE_TOKEN], on2[event_1] || []);
    delete on2[RANGE_TOKEN];
  }
  if (isDef(on2[CHECKBOX_RADIO_TOKEN])) {
    on2.change = [].concat(on2[CHECKBOX_RADIO_TOKEN], on2.change || []);
    delete on2[CHECKBOX_RADIO_TOKEN];
  }
}
var target;
function createOnceHandler(event, handler, capture) {
  var _target = target;
  return function onceHandler() {
    var res = handler.apply(null, arguments);
    if (res !== null) {
      remove(event, onceHandler, capture, _target);
    }
  };
}
var useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);
function add(name, handler, capture, passive) {
  if (useMicrotaskFix) {
    var attachedTimestamp_1 = currentFlushTimestamp;
    var original_1 = handler;
    handler = original_1._wrapper = function(e) {
      if (e.target === e.currentTarget || e.timeStamp >= attachedTimestamp_1 || e.timeStamp <= 0 || e.target.ownerDocument !== document) {
        return original_1.apply(this, arguments);
      }
    };
  }
  target.addEventListener(name, handler, supportsPassive ? { capture, passive } : capture);
}
function remove(name, handler, capture, _target) {
  (_target || target).removeEventListener(
    name,
    handler._wrapper || handler,
    capture
  );
}
function updateDOMListeners(oldVnode, vnode) {
  if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {
    return;
  }
  var on2 = vnode.data.on || {};
  var oldOn = oldVnode.data.on || {};
  target = vnode.elm || oldVnode.elm;
  normalizeEvents(on2);
  updateListeners(on2, oldOn, add, remove, createOnceHandler, vnode.context);
  target = void 0;
}
var events = {
  create: updateDOMListeners,
  update: updateDOMListeners,
  destroy: function(vnode) {
    return updateDOMListeners(vnode, emptyNode);
  }
};
var svgContainer;
function updateDOMProps(oldVnode, vnode) {
  if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {
    return;
  }
  var key, cur;
  var elm = vnode.elm;
  var oldProps = oldVnode.data.domProps || {};
  var props2 = vnode.data.domProps || {};
  if (isDef(props2.__ob__) || isTrue(props2._v_attr_proxy)) {
    props2 = vnode.data.domProps = extend({}, props2);
  }
  for (key in oldProps) {
    if (!(key in props2)) {
      elm[key] = "";
    }
  }
  for (key in props2) {
    cur = props2[key];
    if (key === "textContent" || key === "innerHTML") {
      if (vnode.children)
        vnode.children.length = 0;
      if (cur === oldProps[key])
        continue;
      if (elm.childNodes.length === 1) {
        elm.removeChild(elm.childNodes[0]);
      }
    }
    if (key === "value" && elm.tagName !== "PROGRESS") {
      elm._value = cur;
      var strCur = isUndef(cur) ? "" : String(cur);
      if (shouldUpdateValue(elm, strCur)) {
        elm.value = strCur;
      }
    } else if (key === "innerHTML" && isSVG(elm.tagName) && isUndef(elm.innerHTML)) {
      svgContainer = svgContainer || document.createElement("div");
      svgContainer.innerHTML = "<svg>".concat(cur, "</svg>");
      var svg = svgContainer.firstChild;
      while (elm.firstChild) {
        elm.removeChild(elm.firstChild);
      }
      while (svg.firstChild) {
        elm.appendChild(svg.firstChild);
      }
    } else if (cur !== oldProps[key]) {
      try {
        elm[key] = cur;
      } catch (e) {
      }
    }
  }
}
function shouldUpdateValue(elm, checkVal) {
  return !elm.composing && (elm.tagName === "OPTION" || isNotInFocusAndDirty(elm, checkVal) || isDirtyWithModifiers(elm, checkVal));
}
function isNotInFocusAndDirty(elm, checkVal) {
  var notInFocus = true;
  try {
    notInFocus = document.activeElement !== elm;
  } catch (e) {
  }
  return notInFocus && elm.value !== checkVal;
}
function isDirtyWithModifiers(elm, newVal) {
  var value = elm.value;
  var modifiers = elm._vModifiers;
  if (isDef(modifiers)) {
    if (modifiers.number) {
      return toNumber(value) !== toNumber(newVal);
    }
    if (modifiers.trim) {
      return value.trim() !== newVal.trim();
    }
  }
  return value !== newVal;
}
var domProps = {
  create: updateDOMProps,
  update: updateDOMProps
};
var parseStyleText = cached(function(cssText) {
  var res = {};
  var listDelimiter = /;(?![^(]*\))/g;
  var propertyDelimiter = /:(.+)/;
  cssText.split(listDelimiter).forEach(function(item) {
    if (item) {
      var tmp = item.split(propertyDelimiter);
      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());
    }
  });
  return res;
});
function normalizeStyleData(data) {
  var style2 = normalizeStyleBinding(data.style);
  return data.staticStyle ? extend(data.staticStyle, style2) : style2;
}
function normalizeStyleBinding(bindingStyle) {
  if (Array.isArray(bindingStyle)) {
    return toObject(bindingStyle);
  }
  if (typeof bindingStyle === "string") {
    return parseStyleText(bindingStyle);
  }
  return bindingStyle;
}
function getStyle(vnode, checkChild) {
  var res = {};
  var styleData;
  if (checkChild) {
    var childNode = vnode;
    while (childNode.componentInstance) {
      childNode = childNode.componentInstance._vnode;
      if (childNode && childNode.data && (styleData = normalizeStyleData(childNode.data))) {
        extend(res, styleData);
      }
    }
  }
  if (styleData = normalizeStyleData(vnode.data)) {
    extend(res, styleData);
  }
  var parentNode2 = vnode;
  while (parentNode2 = parentNode2.parent) {
    if (parentNode2.data && (styleData = normalizeStyleData(parentNode2.data))) {
      extend(res, styleData);
    }
  }
  return res;
}
var cssVarRE = /^--/;
var importantRE = /\s*!important$/;
var setProp = function(el, name, val) {
  if (cssVarRE.test(name)) {
    el.style.setProperty(name, val);
  } else if (importantRE.test(val)) {
    el.style.setProperty(hyphenate(name), val.replace(importantRE, ""), "important");
  } else {
    var normalizedName = normalize(name);
    if (Array.isArray(val)) {
      for (var i = 0, len2 = val.length; i < len2; i++) {
        el.style[normalizedName] = val[i];
      }
    } else {
      el.style[normalizedName] = val;
    }
  }
};
var vendorNames = ["Webkit", "Moz", "ms"];
var emptyStyle;
var normalize = cached(function(prop) {
  emptyStyle = emptyStyle || document.createElement("div").style;
  prop = camelize(prop);
  if (prop !== "filter" && prop in emptyStyle) {
    return prop;
  }
  var capName = prop.charAt(0).toUpperCase() + prop.slice(1);
  for (var i = 0; i < vendorNames.length; i++) {
    var name_1 = vendorNames[i] + capName;
    if (name_1 in emptyStyle) {
      return name_1;
    }
  }
});
function updateStyle(oldVnode, vnode) {
  var data = vnode.data;
  var oldData = oldVnode.data;
  if (isUndef(data.staticStyle) && isUndef(data.style) && isUndef(oldData.staticStyle) && isUndef(oldData.style)) {
    return;
  }
  var cur, name;
  var el = vnode.elm;
  var oldStaticStyle = oldData.staticStyle;
  var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};
  var oldStyle = oldStaticStyle || oldStyleBinding;
  var style2 = normalizeStyleBinding(vnode.data.style) || {};
  vnode.data.normalizedStyle = isDef(style2.__ob__) ? extend({}, style2) : style2;
  var newStyle = getStyle(vnode, true);
  for (name in oldStyle) {
    if (isUndef(newStyle[name])) {
      setProp(el, name, "");
    }
  }
  for (name in newStyle) {
    cur = newStyle[name];
    if (cur !== oldStyle[name]) {
      setProp(el, name, cur == null ? "" : cur);
    }
  }
}
var style$1 = {
  create: updateStyle,
  update: updateStyle
};
var whitespaceRE$1 = /\s+/;
function addClass(el, cls) {
  if (!cls || !(cls = cls.trim())) {
    return;
  }
  if (el.classList) {
    if (cls.indexOf(" ") > -1) {
      cls.split(whitespaceRE$1).forEach(function(c) {
        return el.classList.add(c);
      });
    } else {
      el.classList.add(cls);
    }
  } else {
    var cur = " ".concat(el.getAttribute("class") || "", " ");
    if (cur.indexOf(" " + cls + " ") < 0) {
      el.setAttribute("class", (cur + cls).trim());
    }
  }
}
function removeClass(el, cls) {
  if (!cls || !(cls = cls.trim())) {
    return;
  }
  if (el.classList) {
    if (cls.indexOf(" ") > -1) {
      cls.split(whitespaceRE$1).forEach(function(c) {
        return el.classList.remove(c);
      });
    } else {
      el.classList.remove(cls);
    }
    if (!el.classList.length) {
      el.removeAttribute("class");
    }
  } else {
    var cur = " ".concat(el.getAttribute("class") || "", " ");
    var tar = " " + cls + " ";
    while (cur.indexOf(tar) >= 0) {
      cur = cur.replace(tar, " ");
    }
    cur = cur.trim();
    if (cur) {
      el.setAttribute("class", cur);
    } else {
      el.removeAttribute("class");
    }
  }
}
function resolveTransition(def2) {
  if (!def2) {
    return;
  }
  if (typeof def2 === "object") {
    var res = {};
    if (def2.css !== false) {
      extend(res, autoCssTransition(def2.name || "v"));
    }
    extend(res, def2);
    return res;
  } else if (typeof def2 === "string") {
    return autoCssTransition(def2);
  }
}
var autoCssTransition = cached(function(name) {
  return {
    enterClass: "".concat(name, "-enter"),
    enterToClass: "".concat(name, "-enter-to"),
    enterActiveClass: "".concat(name, "-enter-active"),
    leaveClass: "".concat(name, "-leave"),
    leaveToClass: "".concat(name, "-leave-to"),
    leaveActiveClass: "".concat(name, "-leave-active")
  };
});
var hasTransition = inBrowser && !isIE9;
var TRANSITION = "transition";
var ANIMATION = "animation";
var transitionProp = "transition";
var transitionEndEvent = "transitionend";
var animationProp = "animation";
var animationEndEvent = "animationend";
if (hasTransition) {
  if (window.ontransitionend === void 0 && window.onwebkittransitionend !== void 0) {
    transitionProp = "WebkitTransition";
    transitionEndEvent = "webkitTransitionEnd";
  }
  if (window.onanimationend === void 0 && window.onwebkitanimationend !== void 0) {
    animationProp = "WebkitAnimation";
    animationEndEvent = "webkitAnimationEnd";
  }
}
var raf = inBrowser ? window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : setTimeout : function(fn) {
  return fn();
};
function nextFrame(fn) {
  raf(function() {
    raf(fn);
  });
}
function addTransitionClass(el, cls) {
  var transitionClasses = el._transitionClasses || (el._transitionClasses = []);
  if (transitionClasses.indexOf(cls) < 0) {
    transitionClasses.push(cls);
    addClass(el, cls);
  }
}
function removeTransitionClass(el, cls) {
  if (el._transitionClasses) {
    remove$2(el._transitionClasses, cls);
  }
  removeClass(el, cls);
}
function whenTransitionEnds(el, expectedType, cb) {
  var _a2 = getTransitionInfo(el, expectedType), type = _a2.type, timeout = _a2.timeout, propCount = _a2.propCount;
  if (!type)
    return cb();
  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;
  var ended = 0;
  var end = function() {
    el.removeEventListener(event, onEnd);
    cb();
  };
  var onEnd = function(e) {
    if (e.target === el) {
      if (++ended >= propCount) {
        end();
      }
    }
  };
  setTimeout(function() {
    if (ended < propCount) {
      end();
    }
  }, timeout + 1);
  el.addEventListener(event, onEnd);
}
var transformRE = /\b(transform|all)(,|$)/;
function getTransitionInfo(el, expectedType) {
  var styles = window.getComputedStyle(el);
  var transitionDelays = (styles[transitionProp + "Delay"] || "").split(", ");
  var transitionDurations = (styles[transitionProp + "Duration"] || "").split(", ");
  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);
  var animationDelays = (styles[animationProp + "Delay"] || "").split(", ");
  var animationDurations = (styles[animationProp + "Duration"] || "").split(", ");
  var animationTimeout = getTimeout(animationDelays, animationDurations);
  var type;
  var timeout = 0;
  var propCount = 0;
  if (expectedType === TRANSITION) {
    if (transitionTimeout > 0) {
      type = TRANSITION;
      timeout = transitionTimeout;
      propCount = transitionDurations.length;
    }
  } else if (expectedType === ANIMATION) {
    if (animationTimeout > 0) {
      type = ANIMATION;
      timeout = animationTimeout;
      propCount = animationDurations.length;
    }
  } else {
    timeout = Math.max(transitionTimeout, animationTimeout);
    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;
    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;
  }
  var hasTransform = type === TRANSITION && transformRE.test(styles[transitionProp + "Property"]);
  return {
    type,
    timeout,
    propCount,
    hasTransform
  };
}
function getTimeout(delays, durations) {
  while (delays.length < durations.length) {
    delays = delays.concat(delays);
  }
  return Math.max.apply(null, durations.map(function(d, i) {
    return toMs(d) + toMs(delays[i]);
  }));
}
function toMs(s) {
  return Number(s.slice(0, -1).replace(",", ".")) * 1e3;
}
function enter(vnode, toggleDisplay) {
  var el = vnode.elm;
  if (isDef(el._leaveCb)) {
    el._leaveCb.cancelled = true;
    el._leaveCb();
  }
  var data = resolveTransition(vnode.data.transition);
  if (isUndef(data)) {
    return;
  }
  if (isDef(el._enterCb) || el.nodeType !== 1) {
    return;
  }
  var css = data.css, type = data.type, enterClass = data.enterClass, enterToClass = data.enterToClass, enterActiveClass = data.enterActiveClass, appearClass = data.appearClass, appearToClass = data.appearToClass, appearActiveClass = data.appearActiveClass, beforeEnter = data.beforeEnter, enter2 = data.enter, afterEnter = data.afterEnter, enterCancelled = data.enterCancelled, beforeAppear = data.beforeAppear, appear = data.appear, afterAppear = data.afterAppear, appearCancelled = data.appearCancelled, duration = data.duration;
  var context = activeInstance;
  var transitionNode = activeInstance.$vnode;
  while (transitionNode && transitionNode.parent) {
    context = transitionNode.context;
    transitionNode = transitionNode.parent;
  }
  var isAppear = !context._isMounted || !vnode.isRootInsert;
  if (isAppear && !appear && appear !== "") {
    return;
  }
  var startClass = isAppear && appearClass ? appearClass : enterClass;
  var activeClass = isAppear && appearActiveClass ? appearActiveClass : enterActiveClass;
  var toClass = isAppear && appearToClass ? appearToClass : enterToClass;
  var beforeEnterHook = isAppear ? beforeAppear || beforeEnter : beforeEnter;
  var enterHook = isAppear ? isFunction(appear) ? appear : enter2 : enter2;
  var afterEnterHook = isAppear ? afterAppear || afterEnter : afterEnter;
  var enterCancelledHook = isAppear ? appearCancelled || enterCancelled : enterCancelled;
  var explicitEnterDuration = toNumber(isObject(duration) ? duration.enter : duration);
  var expectsCSS = css !== false && !isIE9;
  var userWantsControl = getHookArgumentsLength(enterHook);
  var cb = el._enterCb = once(function() {
    if (expectsCSS) {
      removeTransitionClass(el, toClass);
      removeTransitionClass(el, activeClass);
    }
    if (cb.cancelled) {
      if (expectsCSS) {
        removeTransitionClass(el, startClass);
      }
      enterCancelledHook && enterCancelledHook(el);
    } else {
      afterEnterHook && afterEnterHook(el);
    }
    el._enterCb = null;
  });
  if (!vnode.data.show) {
    mergeVNodeHook(vnode, "insert", function() {
      var parent = el.parentNode;
      var pendingNode = parent && parent._pending && parent._pending[vnode.key];
      if (pendingNode && pendingNode.tag === vnode.tag && pendingNode.elm._leaveCb) {
        pendingNode.elm._leaveCb();
      }
      enterHook && enterHook(el, cb);
    });
  }
  beforeEnterHook && beforeEnterHook(el);
  if (expectsCSS) {
    addTransitionClass(el, startClass);
    addTransitionClass(el, activeClass);
    nextFrame(function() {
      removeTransitionClass(el, startClass);
      if (!cb.cancelled) {
        addTransitionClass(el, toClass);
        if (!userWantsControl) {
          if (isValidDuration(explicitEnterDuration)) {
            setTimeout(cb, explicitEnterDuration);
          } else {
            whenTransitionEnds(el, type, cb);
          }
        }
      }
    });
  }
  if (vnode.data.show) {
    toggleDisplay && toggleDisplay();
    enterHook && enterHook(el, cb);
  }
  if (!expectsCSS && !userWantsControl) {
    cb();
  }
}
function leave(vnode, rm) {
  var el = vnode.elm;
  if (isDef(el._enterCb)) {
    el._enterCb.cancelled = true;
    el._enterCb();
  }
  var data = resolveTransition(vnode.data.transition);
  if (isUndef(data) || el.nodeType !== 1) {
    return rm();
  }
  if (isDef(el._leaveCb)) {
    return;
  }
  var css = data.css, type = data.type, leaveClass = data.leaveClass, leaveToClass = data.leaveToClass, leaveActiveClass = data.leaveActiveClass, beforeLeave = data.beforeLeave, leave2 = data.leave, afterLeave = data.afterLeave, leaveCancelled = data.leaveCancelled, delayLeave = data.delayLeave, duration = data.duration;
  var expectsCSS = css !== false && !isIE9;
  var userWantsControl = getHookArgumentsLength(leave2);
  var explicitLeaveDuration = toNumber(isObject(duration) ? duration.leave : duration);
  var cb = el._leaveCb = once(function() {
    if (el.parentNode && el.parentNode._pending) {
      el.parentNode._pending[vnode.key] = null;
    }
    if (expectsCSS) {
      removeTransitionClass(el, leaveToClass);
      removeTransitionClass(el, leaveActiveClass);
    }
    if (cb.cancelled) {
      if (expectsCSS) {
        removeTransitionClass(el, leaveClass);
      }
      leaveCancelled && leaveCancelled(el);
    } else {
      rm();
      afterLeave && afterLeave(el);
    }
    el._leaveCb = null;
  });
  if (delayLeave) {
    delayLeave(performLeave);
  } else {
    performLeave();
  }
  function performLeave() {
    if (cb.cancelled) {
      return;
    }
    if (!vnode.data.show && el.parentNode) {
      (el.parentNode._pending || (el.parentNode._pending = {}))[vnode.key] = vnode;
    }
    beforeLeave && beforeLeave(el);
    if (expectsCSS) {
      addTransitionClass(el, leaveClass);
      addTransitionClass(el, leaveActiveClass);
      nextFrame(function() {
        removeTransitionClass(el, leaveClass);
        if (!cb.cancelled) {
          addTransitionClass(el, leaveToClass);
          if (!userWantsControl) {
            if (isValidDuration(explicitLeaveDuration)) {
              setTimeout(cb, explicitLeaveDuration);
            } else {
              whenTransitionEnds(el, type, cb);
            }
          }
        }
      });
    }
    leave2 && leave2(el, cb);
    if (!expectsCSS && !userWantsControl) {
      cb();
    }
  }
}
function isValidDuration(val) {
  return typeof val === "number" && !isNaN(val);
}
function getHookArgumentsLength(fn) {
  if (isUndef(fn)) {
    return false;
  }
  var invokerFns = fn.fns;
  if (isDef(invokerFns)) {
    return getHookArgumentsLength(Array.isArray(invokerFns) ? invokerFns[0] : invokerFns);
  } else {
    return (fn._length || fn.length) > 1;
  }
}
function _enter(_, vnode) {
  if (vnode.data.show !== true) {
    enter(vnode);
  }
}
var transition = inBrowser ? {
  create: _enter,
  activate: _enter,
  remove: function(vnode, rm) {
    if (vnode.data.show !== true) {
      leave(vnode, rm);
    } else {
      rm();
    }
  }
} : {};
var platformModules = [attrs, klass$1, events, domProps, style$1, transition];
var modules$1 = platformModules.concat(baseModules);
var patch = createPatchFunction({ nodeOps, modules: modules$1 });
if (isIE9) {
  document.addEventListener("selectionchange", function() {
    var el = document.activeElement;
    if (el && el.vmodel) {
      trigger(el, "input");
    }
  });
}
var directive = {
  inserted: function(el, binding, vnode, oldVnode) {
    if (vnode.tag === "select") {
      if (oldVnode.elm && !oldVnode.elm._vOptions) {
        mergeVNodeHook(vnode, "postpatch", function() {
          directive.componentUpdated(el, binding, vnode);
        });
      } else {
        setSelected(el, binding, vnode.context);
      }
      el._vOptions = [].map.call(el.options, getValue);
    } else if (vnode.tag === "textarea" || isTextInputType(el.type)) {
      el._vModifiers = binding.modifiers;
      if (!binding.modifiers.lazy) {
        el.addEventListener("compositionstart", onCompositionStart);
        el.addEventListener("compositionend", onCompositionEnd);
        el.addEventListener("change", onCompositionEnd);
        if (isIE9) {
          el.vmodel = true;
        }
      }
    }
  },
  componentUpdated: function(el, binding, vnode) {
    if (vnode.tag === "select") {
      setSelected(el, binding, vnode.context);
      var prevOptions_1 = el._vOptions;
      var curOptions_1 = el._vOptions = [].map.call(el.options, getValue);
      if (curOptions_1.some(function(o, i) {
        return !looseEqual(o, prevOptions_1[i]);
      })) {
        var needReset = el.multiple ? binding.value.some(function(v) {
          return hasNoMatchingOption(v, curOptions_1);
        }) : binding.value !== binding.oldValue && hasNoMatchingOption(binding.value, curOptions_1);
        if (needReset) {
          trigger(el, "change");
        }
      }
    }
  }
};
function setSelected(el, binding, vm) {
  actuallySetSelected(el, binding);
  if (isIE || isEdge) {
    setTimeout(function() {
      actuallySetSelected(el, binding);
    }, 0);
  }
}
function actuallySetSelected(el, binding, vm) {
  var value = binding.value;
  var isMultiple = el.multiple;
  if (isMultiple && !Array.isArray(value)) {
    return;
  }
  var selected, option;
  for (var i = 0, l = el.options.length; i < l; i++) {
    option = el.options[i];
    if (isMultiple) {
      selected = looseIndexOf(value, getValue(option)) > -1;
      if (option.selected !== selected) {
        option.selected = selected;
      }
    } else {
      if (looseEqual(getValue(option), value)) {
        if (el.selectedIndex !== i) {
          el.selectedIndex = i;
        }
        return;
      }
    }
  }
  if (!isMultiple) {
    el.selectedIndex = -1;
  }
}
function hasNoMatchingOption(value, options) {
  return options.every(function(o) {
    return !looseEqual(o, value);
  });
}
function getValue(option) {
  return "_value" in option ? option._value : option.value;
}
function onCompositionStart(e) {
  e.target.composing = true;
}
function onCompositionEnd(e) {
  if (!e.target.composing)
    return;
  e.target.composing = false;
  trigger(e.target, "input");
}
function trigger(el, type) {
  var e = document.createEvent("HTMLEvents");
  e.initEvent(type, true, true);
  el.dispatchEvent(e);
}
function locateNode(vnode) {
  return vnode.componentInstance && (!vnode.data || !vnode.data.transition) ? locateNode(vnode.componentInstance._vnode) : vnode;
}
var show = {
  bind: function(el, _a2, vnode) {
    var value = _a2.value;
    vnode = locateNode(vnode);
    var transition2 = vnode.data && vnode.data.transition;
    var originalDisplay = el.__vOriginalDisplay = el.style.display === "none" ? "" : el.style.display;
    if (value && transition2) {
      vnode.data.show = true;
      enter(vnode, function() {
        el.style.display = originalDisplay;
      });
    } else {
      el.style.display = value ? originalDisplay : "none";
    }
  },
  update: function(el, _a2, vnode) {
    var value = _a2.value, oldValue = _a2.oldValue;
    if (!value === !oldValue)
      return;
    vnode = locateNode(vnode);
    var transition2 = vnode.data && vnode.data.transition;
    if (transition2) {
      vnode.data.show = true;
      if (value) {
        enter(vnode, function() {
          el.style.display = el.__vOriginalDisplay;
        });
      } else {
        leave(vnode, function() {
          el.style.display = "none";
        });
      }
    } else {
      el.style.display = value ? el.__vOriginalDisplay : "none";
    }
  },
  unbind: function(el, binding, vnode, oldVnode, isDestroy) {
    if (!isDestroy) {
      el.style.display = el.__vOriginalDisplay;
    }
  }
};
var platformDirectives = {
  model: directive,
  show
};
var transitionProps = {
  name: String,
  appear: Boolean,
  css: Boolean,
  mode: String,
  type: String,
  enterClass: String,
  leaveClass: String,
  enterToClass: String,
  leaveToClass: String,
  enterActiveClass: String,
  leaveActiveClass: String,
  appearClass: String,
  appearActiveClass: String,
  appearToClass: String,
  duration: [Number, String, Object]
};
function getRealChild(vnode) {
  var compOptions = vnode && vnode.componentOptions;
  if (compOptions && compOptions.Ctor.options.abstract) {
    return getRealChild(getFirstComponentChild(compOptions.children));
  } else {
    return vnode;
  }
}
function extractTransitionData(comp) {
  var data = {};
  var options = comp.$options;
  for (var key in options.propsData) {
    data[key] = comp[key];
  }
  var listeners = options._parentListeners;
  for (var key in listeners) {
    data[camelize(key)] = listeners[key];
  }
  return data;
}
function placeholder(h2, rawChild) {
  if (/\d-keep-alive$/.test(rawChild.tag)) {
    return h2("keep-alive", {
      props: rawChild.componentOptions.propsData
    });
  }
}
function hasParentTransition(vnode) {
  while (vnode = vnode.parent) {
    if (vnode.data.transition) {
      return true;
    }
  }
}
function isSameChild(child, oldChild) {
  return oldChild.key === child.key && oldChild.tag === child.tag;
}
var isNotTextNode = function(c) {
  return c.tag || isAsyncPlaceholder(c);
};
var isVShowDirective = function(d) {
  return d.name === "show";
};
var Transition = {
  name: "transition",
  props: transitionProps,
  abstract: true,
  render: function(h2) {
    var _this = this;
    var children = this.$slots.default;
    if (!children) {
      return;
    }
    children = children.filter(isNotTextNode);
    if (!children.length) {
      return;
    }
    var mode = this.mode;
    var rawChild = children[0];
    if (hasParentTransition(this.$vnode)) {
      return rawChild;
    }
    var child = getRealChild(rawChild);
    if (!child) {
      return rawChild;
    }
    if (this._leaving) {
      return placeholder(h2, rawChild);
    }
    var id = "__transition-".concat(this._uid, "-");
    child.key = child.key == null ? child.isComment ? id + "comment" : id + child.tag : isPrimitive$1(child.key) ? String(child.key).indexOf(id) === 0 ? child.key : id + child.key : child.key;
    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);
    var oldRawChild = this._vnode;
    var oldChild = getRealChild(oldRawChild);
    if (child.data.directives && child.data.directives.some(isVShowDirective)) {
      child.data.show = true;
    }
    if (oldChild && oldChild.data && !isSameChild(child, oldChild) && !isAsyncPlaceholder(oldChild) && !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)) {
      var oldData = oldChild.data.transition = extend({}, data);
      if (mode === "out-in") {
        this._leaving = true;
        mergeVNodeHook(oldData, "afterLeave", function() {
          _this._leaving = false;
          _this.$forceUpdate();
        });
        return placeholder(h2, rawChild);
      } else if (mode === "in-out") {
        if (isAsyncPlaceholder(child)) {
          return oldRawChild;
        }
        var delayedLeave_1;
        var performLeave = function() {
          delayedLeave_1();
        };
        mergeVNodeHook(data, "afterEnter", performLeave);
        mergeVNodeHook(data, "enterCancelled", performLeave);
        mergeVNodeHook(oldData, "delayLeave", function(leave2) {
          delayedLeave_1 = leave2;
        });
      }
    }
    return rawChild;
  }
};
var props = extend({
  tag: String,
  moveClass: String
}, transitionProps);
delete props.mode;
var TransitionGroup = {
  props,
  beforeMount: function() {
    var _this = this;
    var update = this._update;
    this._update = function(vnode, hydrating) {
      var restoreActiveInstance = setActiveInstance(_this);
      _this.__patch__(
        _this._vnode,
        _this.kept,
        false,
        true
      );
      _this._vnode = _this.kept;
      restoreActiveInstance();
      update.call(_this, vnode, hydrating);
    };
  },
  render: function(h2) {
    var tag = this.tag || this.$vnode.data.tag || "span";
    var map = /* @__PURE__ */ Object.create(null);
    var prevChildren = this.prevChildren = this.children;
    var rawChildren = this.$slots.default || [];
    var children = this.children = [];
    var transitionData = extractTransitionData(this);
    for (var i = 0; i < rawChildren.length; i++) {
      var c = rawChildren[i];
      if (c.tag) {
        if (c.key != null && String(c.key).indexOf("__vlist") !== 0) {
          children.push(c);
          map[c.key] = c;
          (c.data || (c.data = {})).transition = transitionData;
        }
      }
    }
    if (prevChildren) {
      var kept = [];
      var removed = [];
      for (var i = 0; i < prevChildren.length; i++) {
        var c = prevChildren[i];
        c.data.transition = transitionData;
        c.data.pos = c.elm.getBoundingClientRect();
        if (map[c.key]) {
          kept.push(c);
        } else {
          removed.push(c);
        }
      }
      this.kept = h2(tag, null, kept);
      this.removed = removed;
    }
    return h2(tag, null, children);
  },
  updated: function() {
    var children = this.prevChildren;
    var moveClass = this.moveClass || (this.name || "v") + "-move";
    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {
      return;
    }
    children.forEach(callPendingCbs);
    children.forEach(recordPosition);
    children.forEach(applyTranslation);
    this._reflow = document.body.offsetHeight;
    children.forEach(function(c) {
      if (c.data.moved) {
        var el_1 = c.elm;
        var s = el_1.style;
        addTransitionClass(el_1, moveClass);
        s.transform = s.WebkitTransform = s.transitionDuration = "";
        el_1.addEventListener(transitionEndEvent, el_1._moveCb = function cb(e) {
          if (e && e.target !== el_1) {
            return;
          }
          if (!e || /transform$/.test(e.propertyName)) {
            el_1.removeEventListener(transitionEndEvent, cb);
            el_1._moveCb = null;
            removeTransitionClass(el_1, moveClass);
          }
        });
      }
    });
  },
  methods: {
    hasMove: function(el, moveClass) {
      if (!hasTransition) {
        return false;
      }
      if (this._hasMove) {
        return this._hasMove;
      }
      var clone = el.cloneNode();
      if (el._transitionClasses) {
        el._transitionClasses.forEach(function(cls) {
          removeClass(clone, cls);
        });
      }
      addClass(clone, moveClass);
      clone.style.display = "none";
      this.$el.appendChild(clone);
      var info = getTransitionInfo(clone);
      this.$el.removeChild(clone);
      return this._hasMove = info.hasTransform;
    }
  }
};
function callPendingCbs(c) {
  if (c.elm._moveCb) {
    c.elm._moveCb();
  }
  if (c.elm._enterCb) {
    c.elm._enterCb();
  }
}
function recordPosition(c) {
  c.data.newPos = c.elm.getBoundingClientRect();
}
function applyTranslation(c) {
  var oldPos = c.data.pos;
  var newPos = c.data.newPos;
  var dx = oldPos.left - newPos.left;
  var dy = oldPos.top - newPos.top;
  if (dx || dy) {
    c.data.moved = true;
    var s = c.elm.style;
    s.transform = s.WebkitTransform = "translate(".concat(dx, "px,").concat(dy, "px)");
    s.transitionDuration = "0s";
  }
}
var platformComponents = {
  Transition,
  TransitionGroup
};
Vue.config.mustUseProp = mustUseProp;
Vue.config.isReservedTag = isReservedTag;
Vue.config.isReservedAttr = isReservedAttr;
Vue.config.getTagNamespace = getTagNamespace;
Vue.config.isUnknownElement = isUnknownElement;
extend(Vue.options.directives, platformDirectives);
extend(Vue.options.components, platformComponents);
Vue.prototype.__patch__ = inBrowser ? patch : noop;
Vue.prototype.$mount = function(el, hydrating) {
  el = el && inBrowser ? query(el) : void 0;
  return mountComponent(this, el, hydrating);
};
if (inBrowser) {
  setTimeout(function() {
    if (config.devtools) {
      if (devtools) {
        devtools.emit("init", Vue);
      }
    }
  }, 0);
}
var defaultTagRE = /\{\{((?:.|\r?\n)+?)\}\}/g;
var regexEscapeRE = /[-.*+?^${}()|[\]\/\\]/g;
var buildRegex = cached(function(delimiters2) {
  var open = delimiters2[0].replace(regexEscapeRE, "\\$&");
  var close = delimiters2[1].replace(regexEscapeRE, "\\$&");
  return new RegExp(open + "((?:.|\\n)+?)" + close, "g");
});
function parseText(text2, delimiters2) {
  var tagRE = delimiters2 ? buildRegex(delimiters2) : defaultTagRE;
  if (!tagRE.test(text2)) {
    return;
  }
  var tokens = [];
  var rawTokens = [];
  var lastIndex = tagRE.lastIndex = 0;
  var match, index2, tokenValue;
  while (match = tagRE.exec(text2)) {
    index2 = match.index;
    if (index2 > lastIndex) {
      rawTokens.push(tokenValue = text2.slice(lastIndex, index2));
      tokens.push(JSON.stringify(tokenValue));
    }
    var exp = parseFilters(match[1].trim());
    tokens.push("_s(".concat(exp, ")"));
    rawTokens.push({ "@binding": exp });
    lastIndex = index2 + match[0].length;
  }
  if (lastIndex < text2.length) {
    rawTokens.push(tokenValue = text2.slice(lastIndex));
    tokens.push(JSON.stringify(tokenValue));
  }
  return {
    expression: tokens.join("+"),
    tokens: rawTokens
  };
}
function transformNode$1(el, options) {
  options.warn || baseWarn;
  var staticClass = getAndRemoveAttr(el, "class");
  if (staticClass) {
    el.staticClass = JSON.stringify(staticClass.replace(/\s+/g, " ").trim());
  }
  var classBinding = getBindingAttr(el, "class", false);
  if (classBinding) {
    el.classBinding = classBinding;
  }
}
function genData$2(el) {
  var data = "";
  if (el.staticClass) {
    data += "staticClass:".concat(el.staticClass, ",");
  }
  if (el.classBinding) {
    data += "class:".concat(el.classBinding, ",");
  }
  return data;
}
var klass = {
  staticKeys: ["staticClass"],
  transformNode: transformNode$1,
  genData: genData$2
};
function transformNode(el, options) {
  options.warn || baseWarn;
  var staticStyle = getAndRemoveAttr(el, "style");
  if (staticStyle) {
    el.staticStyle = JSON.stringify(parseStyleText(staticStyle));
  }
  var styleBinding = getBindingAttr(el, "style", false);
  if (styleBinding) {
    el.styleBinding = styleBinding;
  }
}
function genData$1(el) {
  var data = "";
  if (el.staticStyle) {
    data += "staticStyle:".concat(el.staticStyle, ",");
  }
  if (el.styleBinding) {
    data += "style:(".concat(el.styleBinding, "),");
  }
  return data;
}
var style = {
  staticKeys: ["staticStyle"],
  transformNode,
  genData: genData$1
};
var decoder;
var he = {
  decode: function(html2) {
    decoder = decoder || document.createElement("div");
    decoder.innerHTML = html2;
    return decoder.textContent;
  }
};
var isUnaryTag = makeMap("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr");
var canBeLeftOpenTag = makeMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source");
var isNonPhrasingTag = makeMap("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track");
var attribute = /^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;
var dynamicArgAttribute = /^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;
var ncname = "[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(unicodeRegExp.source, "]*");
var qnameCapture = "((?:".concat(ncname, "\\:)?").concat(ncname, ")");
var startTagOpen = new RegExp("^<".concat(qnameCapture));
var startTagClose = /^\s*(\/?)>/;
var endTag = new RegExp("^<\\/".concat(qnameCapture, "[^>]*>"));
var doctype = /^<!DOCTYPE [^>]+>/i;
var comment = /^<!\--/;
var conditionalComment = /^<!\[/;
var isPlainTextElement = makeMap("script,style,textarea", true);
var reCache = {};
var decodingMap = {
  "&lt;": "<",
  "&gt;": ">",
  "&quot;": '"',
  "&amp;": "&",
  "&#10;": "\n",
  "&#9;": "	",
  "&#39;": "'"
};
var encodedAttr = /&(?:lt|gt|quot|amp|#39);/g;
var encodedAttrWithNewLines = /&(?:lt|gt|quot|amp|#39|#10|#9);/g;
var isIgnoreNewlineTag = makeMap("pre,textarea", true);
var shouldIgnoreFirstNewline = function(tag, html2) {
  return tag && isIgnoreNewlineTag(tag) && html2[0] === "\n";
};
function decodeAttr(value, shouldDecodeNewlines2) {
  var re = shouldDecodeNewlines2 ? encodedAttrWithNewLines : encodedAttr;
  return value.replace(re, function(match) {
    return decodingMap[match];
  });
}
function parseHTML(html2, options) {
  var stack = [];
  var expectHTML = options.expectHTML;
  var isUnaryTag2 = options.isUnaryTag || no;
  var canBeLeftOpenTag2 = options.canBeLeftOpenTag || no;
  var index2 = 0;
  var last, lastTag;
  var _loop_1 = function() {
    last = html2;
    if (!lastTag || !isPlainTextElement(lastTag)) {
      var textEnd = html2.indexOf("<");
      if (textEnd === 0) {
        if (comment.test(html2)) {
          var commentEnd = html2.indexOf("-->");
          if (commentEnd >= 0) {
            if (options.shouldKeepComment && options.comment) {
              options.comment(html2.substring(4, commentEnd), index2, index2 + commentEnd + 3);
            }
            advance(commentEnd + 3);
            return "continue";
          }
        }
        if (conditionalComment.test(html2)) {
          var conditionalEnd = html2.indexOf("]>");
          if (conditionalEnd >= 0) {
            advance(conditionalEnd + 2);
            return "continue";
          }
        }
        var doctypeMatch = html2.match(doctype);
        if (doctypeMatch) {
          advance(doctypeMatch[0].length);
          return "continue";
        }
        var endTagMatch = html2.match(endTag);
        if (endTagMatch) {
          var curIndex = index2;
          advance(endTagMatch[0].length);
          parseEndTag(endTagMatch[1], curIndex, index2);
          return "continue";
        }
        var startTagMatch = parseStartTag();
        if (startTagMatch) {
          handleStartTag(startTagMatch);
          if (shouldIgnoreFirstNewline(startTagMatch.tagName, html2)) {
            advance(1);
          }
          return "continue";
        }
      }
      var text2 = void 0, rest = void 0, next2 = void 0;
      if (textEnd >= 0) {
        rest = html2.slice(textEnd);
        while (!endTag.test(rest) && !startTagOpen.test(rest) && !comment.test(rest) && !conditionalComment.test(rest)) {
          next2 = rest.indexOf("<", 1);
          if (next2 < 0)
            break;
          textEnd += next2;
          rest = html2.slice(textEnd);
        }
        text2 = html2.substring(0, textEnd);
      }
      if (textEnd < 0) {
        text2 = html2;
      }
      if (text2) {
        advance(text2.length);
      }
      if (options.chars && text2) {
        options.chars(text2, index2 - text2.length, index2);
      }
    } else {
      var endTagLength_1 = 0;
      var stackedTag_1 = lastTag.toLowerCase();
      var reStackedTag = reCache[stackedTag_1] || (reCache[stackedTag_1] = new RegExp("([\\s\\S]*?)(</" + stackedTag_1 + "[^>]*>)", "i"));
      var rest = html2.replace(reStackedTag, function(all, text3, endTag2) {
        endTagLength_1 = endTag2.length;
        if (!isPlainTextElement(stackedTag_1) && stackedTag_1 !== "noscript") {
          text3 = text3.replace(/<!\--([\s\S]*?)-->/g, "$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g, "$1");
        }
        if (shouldIgnoreFirstNewline(stackedTag_1, text3)) {
          text3 = text3.slice(1);
        }
        if (options.chars) {
          options.chars(text3);
        }
        return "";
      });
      index2 += html2.length - rest.length;
      html2 = rest;
      parseEndTag(stackedTag_1, index2 - endTagLength_1, index2);
    }
    if (html2 === last) {
      options.chars && options.chars(html2);
      return "break";
    }
  };
  while (html2) {
    var state_1 = _loop_1();
    if (state_1 === "break")
      break;
  }
  parseEndTag();
  function advance(n) {
    index2 += n;
    html2 = html2.substring(n);
  }
  function parseStartTag() {
    var start = html2.match(startTagOpen);
    if (start) {
      var match = {
        tagName: start[1],
        attrs: [],
        start: index2
      };
      advance(start[0].length);
      var end = void 0, attr = void 0;
      while (!(end = html2.match(startTagClose)) && (attr = html2.match(dynamicArgAttribute) || html2.match(attribute))) {
        attr.start = index2;
        advance(attr[0].length);
        attr.end = index2;
        match.attrs.push(attr);
      }
      if (end) {
        match.unarySlash = end[1];
        advance(end[0].length);
        match.end = index2;
        return match;
      }
    }
  }
  function handleStartTag(match) {
    var tagName2 = match.tagName;
    var unarySlash = match.unarySlash;
    if (expectHTML) {
      if (lastTag === "p" && isNonPhrasingTag(tagName2)) {
        parseEndTag(lastTag);
      }
      if (canBeLeftOpenTag2(tagName2) && lastTag === tagName2) {
        parseEndTag(tagName2);
      }
    }
    var unary = isUnaryTag2(tagName2) || !!unarySlash;
    var l = match.attrs.length;
    var attrs2 = new Array(l);
    for (var i = 0; i < l; i++) {
      var args = match.attrs[i];
      var value = args[3] || args[4] || args[5] || "";
      var shouldDecodeNewlines2 = tagName2 === "a" && args[1] === "href" ? options.shouldDecodeNewlinesForHref : options.shouldDecodeNewlines;
      attrs2[i] = {
        name: args[1],
        value: decodeAttr(value, shouldDecodeNewlines2)
      };
    }
    if (!unary) {
      stack.push({
        tag: tagName2,
        lowerCasedTag: tagName2.toLowerCase(),
        attrs: attrs2,
        start: match.start,
        end: match.end
      });
      lastTag = tagName2;
    }
    if (options.start) {
      options.start(tagName2, attrs2, unary, match.start, match.end);
    }
  }
  function parseEndTag(tagName2, start, end) {
    var pos, lowerCasedTagName;
    if (start == null)
      start = index2;
    if (end == null)
      end = index2;
    if (tagName2) {
      lowerCasedTagName = tagName2.toLowerCase();
      for (pos = stack.length - 1; pos >= 0; pos--) {
        if (stack[pos].lowerCasedTag === lowerCasedTagName) {
          break;
        }
      }
    } else {
      pos = 0;
    }
    if (pos >= 0) {
      for (var i = stack.length - 1; i >= pos; i--) {
        if (options.end) {
          options.end(stack[i].tag, start, end);
        }
      }
      stack.length = pos;
      lastTag = pos && stack[pos - 1].tag;
    } else if (lowerCasedTagName === "br") {
      if (options.start) {
        options.start(tagName2, [], true, start, end);
      }
    } else if (lowerCasedTagName === "p") {
      if (options.start) {
        options.start(tagName2, [], false, start, end);
      }
      if (options.end) {
        options.end(tagName2, start, end);
      }
    }
  }
}
var onRE = /^@|^v-on:/;
var dirRE = /^v-|^@|^:|^#/;
var forAliasRE = /([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/;
var forIteratorRE = /,([^,\}\]]*)(?:,([^,\}\]]*))?$/;
var stripParensRE = /^\(|\)$/g;
var dynamicArgRE = /^\[.*\]$/;
var argRE = /:(.*)$/;
var bindRE = /^:|^\.|^v-bind:/;
var modifierRE = /\.[^.\]]+(?=[^\]]*$)/g;
var slotRE = /^v-slot(:|$)|^#/;
var lineBreakRE = /[\r\n]/;
var whitespaceRE = /[ \f\t\r\n]+/g;
var decodeHTMLCached = cached(he.decode);
var emptySlotScopeToken = "_empty_";
var warn;
var delimiters;
var transforms;
var preTransforms;
var postTransforms;
var platformIsPreTag;
var platformMustUseProp;
var platformGetTagNamespace;
function createASTElement(tag, attrs2, parent) {
  return {
    type: 1,
    tag,
    attrsList: attrs2,
    attrsMap: makeAttrsMap(attrs2),
    rawAttrsMap: {},
    parent,
    children: []
  };
}
function parse(template, options) {
  warn = options.warn || baseWarn;
  platformIsPreTag = options.isPreTag || no;
  platformMustUseProp = options.mustUseProp || no;
  platformGetTagNamespace = options.getTagNamespace || no;
  options.isReservedTag || no;
  transforms = pluckModuleFunction(options.modules, "transformNode");
  preTransforms = pluckModuleFunction(options.modules, "preTransformNode");
  postTransforms = pluckModuleFunction(options.modules, "postTransformNode");
  delimiters = options.delimiters;
  var stack = [];
  var preserveWhitespace = options.preserveWhitespace !== false;
  var whitespaceOption = options.whitespace;
  var root;
  var currentParent;
  var inVPre = false;
  var inPre = false;
  function closeElement(element) {
    trimEndingWhitespace(element);
    if (!inVPre && !element.processed) {
      element = processElement(element, options);
    }
    if (!stack.length && element !== root) {
      if (root.if && (element.elseif || element.else)) {
        addIfCondition(root, {
          exp: element.elseif,
          block: element
        });
      }
    }
    if (currentParent && !element.forbidden) {
      if (element.elseif || element.else) {
        processIfConditions(element, currentParent);
      } else {
        if (element.slotScope) {
          var name_1 = element.slotTarget || '"default"';
          (currentParent.scopedSlots || (currentParent.scopedSlots = {}))[name_1] = element;
        }
        currentParent.children.push(element);
        element.parent = currentParent;
      }
    }
    element.children = element.children.filter(function(c) {
      return !c.slotScope;
    });
    trimEndingWhitespace(element);
    if (element.pre) {
      inVPre = false;
    }
    if (platformIsPreTag(element.tag)) {
      inPre = false;
    }
    for (var i = 0; i < postTransforms.length; i++) {
      postTransforms[i](element, options);
    }
  }
  function trimEndingWhitespace(el) {
    if (!inPre) {
      var lastNode = void 0;
      while ((lastNode = el.children[el.children.length - 1]) && lastNode.type === 3 && lastNode.text === " ") {
        el.children.pop();
      }
    }
  }
  parseHTML(template, {
    warn,
    expectHTML: options.expectHTML,
    isUnaryTag: options.isUnaryTag,
    canBeLeftOpenTag: options.canBeLeftOpenTag,
    shouldDecodeNewlines: options.shouldDecodeNewlines,
    shouldDecodeNewlinesForHref: options.shouldDecodeNewlinesForHref,
    shouldKeepComment: options.comments,
    outputSourceRange: options.outputSourceRange,
    start: function(tag, attrs2, unary, start, end) {
      var ns = currentParent && currentParent.ns || platformGetTagNamespace(tag);
      if (isIE && ns === "svg") {
        attrs2 = guardIESVGBug(attrs2);
      }
      var element = createASTElement(tag, attrs2, currentParent);
      if (ns) {
        element.ns = ns;
      }
      if (isForbiddenTag(element) && !isServerRendering()) {
        element.forbidden = true;
      }
      for (var i = 0; i < preTransforms.length; i++) {
        element = preTransforms[i](element, options) || element;
      }
      if (!inVPre) {
        processPre(element);
        if (element.pre) {
          inVPre = true;
        }
      }
      if (platformIsPreTag(element.tag)) {
        inPre = true;
      }
      if (inVPre) {
        processRawAttrs(element);
      } else if (!element.processed) {
        processFor(element);
        processIf(element);
        processOnce(element);
      }
      if (!root) {
        root = element;
      }
      if (!unary) {
        currentParent = element;
        stack.push(element);
      } else {
        closeElement(element);
      }
    },
    end: function(tag, start, end) {
      var element = stack[stack.length - 1];
      stack.length -= 1;
      currentParent = stack[stack.length - 1];
      closeElement(element);
    },
    chars: function(text2, start, end) {
      if (!currentParent) {
        return;
      }
      if (isIE && currentParent.tag === "textarea" && currentParent.attrsMap.placeholder === text2) {
        return;
      }
      var children = currentParent.children;
      if (inPre || text2.trim()) {
        text2 = isTextTag(currentParent) ? text2 : decodeHTMLCached(text2);
      } else if (!children.length) {
        text2 = "";
      } else if (whitespaceOption) {
        if (whitespaceOption === "condense") {
          text2 = lineBreakRE.test(text2) ? "" : " ";
        } else {
          text2 = " ";
        }
      } else {
        text2 = preserveWhitespace ? " " : "";
      }
      if (text2) {
        if (!inPre && whitespaceOption === "condense") {
          text2 = text2.replace(whitespaceRE, " ");
        }
        var res = void 0;
        var child = void 0;
        if (!inVPre && text2 !== " " && (res = parseText(text2, delimiters))) {
          child = {
            type: 2,
            expression: res.expression,
            tokens: res.tokens,
            text: text2
          };
        } else if (text2 !== " " || !children.length || children[children.length - 1].text !== " ") {
          child = {
            type: 3,
            text: text2
          };
        }
        if (child) {
          children.push(child);
        }
      }
    },
    comment: function(text2, start, end) {
      if (currentParent) {
        var child = {
          type: 3,
          text: text2,
          isComment: true
        };
        currentParent.children.push(child);
      }
    }
  });
  return root;
}
function processPre(el) {
  if (getAndRemoveAttr(el, "v-pre") != null) {
    el.pre = true;
  }
}
function processRawAttrs(el) {
  var list = el.attrsList;
  var len2 = list.length;
  if (len2) {
    var attrs2 = el.attrs = new Array(len2);
    for (var i = 0; i < len2; i++) {
      attrs2[i] = {
        name: list[i].name,
        value: JSON.stringify(list[i].value)
      };
      if (list[i].start != null) {
        attrs2[i].start = list[i].start;
        attrs2[i].end = list[i].end;
      }
    }
  } else if (!el.pre) {
    el.plain = true;
  }
}
function processElement(element, options) {
  processKey(element);
  element.plain = !element.key && !element.scopedSlots && !element.attrsList.length;
  processRef(element);
  processSlotContent(element);
  processSlotOutlet(element);
  processComponent(element);
  for (var i = 0; i < transforms.length; i++) {
    element = transforms[i](element, options) || element;
  }
  processAttrs(element);
  return element;
}
function processKey(el) {
  var exp = getBindingAttr(el, "key");
  if (exp) {
    el.key = exp;
  }
}
function processRef(el) {
  var ref2 = getBindingAttr(el, "ref");
  if (ref2) {
    el.ref = ref2;
    el.refInFor = checkInFor(el);
  }
}
function processFor(el) {
  var exp;
  if (exp = getAndRemoveAttr(el, "v-for")) {
    var res = parseFor(exp);
    if (res) {
      extend(el, res);
    }
  }
}
function parseFor(exp) {
  var inMatch = exp.match(forAliasRE);
  if (!inMatch)
    return;
  var res = {};
  res.for = inMatch[2].trim();
  var alias = inMatch[1].trim().replace(stripParensRE, "");
  var iteratorMatch = alias.match(forIteratorRE);
  if (iteratorMatch) {
    res.alias = alias.replace(forIteratorRE, "").trim();
    res.iterator1 = iteratorMatch[1].trim();
    if (iteratorMatch[2]) {
      res.iterator2 = iteratorMatch[2].trim();
    }
  } else {
    res.alias = alias;
  }
  return res;
}
function processIf(el) {
  var exp = getAndRemoveAttr(el, "v-if");
  if (exp) {
    el.if = exp;
    addIfCondition(el, {
      exp,
      block: el
    });
  } else {
    if (getAndRemoveAttr(el, "v-else") != null) {
      el.else = true;
    }
    var elseif = getAndRemoveAttr(el, "v-else-if");
    if (elseif) {
      el.elseif = elseif;
    }
  }
}
function processIfConditions(el, parent) {
  var prev = findPrevElement(parent.children);
  if (prev && prev.if) {
    addIfCondition(prev, {
      exp: el.elseif,
      block: el
    });
  }
}
function findPrevElement(children) {
  var i = children.length;
  while (i--) {
    if (children[i].type === 1) {
      return children[i];
    } else {
      children.pop();
    }
  }
}
function addIfCondition(el, condition) {
  if (!el.ifConditions) {
    el.ifConditions = [];
  }
  el.ifConditions.push(condition);
}
function processOnce(el) {
  var once2 = getAndRemoveAttr(el, "v-once");
  if (once2 != null) {
    el.once = true;
  }
}
function processSlotContent(el) {
  var slotScope;
  if (el.tag === "template") {
    slotScope = getAndRemoveAttr(el, "scope");
    el.slotScope = slotScope || getAndRemoveAttr(el, "slot-scope");
  } else if (slotScope = getAndRemoveAttr(el, "slot-scope")) {
    el.slotScope = slotScope;
  }
  var slotTarget = getBindingAttr(el, "slot");
  if (slotTarget) {
    el.slotTarget = slotTarget === '""' ? '"default"' : slotTarget;
    el.slotTargetDynamic = !!(el.attrsMap[":slot"] || el.attrsMap["v-bind:slot"]);
    if (el.tag !== "template" && !el.slotScope) {
      addAttr(el, "slot", slotTarget, getRawBindingAttr(el, "slot"));
    }
  }
  {
    if (el.tag === "template") {
      var slotBinding = getAndRemoveAttrByRegex(el, slotRE);
      if (slotBinding) {
        var _a2 = getSlotName(slotBinding), name_2 = _a2.name, dynamic = _a2.dynamic;
        el.slotTarget = name_2;
        el.slotTargetDynamic = dynamic;
        el.slotScope = slotBinding.value || emptySlotScopeToken;
      }
    } else {
      var slotBinding = getAndRemoveAttrByRegex(el, slotRE);
      if (slotBinding) {
        var slots = el.scopedSlots || (el.scopedSlots = {});
        var _b = getSlotName(slotBinding), name_3 = _b.name, dynamic = _b.dynamic;
        var slotContainer_1 = slots[name_3] = createASTElement("template", [], el);
        slotContainer_1.slotTarget = name_3;
        slotContainer_1.slotTargetDynamic = dynamic;
        slotContainer_1.children = el.children.filter(function(c) {
          if (!c.slotScope) {
            c.parent = slotContainer_1;
            return true;
          }
        });
        slotContainer_1.slotScope = slotBinding.value || emptySlotScopeToken;
        el.children = [];
        el.plain = false;
      }
    }
  }
}
function getSlotName(binding) {
  var name = binding.name.replace(slotRE, "");
  if (!name) {
    if (binding.name[0] !== "#") {
      name = "default";
    }
  }
  return dynamicArgRE.test(name) ? { name: name.slice(1, -1), dynamic: true } : { name: '"'.concat(name, '"'), dynamic: false };
}
function processSlotOutlet(el) {
  if (el.tag === "slot") {
    el.slotName = getBindingAttr(el, "name");
  }
}
function processComponent(el) {
  var binding;
  if (binding = getBindingAttr(el, "is")) {
    el.component = binding;
  }
  if (getAndRemoveAttr(el, "inline-template") != null) {
    el.inlineTemplate = true;
  }
}
function processAttrs(el) {
  var list = el.attrsList;
  var i, l, name, rawName, value, modifiers, syncGen, isDynamic;
  for (i = 0, l = list.length; i < l; i++) {
    name = rawName = list[i].name;
    value = list[i].value;
    if (dirRE.test(name)) {
      el.hasBindings = true;
      modifiers = parseModifiers(name.replace(dirRE, ""));
      if (modifiers) {
        name = name.replace(modifierRE, "");
      }
      if (bindRE.test(name)) {
        name = name.replace(bindRE, "");
        value = parseFilters(value);
        isDynamic = dynamicArgRE.test(name);
        if (isDynamic) {
          name = name.slice(1, -1);
        }
        if (modifiers) {
          if (modifiers.prop && !isDynamic) {
            name = camelize(name);
            if (name === "innerHtml")
              name = "innerHTML";
          }
          if (modifiers.camel && !isDynamic) {
            name = camelize(name);
          }
          if (modifiers.sync) {
            syncGen = genAssignmentCode(value, "$event");
            if (!isDynamic) {
              addHandler(el, "update:".concat(camelize(name)), syncGen, null, false, warn, list[i]);
              if (hyphenate(name) !== camelize(name)) {
                addHandler(el, "update:".concat(hyphenate(name)), syncGen, null, false, warn, list[i]);
              }
            } else {
              addHandler(
                el,
                '"update:"+('.concat(name, ")"),
                syncGen,
                null,
                false,
                warn,
                list[i],
                true
              );
            }
          }
        }
        if (modifiers && modifiers.prop || !el.component && platformMustUseProp(el.tag, el.attrsMap.type, name)) {
          addProp(el, name, value, list[i], isDynamic);
        } else {
          addAttr(el, name, value, list[i], isDynamic);
        }
      } else if (onRE.test(name)) {
        name = name.replace(onRE, "");
        isDynamic = dynamicArgRE.test(name);
        if (isDynamic) {
          name = name.slice(1, -1);
        }
        addHandler(el, name, value, modifiers, false, warn, list[i], isDynamic);
      } else {
        name = name.replace(dirRE, "");
        var argMatch = name.match(argRE);
        var arg = argMatch && argMatch[1];
        isDynamic = false;
        if (arg) {
          name = name.slice(0, -(arg.length + 1));
          if (dynamicArgRE.test(arg)) {
            arg = arg.slice(1, -1);
            isDynamic = true;
          }
        }
        addDirective(el, name, rawName, value, arg, isDynamic, modifiers, list[i]);
      }
    } else {
      addAttr(el, name, JSON.stringify(value), list[i]);
      if (!el.component && name === "muted" && platformMustUseProp(el.tag, el.attrsMap.type, name)) {
        addProp(el, name, "true", list[i]);
      }
    }
  }
}
function checkInFor(el) {
  var parent = el;
  while (parent) {
    if (parent.for !== void 0) {
      return true;
    }
    parent = parent.parent;
  }
  return false;
}
function parseModifiers(name) {
  var match = name.match(modifierRE);
  if (match) {
    var ret_1 = {};
    match.forEach(function(m) {
      ret_1[m.slice(1)] = true;
    });
    return ret_1;
  }
}
function makeAttrsMap(attrs2) {
  var map = {};
  for (var i = 0, l = attrs2.length; i < l; i++) {
    map[attrs2[i].name] = attrs2[i].value;
  }
  return map;
}
function isTextTag(el) {
  return el.tag === "script" || el.tag === "style";
}
function isForbiddenTag(el) {
  return el.tag === "style" || el.tag === "script" && (!el.attrsMap.type || el.attrsMap.type === "text/javascript");
}
var ieNSBug = /^xmlns:NS\d+/;
var ieNSPrefix = /^NS\d+:/;
function guardIESVGBug(attrs2) {
  var res = [];
  for (var i = 0; i < attrs2.length; i++) {
    var attr = attrs2[i];
    if (!ieNSBug.test(attr.name)) {
      attr.name = attr.name.replace(ieNSPrefix, "");
      res.push(attr);
    }
  }
  return res;
}
function preTransformNode(el, options) {
  if (el.tag === "input") {
    var map = el.attrsMap;
    if (!map["v-model"]) {
      return;
    }
    var typeBinding = void 0;
    if (map[":type"] || map["v-bind:type"]) {
      typeBinding = getBindingAttr(el, "type");
    }
    if (!map.type && !typeBinding && map["v-bind"]) {
      typeBinding = "(".concat(map["v-bind"], ").type");
    }
    if (typeBinding) {
      var ifCondition = getAndRemoveAttr(el, "v-if", true);
      var ifConditionExtra = ifCondition ? "&&(".concat(ifCondition, ")") : "";
      var hasElse = getAndRemoveAttr(el, "v-else", true) != null;
      var elseIfCondition = getAndRemoveAttr(el, "v-else-if", true);
      var branch0 = cloneASTElement(el);
      processFor(branch0);
      addRawAttr(branch0, "type", "checkbox");
      processElement(branch0, options);
      branch0.processed = true;
      branch0.if = "(".concat(typeBinding, ")==='checkbox'") + ifConditionExtra;
      addIfCondition(branch0, {
        exp: branch0.if,
        block: branch0
      });
      var branch1 = cloneASTElement(el);
      getAndRemoveAttr(branch1, "v-for", true);
      addRawAttr(branch1, "type", "radio");
      processElement(branch1, options);
      addIfCondition(branch0, {
        exp: "(".concat(typeBinding, ")==='radio'") + ifConditionExtra,
        block: branch1
      });
      var branch2 = cloneASTElement(el);
      getAndRemoveAttr(branch2, "v-for", true);
      addRawAttr(branch2, ":type", typeBinding);
      processElement(branch2, options);
      addIfCondition(branch0, {
        exp: ifCondition,
        block: branch2
      });
      if (hasElse) {
        branch0.else = true;
      } else if (elseIfCondition) {
        branch0.elseif = elseIfCondition;
      }
      return branch0;
    }
  }
}
function cloneASTElement(el) {
  return createASTElement(el.tag, el.attrsList.slice(), el.parent);
}
var model = {
  preTransformNode
};
var modules = [klass, style, model];
function text(el, dir) {
  if (dir.value) {
    addProp(el, "textContent", "_s(".concat(dir.value, ")"), dir);
  }
}
function html(el, dir) {
  if (dir.value) {
    addProp(el, "innerHTML", "_s(".concat(dir.value, ")"), dir);
  }
}
var directives = {
  model: model$1,
  text,
  html
};
var baseOptions = {
  expectHTML: true,
  modules,
  directives,
  isPreTag,
  isUnaryTag,
  mustUseProp,
  canBeLeftOpenTag,
  isReservedTag,
  getTagNamespace,
  staticKeys: genStaticKeys$1(modules)
};
var isStaticKey;
var isPlatformReservedTag;
var genStaticKeysCached = cached(genStaticKeys);
function optimize(root, options) {
  if (!root)
    return;
  isStaticKey = genStaticKeysCached(options.staticKeys || "");
  isPlatformReservedTag = options.isReservedTag || no;
  markStatic(root);
  markStaticRoots(root, false);
}
function genStaticKeys(keys) {
  return makeMap("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap" + (keys ? "," + keys : ""));
}
function markStatic(node) {
  node.static = isStatic(node);
  if (node.type === 1) {
    if (!isPlatformReservedTag(node.tag) && node.tag !== "slot" && node.attrsMap["inline-template"] == null) {
      return;
    }
    for (var i = 0, l = node.children.length; i < l; i++) {
      var child = node.children[i];
      markStatic(child);
      if (!child.static) {
        node.static = false;
      }
    }
    if (node.ifConditions) {
      for (var i = 1, l = node.ifConditions.length; i < l; i++) {
        var block = node.ifConditions[i].block;
        markStatic(block);
        if (!block.static) {
          node.static = false;
        }
      }
    }
  }
}
function markStaticRoots(node, isInFor) {
  if (node.type === 1) {
    if (node.static || node.once) {
      node.staticInFor = isInFor;
    }
    if (node.static && node.children.length && !(node.children.length === 1 && node.children[0].type === 3)) {
      node.staticRoot = true;
      return;
    } else {
      node.staticRoot = false;
    }
    if (node.children) {
      for (var i = 0, l = node.children.length; i < l; i++) {
        markStaticRoots(node.children[i], isInFor || !!node.for);
      }
    }
    if (node.ifConditions) {
      for (var i = 1, l = node.ifConditions.length; i < l; i++) {
        markStaticRoots(node.ifConditions[i].block, isInFor);
      }
    }
  }
}
function isStatic(node) {
  if (node.type === 2) {
    return false;
  }
  if (node.type === 3) {
    return true;
  }
  return !!(node.pre || !node.hasBindings && !node.if && !node.for && !isBuiltInTag(node.tag) && isPlatformReservedTag(node.tag) && !isDirectChildOfTemplateFor(node) && Object.keys(node).every(isStaticKey));
}
function isDirectChildOfTemplateFor(node) {
  while (node.parent) {
    node = node.parent;
    if (node.tag !== "template") {
      return false;
    }
    if (node.for) {
      return true;
    }
  }
  return false;
}
var fnExpRE = /^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/;
var fnInvokeRE = /\([^)]*?\);*$/;
var simplePathRE = /^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/;
var keyCodes = {
  esc: 27,
  tab: 9,
  enter: 13,
  space: 32,
  up: 38,
  left: 37,
  right: 39,
  down: 40,
  delete: [8, 46]
};
var keyNames = {
  esc: ["Esc", "Escape"],
  tab: "Tab",
  enter: "Enter",
  space: [" ", "Spacebar"],
  up: ["Up", "ArrowUp"],
  left: ["Left", "ArrowLeft"],
  right: ["Right", "ArrowRight"],
  down: ["Down", "ArrowDown"],
  delete: ["Backspace", "Delete", "Del"]
};
var genGuard = function(condition) {
  return "if(".concat(condition, ")return null;");
};
var modifierCode = {
  stop: "$event.stopPropagation();",
  prevent: "$event.preventDefault();",
  self: genGuard("$event.target !== $event.currentTarget"),
  ctrl: genGuard("!$event.ctrlKey"),
  shift: genGuard("!$event.shiftKey"),
  alt: genGuard("!$event.altKey"),
  meta: genGuard("!$event.metaKey"),
  left: genGuard("'button' in $event && $event.button !== 0"),
  middle: genGuard("'button' in $event && $event.button !== 1"),
  right: genGuard("'button' in $event && $event.button !== 2")
};
function genHandlers(events2, isNative2) {
  var prefix = isNative2 ? "nativeOn:" : "on:";
  var staticHandlers = "";
  var dynamicHandlers = "";
  for (var name_1 in events2) {
    var handlerCode = genHandler(events2[name_1]);
    if (events2[name_1] && events2[name_1].dynamic) {
      dynamicHandlers += "".concat(name_1, ",").concat(handlerCode, ",");
    } else {
      staticHandlers += '"'.concat(name_1, '":').concat(handlerCode, ",");
    }
  }
  staticHandlers = "{".concat(staticHandlers.slice(0, -1), "}");
  if (dynamicHandlers) {
    return prefix + "_d(".concat(staticHandlers, ",[").concat(dynamicHandlers.slice(0, -1), "])");
  } else {
    return prefix + staticHandlers;
  }
}
function genHandler(handler) {
  if (!handler) {
    return "function(){}";
  }
  if (Array.isArray(handler)) {
    return "[".concat(handler.map(function(handler2) {
      return genHandler(handler2);
    }).join(","), "]");
  }
  var isMethodPath = simplePathRE.test(handler.value);
  var isFunctionExpression = fnExpRE.test(handler.value);
  var isFunctionInvocation = simplePathRE.test(handler.value.replace(fnInvokeRE, ""));
  if (!handler.modifiers) {
    if (isMethodPath || isFunctionExpression) {
      return handler.value;
    }
    return "function($event){".concat(isFunctionInvocation ? "return ".concat(handler.value) : handler.value, "}");
  } else {
    var code = "";
    var genModifierCode = "";
    var keys = [];
    var _loop_1 = function(key2) {
      if (modifierCode[key2]) {
        genModifierCode += modifierCode[key2];
        if (keyCodes[key2]) {
          keys.push(key2);
        }
      } else if (key2 === "exact") {
        var modifiers_1 = handler.modifiers;
        genModifierCode += genGuard(["ctrl", "shift", "alt", "meta"].filter(function(keyModifier) {
          return !modifiers_1[keyModifier];
        }).map(function(keyModifier) {
          return "$event.".concat(keyModifier, "Key");
        }).join("||"));
      } else {
        keys.push(key2);
      }
    };
    for (var key in handler.modifiers) {
      _loop_1(key);
    }
    if (keys.length) {
      code += genKeyFilter(keys);
    }
    if (genModifierCode) {
      code += genModifierCode;
    }
    var handlerCode = isMethodPath ? "return ".concat(handler.value, ".apply(null, arguments)") : isFunctionExpression ? "return (".concat(handler.value, ").apply(null, arguments)") : isFunctionInvocation ? "return ".concat(handler.value) : handler.value;
    return "function($event){".concat(code).concat(handlerCode, "}");
  }
}
function genKeyFilter(keys) {
  return "if(!$event.type.indexOf('key')&&" + "".concat(keys.map(genFilterCode).join("&&"), ")return null;");
}
function genFilterCode(key) {
  var keyVal = parseInt(key, 10);
  if (keyVal) {
    return "$event.keyCode!==".concat(keyVal);
  }
  var keyCode = keyCodes[key];
  var keyName = keyNames[key];
  return "_k($event.keyCode," + "".concat(JSON.stringify(key), ",") + "".concat(JSON.stringify(keyCode), ",") + "$event.key," + "".concat(JSON.stringify(keyName)) + ")";
}
function on(el, dir) {
  el.wrapListeners = function(code) {
    return "_g(".concat(code, ",").concat(dir.value, ")");
  };
}
function bind(el, dir) {
  el.wrapData = function(code) {
    return "_b(".concat(code, ",'").concat(el.tag, "',").concat(dir.value, ",").concat(dir.modifiers && dir.modifiers.prop ? "true" : "false").concat(dir.modifiers && dir.modifiers.sync ? ",true" : "", ")");
  };
}
var baseDirectives = {
  on,
  bind,
  cloak: noop
};
var CodegenState = function() {
  function CodegenState2(options) {
    this.options = options;
    this.warn = options.warn || baseWarn;
    this.transforms = pluckModuleFunction(options.modules, "transformCode");
    this.dataGenFns = pluckModuleFunction(options.modules, "genData");
    this.directives = extend(extend({}, baseDirectives), options.directives);
    var isReservedTag2 = options.isReservedTag || no;
    this.maybeComponent = function(el) {
      return !!el.component || !isReservedTag2(el.tag);
    };
    this.onceId = 0;
    this.staticRenderFns = [];
    this.pre = false;
  }
  return CodegenState2;
}();
function generate(ast, options) {
  var state = new CodegenState(options);
  var code = ast ? ast.tag === "script" ? "null" : genElement(ast, state) : '_c("div")';
  return {
    render: "with(this){return ".concat(code, "}"),
    staticRenderFns: state.staticRenderFns
  };
}
function genElement(el, state) {
  if (el.parent) {
    el.pre = el.pre || el.parent.pre;
  }
  if (el.staticRoot && !el.staticProcessed) {
    return genStatic(el, state);
  } else if (el.once && !el.onceProcessed) {
    return genOnce(el, state);
  } else if (el.for && !el.forProcessed) {
    return genFor(el, state);
  } else if (el.if && !el.ifProcessed) {
    return genIf(el, state);
  } else if (el.tag === "template" && !el.slotTarget && !state.pre) {
    return genChildren(el, state) || "void 0";
  } else if (el.tag === "slot") {
    return genSlot(el, state);
  } else {
    var code = void 0;
    if (el.component) {
      code = genComponent(el.component, el, state);
    } else {
      var data = void 0;
      var maybeComponent = state.maybeComponent(el);
      if (!el.plain || el.pre && maybeComponent) {
        data = genData(el, state);
      }
      var tag = void 0;
      var bindings = state.options.bindings;
      if (maybeComponent && bindings && bindings.__isScriptSetup !== false) {
        tag = checkBindingType(bindings, el.tag);
      }
      if (!tag)
        tag = "'".concat(el.tag, "'");
      var children = el.inlineTemplate ? null : genChildren(el, state, true);
      code = "_c(".concat(tag).concat(
        data ? ",".concat(data) : ""
      ).concat(
        children ? ",".concat(children) : "",
        ")"
      );
    }
    for (var i = 0; i < state.transforms.length; i++) {
      code = state.transforms[i](el, code);
    }
    return code;
  }
}
function checkBindingType(bindings, key) {
  var camelName = camelize(key);
  var PascalName = capitalize(camelName);
  var checkType = function(type) {
    if (bindings[key] === type) {
      return key;
    }
    if (bindings[camelName] === type) {
      return camelName;
    }
    if (bindings[PascalName] === type) {
      return PascalName;
    }
  };
  var fromConst = checkType("setup-const") || checkType("setup-reactive-const");
  if (fromConst) {
    return fromConst;
  }
  var fromMaybeRef = checkType("setup-let") || checkType("setup-ref") || checkType("setup-maybe-ref");
  if (fromMaybeRef) {
    return fromMaybeRef;
  }
}
function genStatic(el, state) {
  el.staticProcessed = true;
  var originalPreState = state.pre;
  if (el.pre) {
    state.pre = el.pre;
  }
  state.staticRenderFns.push("with(this){return ".concat(genElement(el, state), "}"));
  state.pre = originalPreState;
  return "_m(".concat(state.staticRenderFns.length - 1).concat(el.staticInFor ? ",true" : "", ")");
}
function genOnce(el, state) {
  el.onceProcessed = true;
  if (el.if && !el.ifProcessed) {
    return genIf(el, state);
  } else if (el.staticInFor) {
    var key = "";
    var parent_1 = el.parent;
    while (parent_1) {
      if (parent_1.for) {
        key = parent_1.key;
        break;
      }
      parent_1 = parent_1.parent;
    }
    if (!key) {
      return genElement(el, state);
    }
    return "_o(".concat(genElement(el, state), ",").concat(state.onceId++, ",").concat(key, ")");
  } else {
    return genStatic(el, state);
  }
}
function genIf(el, state, altGen, altEmpty) {
  el.ifProcessed = true;
  return genIfConditions(el.ifConditions.slice(), state, altGen, altEmpty);
}
function genIfConditions(conditions, state, altGen, altEmpty) {
  if (!conditions.length) {
    return altEmpty || "_e()";
  }
  var condition = conditions.shift();
  if (condition.exp) {
    return "(".concat(condition.exp, ")?").concat(genTernaryExp(condition.block), ":").concat(genIfConditions(conditions, state, altGen, altEmpty));
  } else {
    return "".concat(genTernaryExp(condition.block));
  }
  function genTernaryExp(el) {
    return altGen ? altGen(el, state) : el.once ? genOnce(el, state) : genElement(el, state);
  }
}
function genFor(el, state, altGen, altHelper) {
  var exp = el.for;
  var alias = el.alias;
  var iterator1 = el.iterator1 ? ",".concat(el.iterator1) : "";
  var iterator2 = el.iterator2 ? ",".concat(el.iterator2) : "";
  el.forProcessed = true;
  return "".concat(altHelper || "_l", "((").concat(exp, "),") + "function(".concat(alias).concat(iterator1).concat(iterator2, "){") + "return ".concat((altGen || genElement)(el, state)) + "})";
}
function genData(el, state) {
  var data = "{";
  var dirs = genDirectives(el, state);
  if (dirs)
    data += dirs + ",";
  if (el.key) {
    data += "key:".concat(el.key, ",");
  }
  if (el.ref) {
    data += "ref:".concat(el.ref, ",");
  }
  if (el.refInFor) {
    data += "refInFor:true,";
  }
  if (el.pre) {
    data += "pre:true,";
  }
  if (el.component) {
    data += 'tag:"'.concat(el.tag, '",');
  }
  for (var i = 0; i < state.dataGenFns.length; i++) {
    data += state.dataGenFns[i](el);
  }
  if (el.attrs) {
    data += "attrs:".concat(genProps(el.attrs), ",");
  }
  if (el.props) {
    data += "domProps:".concat(genProps(el.props), ",");
  }
  if (el.events) {
    data += "".concat(genHandlers(el.events, false), ",");
  }
  if (el.nativeEvents) {
    data += "".concat(genHandlers(el.nativeEvents, true), ",");
  }
  if (el.slotTarget && !el.slotScope) {
    data += "slot:".concat(el.slotTarget, ",");
  }
  if (el.scopedSlots) {
    data += "".concat(genScopedSlots(el, el.scopedSlots, state), ",");
  }
  if (el.model) {
    data += "model:{value:".concat(el.model.value, ",callback:").concat(el.model.callback, ",expression:").concat(el.model.expression, "},");
  }
  if (el.inlineTemplate) {
    var inlineTemplate = genInlineTemplate(el, state);
    if (inlineTemplate) {
      data += "".concat(inlineTemplate, ",");
    }
  }
  data = data.replace(/,$/, "") + "}";
  if (el.dynamicAttrs) {
    data = "_b(".concat(data, ',"').concat(el.tag, '",').concat(genProps(el.dynamicAttrs), ")");
  }
  if (el.wrapData) {
    data = el.wrapData(data);
  }
  if (el.wrapListeners) {
    data = el.wrapListeners(data);
  }
  return data;
}
function genDirectives(el, state) {
  var dirs = el.directives;
  if (!dirs)
    return;
  var res = "directives:[";
  var hasRuntime = false;
  var i, l, dir, needRuntime;
  for (i = 0, l = dirs.length; i < l; i++) {
    dir = dirs[i];
    needRuntime = true;
    var gen = state.directives[dir.name];
    if (gen) {
      needRuntime = !!gen(el, dir, state.warn);
    }
    if (needRuntime) {
      hasRuntime = true;
      res += '{name:"'.concat(dir.name, '",rawName:"').concat(dir.rawName, '"').concat(dir.value ? ",value:(".concat(dir.value, "),expression:").concat(JSON.stringify(dir.value)) : "").concat(dir.arg ? ",arg:".concat(dir.isDynamicArg ? dir.arg : '"'.concat(dir.arg, '"')) : "").concat(dir.modifiers ? ",modifiers:".concat(JSON.stringify(dir.modifiers)) : "", "},");
    }
  }
  if (hasRuntime) {
    return res.slice(0, -1) + "]";
  }
}
function genInlineTemplate(el, state) {
  var ast = el.children[0];
  if (ast && ast.type === 1) {
    var inlineRenderFns = generate(ast, state.options);
    return "inlineTemplate:{render:function(){".concat(inlineRenderFns.render, "},staticRenderFns:[").concat(inlineRenderFns.staticRenderFns.map(function(code) {
      return "function(){".concat(code, "}");
    }).join(","), "]}");
  }
}
function genScopedSlots(el, slots, state) {
  var needsForceUpdate = el.for || Object.keys(slots).some(function(key) {
    var slot = slots[key];
    return slot.slotTargetDynamic || slot.if || slot.for || containsSlotChild(slot);
  });
  var needsKey = !!el.if;
  if (!needsForceUpdate) {
    var parent_2 = el.parent;
    while (parent_2) {
      if (parent_2.slotScope && parent_2.slotScope !== emptySlotScopeToken || parent_2.for) {
        needsForceUpdate = true;
        break;
      }
      if (parent_2.if) {
        needsKey = true;
      }
      parent_2 = parent_2.parent;
    }
  }
  var generatedSlots = Object.keys(slots).map(function(key) {
    return genScopedSlot(slots[key], state);
  }).join(",");
  return "scopedSlots:_u([".concat(generatedSlots, "]").concat(needsForceUpdate ? ",null,true" : "").concat(!needsForceUpdate && needsKey ? ",null,false,".concat(hash(generatedSlots)) : "", ")");
}
function hash(str2) {
  var hash2 = 5381;
  var i = str2.length;
  while (i) {
    hash2 = hash2 * 33 ^ str2.charCodeAt(--i);
  }
  return hash2 >>> 0;
}
function containsSlotChild(el) {
  if (el.type === 1) {
    if (el.tag === "slot") {
      return true;
    }
    return el.children.some(containsSlotChild);
  }
  return false;
}
function genScopedSlot(el, state) {
  var isLegacySyntax = el.attrsMap["slot-scope"];
  if (el.if && !el.ifProcessed && !isLegacySyntax) {
    return genIf(el, state, genScopedSlot, "null");
  }
  if (el.for && !el.forProcessed) {
    return genFor(el, state, genScopedSlot);
  }
  var slotScope = el.slotScope === emptySlotScopeToken ? "" : String(el.slotScope);
  var fn = "function(".concat(slotScope, "){") + "return ".concat(el.tag === "template" ? el.if && isLegacySyntax ? "(".concat(el.if, ")?").concat(genChildren(el, state) || "undefined", ":undefined") : genChildren(el, state) || "undefined" : genElement(el, state), "}");
  var reverseProxy = slotScope ? "" : ",proxy:true";
  return "{key:".concat(el.slotTarget || '"default"', ",fn:").concat(fn).concat(reverseProxy, "}");
}
function genChildren(el, state, checkSkip, altGenElement, altGenNode) {
  var children = el.children;
  if (children.length) {
    var el_1 = children[0];
    if (children.length === 1 && el_1.for && el_1.tag !== "template" && el_1.tag !== "slot") {
      var normalizationType_1 = checkSkip ? state.maybeComponent(el_1) ? ",1" : ",0" : "";
      return "".concat((altGenElement || genElement)(el_1, state)).concat(normalizationType_1);
    }
    var normalizationType = checkSkip ? getNormalizationType(children, state.maybeComponent) : 0;
    var gen_1 = altGenNode || genNode;
    return "[".concat(children.map(function(c) {
      return gen_1(c, state);
    }).join(","), "]").concat(normalizationType ? ",".concat(normalizationType) : "");
  }
}
function getNormalizationType(children, maybeComponent) {
  var res = 0;
  for (var i = 0; i < children.length; i++) {
    var el = children[i];
    if (el.type !== 1) {
      continue;
    }
    if (needsNormalization(el) || el.ifConditions && el.ifConditions.some(function(c) {
      return needsNormalization(c.block);
    })) {
      res = 2;
      break;
    }
    if (maybeComponent(el) || el.ifConditions && el.ifConditions.some(function(c) {
      return maybeComponent(c.block);
    })) {
      res = 1;
    }
  }
  return res;
}
function needsNormalization(el) {
  return el.for !== void 0 || el.tag === "template" || el.tag === "slot";
}
function genNode(node, state) {
  if (node.type === 1) {
    return genElement(node, state);
  } else if (node.type === 3 && node.isComment) {
    return genComment(node);
  } else {
    return genText(node);
  }
}
function genText(text2) {
  return "_v(".concat(text2.type === 2 ? text2.expression : transformSpecialNewlines(JSON.stringify(text2.text)), ")");
}
function genComment(comment2) {
  return "_e(".concat(JSON.stringify(comment2.text), ")");
}
function genSlot(el, state) {
  var slotName = el.slotName || '"default"';
  var children = genChildren(el, state);
  var res = "_t(".concat(slotName).concat(children ? ",function(){return ".concat(children, "}") : "");
  var attrs2 = el.attrs || el.dynamicAttrs ? genProps((el.attrs || []).concat(el.dynamicAttrs || []).map(function(attr) {
    return {
      name: camelize(attr.name),
      value: attr.value,
      dynamic: attr.dynamic
    };
  })) : null;
  var bind2 = el.attrsMap["v-bind"];
  if ((attrs2 || bind2) && !children) {
    res += ",null";
  }
  if (attrs2) {
    res += ",".concat(attrs2);
  }
  if (bind2) {
    res += "".concat(attrs2 ? "" : ",null", ",").concat(bind2);
  }
  return res + ")";
}
function genComponent(componentName, el, state) {
  var children = el.inlineTemplate ? null : genChildren(el, state, true);
  return "_c(".concat(componentName, ",").concat(genData(el, state)).concat(children ? ",".concat(children) : "", ")");
}
function genProps(props2) {
  var staticProps = "";
  var dynamicProps = "";
  for (var i = 0; i < props2.length; i++) {
    var prop = props2[i];
    var value = transformSpecialNewlines(prop.value);
    if (prop.dynamic) {
      dynamicProps += "".concat(prop.name, ",").concat(value, ",");
    } else {
      staticProps += '"'.concat(prop.name, '":').concat(value, ",");
    }
  }
  staticProps = "{".concat(staticProps.slice(0, -1), "}");
  if (dynamicProps) {
    return "_d(".concat(staticProps, ",[").concat(dynamicProps.slice(0, -1), "])");
  } else {
    return staticProps;
  }
}
function transformSpecialNewlines(text2) {
  return text2.replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029");
}
new RegExp("\\b" + "do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b") + "\\b");
new RegExp("\\b" + "delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b") + "\\s*\\([^\\)]*\\)");
function createFunction(code, errors) {
  try {
    return new Function(code);
  } catch (err) {
    errors.push({ err, code });
    return noop;
  }
}
function createCompileToFunctionFn(compile) {
  var cache = /* @__PURE__ */ Object.create(null);
  return function compileToFunctions2(template, options, vm) {
    options = extend({}, options);
    options.warn || warn$2;
    delete options.warn;
    var key = options.delimiters ? String(options.delimiters) + template : template;
    if (cache[key]) {
      return cache[key];
    }
    var compiled = compile(template, options);
    var res = {};
    var fnGenErrors = [];
    res.render = createFunction(compiled.render, fnGenErrors);
    res.staticRenderFns = compiled.staticRenderFns.map(function(code) {
      return createFunction(code, fnGenErrors);
    });
    return cache[key] = res;
  };
}
function createCompilerCreator(baseCompile2) {
  return function createCompiler2(baseOptions2) {
    function compile(template, options) {
      var finalOptions = Object.create(baseOptions2);
      var errors = [];
      var tips = [];
      var warn2 = function(msg, range, tip) {
        (tip ? tips : errors).push(msg);
      };
      if (options) {
        if (options.modules) {
          finalOptions.modules = (baseOptions2.modules || []).concat(options.modules);
        }
        if (options.directives) {
          finalOptions.directives = extend(Object.create(baseOptions2.directives || null), options.directives);
        }
        for (var key in options) {
          if (key !== "modules" && key !== "directives") {
            finalOptions[key] = options[key];
          }
        }
      }
      finalOptions.warn = warn2;
      var compiled = baseCompile2(template.trim(), finalOptions);
      compiled.errors = errors;
      compiled.tips = tips;
      return compiled;
    }
    return {
      compile,
      compileToFunctions: createCompileToFunctionFn(compile)
    };
  };
}
var createCompiler = createCompilerCreator(function baseCompile(template, options) {
  var ast = parse(template.trim(), options);
  if (options.optimize !== false) {
    optimize(ast, options);
  }
  var code = generate(ast, options);
  return {
    ast,
    render: code.render,
    staticRenderFns: code.staticRenderFns
  };
});
var _a = createCompiler(baseOptions), compileToFunctions = _a.compileToFunctions;
var div;
function getShouldDecode(href) {
  div = div || document.createElement("div");
  div.innerHTML = href ? '<a href="\n"/>' : '<div a="\n"/>';
  return div.innerHTML.indexOf("&#10;") > 0;
}
var shouldDecodeNewlines = inBrowser ? getShouldDecode(false) : false;
var shouldDecodeNewlinesForHref = inBrowser ? getShouldDecode(true) : false;
var idToTemplate = cached(function(id) {
  var el = query(id);
  return el && el.innerHTML;
});
var mount = Vue.prototype.$mount;
Vue.prototype.$mount = function(el, hydrating) {
  el = el && query(el);
  if (el === document.body || el === document.documentElement) {
    return this;
  }
  var options = this.$options;
  if (!options.render) {
    var template = options.template;
    if (template) {
      if (typeof template === "string") {
        if (template.charAt(0) === "#") {
          template = idToTemplate(template);
        }
      } else if (template.nodeType) {
        template = template.innerHTML;
      } else {
        return this;
      }
    } else if (el) {
      template = getOuterHTML(el);
    }
    if (template) {
      var _a2 = compileToFunctions(template, {
        outputSourceRange: false,
        shouldDecodeNewlines,
        shouldDecodeNewlinesForHref,
        delimiters: options.delimiters,
        comments: options.comments
      }, this), render2 = _a2.render, staticRenderFns2 = _a2.staticRenderFns;
      options.render = render2;
      options.staticRenderFns = staticRenderFns2;
    }
  }
  return mount.call(this, el, hydrating);
};
function getOuterHTML(el) {
  if (el.outerHTML) {
    return el.outerHTML;
  } else {
    var container = document.createElement("div");
    container.appendChild(el.cloneNode(true));
    return container.innerHTML;
  }
}
Vue.compile = compileToFunctions;
const vue_esm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  EffectScope,
  computed,
  customRef,
  default: Vue,
  defineAsyncComponent,
  defineComponent,
  del,
  effectScope,
  getCurrentInstance,
  getCurrentScope,
  h,
  inject,
  isProxy,
  isReactive,
  isReadonly,
  isRef,
  isShallow,
  markRaw,
  mergeDefaults,
  nextTick,
  onActivated,
  onBeforeMount,
  onBeforeUnmount,
  onBeforeUpdate,
  onDeactivated,
  onErrorCaptured,
  onMounted,
  onRenderTracked,
  onRenderTriggered,
  onScopeDispose,
  onServerPrefetch,
  onUnmounted,
  onUpdated,
  provide,
  proxyRefs,
  reactive,
  readonly,
  ref: ref$1,
  set,
  shallowReactive,
  shallowReadonly,
  shallowRef,
  toRaw,
  toRef,
  toRefs,
  triggerRef,
  unref,
  useAttrs,
  useCssModule,
  useCssVars,
  useListeners,
  useSlots,
  version,
  watch,
  watchEffect,
  watchPostEffect,
  watchSyncEffect
}, Symbol.toStringTag, { value: "Module" }));
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */
function _typeof(obj) {
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function(obj2) {
      return typeof obj2;
    };
  } else {
    _typeof = function(obj2) {
      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
    };
  }
  return _typeof(obj);
}
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
}
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)
      arr2[i] = arr[i];
    return arr2;
  }
}
function _iterableToArray(iter) {
  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]")
    return Array.from(iter);
}
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance");
}
function reflectionIsSupported() {
  return typeof Reflect !== "undefined" && Reflect.defineMetadata && Reflect.getOwnMetadataKeys;
}
function copyReflectionMetadata(to, from) {
  forwardMetadata(to, from);
  Object.getOwnPropertyNames(from.prototype).forEach(function(key) {
    forwardMetadata(to.prototype, from.prototype, key);
  });
  Object.getOwnPropertyNames(from).forEach(function(key) {
    forwardMetadata(to, from, key);
  });
}
function forwardMetadata(to, from, propertyKey) {
  var metaKeys = propertyKey ? Reflect.getOwnMetadataKeys(from, propertyKey) : Reflect.getOwnMetadataKeys(from);
  metaKeys.forEach(function(metaKey) {
    var metadata = propertyKey ? Reflect.getOwnMetadata(metaKey, from, propertyKey) : Reflect.getOwnMetadata(metaKey, from);
    if (propertyKey) {
      Reflect.defineMetadata(metaKey, metadata, to, propertyKey);
    } else {
      Reflect.defineMetadata(metaKey, metadata, to);
    }
  });
}
var fakeArray = {
  __proto__: []
};
var hasProto = fakeArray instanceof Array;
function isPrimitive(value) {
  var type = _typeof(value);
  return value == null || type !== "object" && type !== "function";
}
function collectDataFromConstructor(vm, Component2) {
  var originalInit = Component2.prototype._init;
  Component2.prototype._init = function() {
    var _this = this;
    var keys = Object.getOwnPropertyNames(vm);
    if (vm.$options.props) {
      for (var key in vm.$options.props) {
        if (!vm.hasOwnProperty(key)) {
          keys.push(key);
        }
      }
    }
    keys.forEach(function(key2) {
      Object.defineProperty(_this, key2, {
        get: function get() {
          return vm[key2];
        },
        set: function set2(value) {
          vm[key2] = value;
        },
        configurable: true
      });
    });
  };
  var data = new Component2();
  Component2.prototype._init = originalInit;
  var plainData = {};
  Object.keys(data).forEach(function(key) {
    if (data[key] !== void 0) {
      plainData[key] = data[key];
    }
  });
  return plainData;
}
var $internalHooks = [
  "data",
  "beforeCreate",
  "created",
  "beforeMount",
  "mounted",
  "beforeDestroy",
  "destroyed",
  "beforeUpdate",
  "updated",
  "activated",
  "deactivated",
  "render",
  "errorCaptured",
  "serverPrefetch"
];
function componentFactory(Component2) {
  var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  options.name = options.name || Component2._componentTag || Component2.name;
  var proto = Component2.prototype;
  Object.getOwnPropertyNames(proto).forEach(function(key) {
    if (key === "constructor") {
      return;
    }
    if ($internalHooks.indexOf(key) > -1) {
      options[key] = proto[key];
      return;
    }
    var descriptor = Object.getOwnPropertyDescriptor(proto, key);
    if (descriptor.value !== void 0) {
      if (typeof descriptor.value === "function") {
        (options.methods || (options.methods = {}))[key] = descriptor.value;
      } else {
        (options.mixins || (options.mixins = [])).push({
          data: function data() {
            return _defineProperty({}, key, descriptor.value);
          }
        });
      }
    } else if (descriptor.get || descriptor.set) {
      (options.computed || (options.computed = {}))[key] = {
        get: descriptor.get,
        set: descriptor.set
      };
    }
  });
  (options.mixins || (options.mixins = [])).push({
    data: function data() {
      return collectDataFromConstructor(this, Component2);
    }
  });
  var decorators = Component2.__decorators__;
  if (decorators) {
    decorators.forEach(function(fn) {
      return fn(options);
    });
    delete Component2.__decorators__;
  }
  var superProto = Object.getPrototypeOf(Component2.prototype);
  var Super = superProto instanceof Vue ? superProto.constructor : Vue;
  var Extended = Super.extend(options);
  forwardStaticMembers(Extended, Component2, Super);
  if (reflectionIsSupported()) {
    copyReflectionMetadata(Extended, Component2);
  }
  return Extended;
}
var shouldIgnore = {
  prototype: true,
  arguments: true,
  callee: true,
  caller: true
};
function forwardStaticMembers(Extended, Original, Super) {
  Object.getOwnPropertyNames(Original).forEach(function(key) {
    if (shouldIgnore[key]) {
      return;
    }
    var extendedDescriptor = Object.getOwnPropertyDescriptor(Extended, key);
    if (extendedDescriptor && !extendedDescriptor.configurable) {
      return;
    }
    var descriptor = Object.getOwnPropertyDescriptor(Original, key);
    if (!hasProto) {
      if (key === "cid") {
        return;
      }
      var superDescriptor = Object.getOwnPropertyDescriptor(Super, key);
      if (!isPrimitive(descriptor.value) && superDescriptor && superDescriptor.value === descriptor.value) {
        return;
      }
    }
    Object.defineProperty(Extended, key, descriptor);
  });
}
function Component(options) {
  if (typeof options === "function") {
    return componentFactory(options);
  }
  return function(Component2) {
    return componentFactory(Component2, options);
  };
}
Component.registerHooks = function registerHooks(keys) {
  $internalHooks.push.apply($internalHooks, _toConsumableArray(keys));
};
globalThis && globalThis.__spreadArrays || function() {
  for (var s = 0, i = 0, il = arguments.length; i < il; i++)
    s += arguments[i].length;
  for (var r = Array(s), k = 0, i = 0; i < il; i++)
    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
      r[k] = a[j];
  return r;
};
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
function getDefaultExportFromCjs(x) {
  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
}
function getAugmentedNamespace(n) {
  var f = n.default;
  if (typeof f == "function") {
    var a = function() {
      return f.apply(this, arguments);
    };
    a.prototype = f.prototype;
  } else
    a = {};
  Object.defineProperty(a, "__esModule", { value: true });
  Object.keys(n).forEach(function(k) {
    var d = Object.getOwnPropertyDescriptor(n, k);
    Object.defineProperty(a, k, d.get ? d : {
      enumerable: true,
      get: function() {
        return n[k];
      }
    });
  });
  return a;
}
var vueSliderComponent_umd = { exports: {} };
const require$$0 = /* @__PURE__ */ getAugmentedNamespace(vue_esm);
(function(module, exports) {
  (function webpackUniversalModuleDefinition(root, factory) {
    module.exports = factory(require$$0);
  })(typeof self !== "undefined" ? self : commonjsGlobal, function(__WEBPACK_EXTERNAL_MODULE__8bbf__) {
    return function(modules2) {
      var installedModules = {};
      function __webpack_require__(moduleId) {
        if (installedModules[moduleId]) {
          return installedModules[moduleId].exports;
        }
        var module2 = installedModules[moduleId] = {
          i: moduleId,
          l: false,
          exports: {}
        };
        modules2[moduleId].call(module2.exports, module2, module2.exports, __webpack_require__);
        module2.l = true;
        return module2.exports;
      }
      __webpack_require__.m = modules2;
      __webpack_require__.c = installedModules;
      __webpack_require__.d = function(exports2, name, getter) {
        if (!__webpack_require__.o(exports2, name)) {
          Object.defineProperty(exports2, name, { enumerable: true, get: getter });
        }
      };
      __webpack_require__.r = function(exports2) {
        if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
          Object.defineProperty(exports2, Symbol.toStringTag, { value: "Module" });
        }
        Object.defineProperty(exports2, "__esModule", { value: true });
      };
      __webpack_require__.t = function(value, mode) {
        if (mode & 1)
          value = __webpack_require__(value);
        if (mode & 8)
          return value;
        if (mode & 4 && typeof value === "object" && value && value.__esModule)
          return value;
        var ns = /* @__PURE__ */ Object.create(null);
        __webpack_require__.r(ns);
        Object.defineProperty(ns, "default", { enumerable: true, value });
        if (mode & 2 && typeof value != "string")
          for (var key in value)
            __webpack_require__.d(ns, key, function(key2) {
              return value[key2];
            }.bind(null, key));
        return ns;
      };
      __webpack_require__.n = function(module2) {
        var getter = module2 && module2.__esModule ? function getDefault() {
          return module2["default"];
        } : function getModuleExports() {
          return module2;
        };
        __webpack_require__.d(getter, "a", getter);
        return getter;
      };
      __webpack_require__.o = function(object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
      };
      __webpack_require__.p = "";
      return __webpack_require__(__webpack_require__.s = "fb15");
    }({
      "091b": function(module2, exports2, __webpack_require__) {
        var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
        exports2 = ___CSS_LOADER_API_IMPORT___(false);
        exports2.push([module2.i, ".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip{visibility:visible}.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}", ""]);
        module2.exports = exports2;
      },
      "24fb": function(module2, exports2, __webpack_require__) {
        module2.exports = function(useSourceMap) {
          var list = [];
          list.toString = function toString2() {
            return this.map(function(item) {
              var content = cssWithMappingToString(item, useSourceMap);
              if (item[2]) {
                return "@media ".concat(item[2], " {").concat(content, "}");
              }
              return content;
            }).join("");
          };
          list.i = function(modules2, mediaQuery, dedupe) {
            if (typeof modules2 === "string") {
              modules2 = [[null, modules2, ""]];
            }
            var alreadyImportedModules = {};
            if (dedupe) {
              for (var i = 0; i < this.length; i++) {
                var id = this[i][0];
                if (id != null) {
                  alreadyImportedModules[id] = true;
                }
              }
            }
            for (var _i = 0; _i < modules2.length; _i++) {
              var item = [].concat(modules2[_i]);
              if (dedupe && alreadyImportedModules[item[0]]) {
                continue;
              }
              if (mediaQuery) {
                if (!item[2]) {
                  item[2] = mediaQuery;
                } else {
                  item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
                }
              }
              list.push(item);
            }
          };
          return list;
        };
        function cssWithMappingToString(item, useSourceMap) {
          var content = item[1] || "";
          var cssMapping = item[3];
          if (!cssMapping) {
            return content;
          }
          if (useSourceMap && typeof btoa === "function") {
            var sourceMapping = toComment(cssMapping);
            var sourceURLs = cssMapping.sources.map(function(source) {
              return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");
            });
            return [content].concat(sourceURLs).concat([sourceMapping]).join("\n");
          }
          return [content].join("\n");
        }
        function toComment(sourceMap) {
          var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
          var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
          return "/*# ".concat(data, " */");
        }
      },
      "2638": function(module2, exports2, __webpack_require__) {
        function _extends() {
          return _extends = Object.assign || function(a) {
            for (var b, c = 1; c < arguments.length; c++)
              for (var d in b = arguments[c], b)
                Object.prototype.hasOwnProperty.call(b, d) && (a[d] = b[d]);
            return a;
          }, _extends.apply(this, arguments);
        }
        var normalMerge = ["attrs", "props", "domProps"], toArrayMerge = ["class", "style", "directives"], functionalMerge = ["on", "nativeOn"], mergeJsxProps = function(a) {
          return a.reduce(function(c, a2) {
            for (var b in a2)
              if (!c[b])
                c[b] = a2[b];
              else if (-1 !== normalMerge.indexOf(b))
                c[b] = _extends({}, c[b], a2[b]);
              else if (-1 !== toArrayMerge.indexOf(b)) {
                var d = c[b] instanceof Array ? c[b] : [c[b]], e = a2[b] instanceof Array ? a2[b] : [a2[b]];
                c[b] = d.concat(e);
              } else if (-1 !== functionalMerge.indexOf(b)) {
                for (var f in a2[b])
                  if (c[b][f]) {
                    var g = c[b][f] instanceof Array ? c[b][f] : [c[b][f]], h2 = a2[b][f] instanceof Array ? a2[b][f] : [a2[b][f]];
                    c[b][f] = g.concat(h2);
                  } else
                    c[b][f] = a2[b][f];
              } else if ("hook" == b)
                for (var i in a2[b])
                  c[b][i] = c[b][i] ? mergeFn(c[b][i], a2[b][i]) : a2[b][i];
              else
                c[b] = a2[b];
            return c;
          }, {});
        }, mergeFn = function(a, b) {
          return function() {
            a && a.apply(this, arguments), b && b.apply(this, arguments);
          };
        };
        module2.exports = mergeJsxProps;
      },
      "499e": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "default", function() {
          return addStylesClient;
        });
        function listToStyles(parentId, list) {
          var styles = [];
          var newStyles = {};
          for (var i = 0; i < list.length; i++) {
            var item = list[i];
            var id = item[0];
            var css = item[1];
            var media = item[2];
            var sourceMap = item[3];
            var part = {
              id: parentId + ":" + i,
              css,
              media,
              sourceMap
            };
            if (!newStyles[id]) {
              styles.push(newStyles[id] = { id, parts: [part] });
            } else {
              newStyles[id].parts.push(part);
            }
          }
          return styles;
        }
        var hasDocument = typeof document !== "undefined";
        if (typeof DEBUG !== "undefined" && DEBUG) {
          if (!hasDocument) {
            throw new Error(
              "vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment."
            );
          }
        }
        var stylesInDom = {};
        var head = hasDocument && (document.head || document.getElementsByTagName("head")[0]);
        var singletonElement = null;
        var singletonCounter = 0;
        var isProduction = false;
        var noop2 = function() {
        };
        var options = null;
        var ssrIdKey = "data-vue-ssr-id";
        var isOldIE = typeof navigator !== "undefined" && /msie [6-9]\b/.test(navigator.userAgent.toLowerCase());
        function addStylesClient(parentId, list, _isProduction, _options) {
          isProduction = _isProduction;
          options = _options || {};
          var styles = listToStyles(parentId, list);
          addStylesToDom(styles);
          return function update(newList) {
            var mayRemove = [];
            for (var i = 0; i < styles.length; i++) {
              var item = styles[i];
              var domStyle = stylesInDom[item.id];
              domStyle.refs--;
              mayRemove.push(domStyle);
            }
            if (newList) {
              styles = listToStyles(parentId, newList);
              addStylesToDom(styles);
            } else {
              styles = [];
            }
            for (var i = 0; i < mayRemove.length; i++) {
              var domStyle = mayRemove[i];
              if (domStyle.refs === 0) {
                for (var j = 0; j < domStyle.parts.length; j++) {
                  domStyle.parts[j]();
                }
                delete stylesInDom[domStyle.id];
              }
            }
          };
        }
        function addStylesToDom(styles) {
          for (var i = 0; i < styles.length; i++) {
            var item = styles[i];
            var domStyle = stylesInDom[item.id];
            if (domStyle) {
              domStyle.refs++;
              for (var j = 0; j < domStyle.parts.length; j++) {
                domStyle.parts[j](item.parts[j]);
              }
              for (; j < item.parts.length; j++) {
                domStyle.parts.push(addStyle(item.parts[j]));
              }
              if (domStyle.parts.length > item.parts.length) {
                domStyle.parts.length = item.parts.length;
              }
            } else {
              var parts = [];
              for (var j = 0; j < item.parts.length; j++) {
                parts.push(addStyle(item.parts[j]));
              }
              stylesInDom[item.id] = { id: item.id, refs: 1, parts };
            }
          }
        }
        function createStyleElement() {
          var styleElement = document.createElement("style");
          styleElement.type = "text/css";
          head.appendChild(styleElement);
          return styleElement;
        }
        function addStyle(obj) {
          var update, remove2;
          var styleElement = document.querySelector("style[" + ssrIdKey + '~="' + obj.id + '"]');
          if (styleElement) {
            if (isProduction) {
              return noop2;
            } else {
              styleElement.parentNode.removeChild(styleElement);
            }
          }
          if (isOldIE) {
            var styleIndex = singletonCounter++;
            styleElement = singletonElement || (singletonElement = createStyleElement());
            update = applyToSingletonTag.bind(null, styleElement, styleIndex, false);
            remove2 = applyToSingletonTag.bind(null, styleElement, styleIndex, true);
          } else {
            styleElement = createStyleElement();
            update = applyToTag.bind(null, styleElement);
            remove2 = function() {
              styleElement.parentNode.removeChild(styleElement);
            };
          }
          update(obj);
          return function updateStyle2(newObj) {
            if (newObj) {
              if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
                return;
              }
              update(obj = newObj);
            } else {
              remove2();
            }
          };
        }
        var replaceText = function() {
          var textStore = [];
          return function(index2, replacement) {
            textStore[index2] = replacement;
            return textStore.filter(Boolean).join("\n");
          };
        }();
        function applyToSingletonTag(styleElement, index2, remove2, obj) {
          var css = remove2 ? "" : obj.css;
          if (styleElement.styleSheet) {
            styleElement.styleSheet.cssText = replaceText(index2, css);
          } else {
            var cssNode = document.createTextNode(css);
            var childNodes = styleElement.childNodes;
            if (childNodes[index2])
              styleElement.removeChild(childNodes[index2]);
            if (childNodes.length) {
              styleElement.insertBefore(cssNode, childNodes[index2]);
            } else {
              styleElement.appendChild(cssNode);
            }
          }
        }
        function applyToTag(styleElement, obj) {
          var css = obj.css;
          var media = obj.media;
          var sourceMap = obj.sourceMap;
          if (media) {
            styleElement.setAttribute("media", media);
          }
          if (options.ssrId) {
            styleElement.setAttribute(ssrIdKey, obj.id);
          }
          if (sourceMap) {
            css += "\n/*# sourceURL=" + sourceMap.sources[0] + " */";
            css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
          }
          if (styleElement.styleSheet) {
            styleElement.styleSheet.cssText = css;
          } else {
            while (styleElement.firstChild) {
              styleElement.removeChild(styleElement.firstChild);
            }
            styleElement.appendChild(document.createTextNode(css));
          }
        }
      },
      "4abb": function(module2, exports2, __webpack_require__) {
        var content = __webpack_require__("7a57");
        if (typeof content === "string")
          content = [[module2.i, content, ""]];
        if (content.locals)
          module2.exports = content.locals;
        var add2 = __webpack_require__("499e").default;
        add2("b2af7572", content, true, { "sourceMap": false, "shadowMode": false });
      },
      "4ed8": function(module2, exports2, __webpack_require__) {
        var content = __webpack_require__("091b");
        if (typeof content === "string")
          content = [[module2.i, content, ""]];
        if (content.locals)
          module2.exports = content.locals;
        var add2 = __webpack_require__("499e").default;
        add2("2f6bee1a", content, true, { "sourceMap": false, "shadowMode": false });
      },
      "556c": function(module2, exports2, __webpack_require__) {
        var content = __webpack_require__("eef2");
        if (typeof content === "string")
          content = [[module2.i, content, ""]];
        if (content.locals)
          module2.exports = content.locals;
        var add2 = __webpack_require__("499e").default;
        add2("1209fd47", content, true, { "sourceMap": false, "shadowMode": false });
      },
      "65d9": function(module2, exports2, __webpack_require__) {
        /**
          * vue-class-component v7.0.1
          * (c) 2015-present Evan You
          * @license MIT
          */
        Object.defineProperty(exports2, "__esModule", { value: true });
        function _interopDefault(ex) {
          return ex && typeof ex === "object" && "default" in ex ? ex["default"] : ex;
        }
        var Vue2 = _interopDefault(__webpack_require__("8bbf"));
        var reflectionIsSupported2 = typeof Reflect !== "undefined" && Reflect.defineMetadata && Reflect.getOwnMetadataKeys;
        function copyReflectionMetadata2(to, from) {
          forwardMetadata2(to, from);
          Object.getOwnPropertyNames(from.prototype).forEach(function(key) {
            forwardMetadata2(to.prototype, from.prototype, key);
          });
          Object.getOwnPropertyNames(from).forEach(function(key) {
            forwardMetadata2(to, from, key);
          });
        }
        function forwardMetadata2(to, from, propertyKey) {
          var metaKeys = propertyKey ? Reflect.getOwnMetadataKeys(from, propertyKey) : Reflect.getOwnMetadataKeys(from);
          metaKeys.forEach(function(metaKey) {
            var metadata = propertyKey ? Reflect.getOwnMetadata(metaKey, from, propertyKey) : Reflect.getOwnMetadata(metaKey, from);
            if (propertyKey) {
              Reflect.defineMetadata(metaKey, metadata, to, propertyKey);
            } else {
              Reflect.defineMetadata(metaKey, metadata, to);
            }
          });
        }
        var fakeArray2 = { __proto__: [] };
        var hasProto2 = fakeArray2 instanceof Array;
        function createDecorator(factory) {
          return function(target2, key, index2) {
            var Ctor = typeof target2 === "function" ? target2 : target2.constructor;
            if (!Ctor.__decorators__) {
              Ctor.__decorators__ = [];
            }
            if (typeof index2 !== "number") {
              index2 = void 0;
            }
            Ctor.__decorators__.push(function(options) {
              return factory(options, key, index2);
            });
          };
        }
        function mixins() {
          var Ctors = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            Ctors[_i] = arguments[_i];
          }
          return Vue2.extend({ mixins: Ctors });
        }
        function isPrimitive2(value) {
          var type = typeof value;
          return value == null || type !== "object" && type !== "function";
        }
        function collectDataFromConstructor2(vm, Component3) {
          var originalInit = Component3.prototype._init;
          Component3.prototype._init = function() {
            var _this = this;
            var keys = Object.getOwnPropertyNames(vm);
            if (vm.$options.props) {
              for (var key in vm.$options.props) {
                if (!vm.hasOwnProperty(key)) {
                  keys.push(key);
                }
              }
            }
            keys.forEach(function(key2) {
              if (key2.charAt(0) !== "_") {
                Object.defineProperty(_this, key2, {
                  get: function() {
                    return vm[key2];
                  },
                  set: function(value) {
                    vm[key2] = value;
                  },
                  configurable: true
                });
              }
            });
          };
          var data = new Component3();
          Component3.prototype._init = originalInit;
          var plainData = {};
          Object.keys(data).forEach(function(key) {
            if (data[key] !== void 0) {
              plainData[key] = data[key];
            }
          });
          return plainData;
        }
        var $internalHooks2 = [
          "data",
          "beforeCreate",
          "created",
          "beforeMount",
          "mounted",
          "beforeDestroy",
          "destroyed",
          "beforeUpdate",
          "updated",
          "activated",
          "deactivated",
          "render",
          "errorCaptured",
          "serverPrefetch"
        ];
        function componentFactory2(Component3, options) {
          if (options === void 0) {
            options = {};
          }
          options.name = options.name || Component3._componentTag || Component3.name;
          var proto = Component3.prototype;
          Object.getOwnPropertyNames(proto).forEach(function(key) {
            if (key === "constructor") {
              return;
            }
            if ($internalHooks2.indexOf(key) > -1) {
              options[key] = proto[key];
              return;
            }
            var descriptor = Object.getOwnPropertyDescriptor(proto, key);
            if (descriptor.value !== void 0) {
              if (typeof descriptor.value === "function") {
                (options.methods || (options.methods = {}))[key] = descriptor.value;
              } else {
                (options.mixins || (options.mixins = [])).push({
                  data: function() {
                    var _a2;
                    return _a2 = {}, _a2[key] = descriptor.value, _a2;
                  }
                });
              }
            } else if (descriptor.get || descriptor.set) {
              (options.computed || (options.computed = {}))[key] = {
                get: descriptor.get,
                set: descriptor.set
              };
            }
          });
          (options.mixins || (options.mixins = [])).push({
            data: function() {
              return collectDataFromConstructor2(this, Component3);
            }
          });
          var decorators = Component3.__decorators__;
          if (decorators) {
            decorators.forEach(function(fn) {
              return fn(options);
            });
            delete Component3.__decorators__;
          }
          var superProto = Object.getPrototypeOf(Component3.prototype);
          var Super = superProto instanceof Vue2 ? superProto.constructor : Vue2;
          var Extended = Super.extend(options);
          forwardStaticMembers2(Extended, Component3, Super);
          if (reflectionIsSupported2) {
            copyReflectionMetadata2(Extended, Component3);
          }
          return Extended;
        }
        function forwardStaticMembers2(Extended, Original, Super) {
          Object.getOwnPropertyNames(Original).forEach(function(key) {
            if (key === "prototype") {
              return;
            }
            var extendedDescriptor = Object.getOwnPropertyDescriptor(Extended, key);
            if (extendedDescriptor && !extendedDescriptor.configurable) {
              return;
            }
            var descriptor = Object.getOwnPropertyDescriptor(Original, key);
            if (!hasProto2) {
              if (key === "cid") {
                return;
              }
              var superDescriptor = Object.getOwnPropertyDescriptor(Super, key);
              if (!isPrimitive2(descriptor.value) && superDescriptor && superDescriptor.value === descriptor.value) {
                return;
              }
            }
            Object.defineProperty(Extended, key, descriptor);
          });
        }
        function Component2(options) {
          if (typeof options === "function") {
            return componentFactory2(options);
          }
          return function(Component3) {
            return componentFactory2(Component3, options);
          };
        }
        Component2.registerHooks = function registerHooks2(keys) {
          $internalHooks2.push.apply($internalHooks2, keys);
        };
        exports2.default = Component2;
        exports2.createDecorator = createDecorator;
        exports2.mixins = mixins;
      },
      "7a57": function(module2, exports2, __webpack_require__) {
        var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
        exports2 = ___CSS_LOADER_API_IMPORT___(false);
        exports2.push([module2.i, ".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}", ""]);
        module2.exports = exports2;
      },
      "8875": function(module2, exports2, __webpack_require__) {
        var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
        (function(root, factory) {
          {
            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = factory, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports2, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== void 0 && (module2.exports = __WEBPACK_AMD_DEFINE_RESULT__));
          }
        })(typeof self !== "undefined" ? self : this, function() {
          function getCurrentScript() {
            var descriptor = Object.getOwnPropertyDescriptor(document, "currentScript");
            if (!descriptor && "currentScript" in document && document.currentScript) {
              return document.currentScript;
            }
            if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {
              return document.currentScript;
            }
            try {
              throw new Error();
            } catch (err) {
              var ieStackRegExp = /.*at [^(]*\((.*):(.+):(.+)\)$/ig, ffStackRegExp = /@([^@]*):(\d+):(\d+)\s*$/ig, stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack), scriptLocation = stackDetails && stackDetails[1] || false, line = stackDetails && stackDetails[2] || false, currentLocation = document.location.href.replace(document.location.hash, ""), pageSource, inlineScriptSourceRegExp, inlineScriptSource, scripts = document.getElementsByTagName("script");
              if (scriptLocation === currentLocation) {
                pageSource = document.documentElement.outerHTML;
                inlineScriptSourceRegExp = new RegExp("(?:[^\\n]+?\\n){0," + (line - 2) + "}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*", "i");
                inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, "$1").trim();
              }
              for (var i = 0; i < scripts.length; i++) {
                if (scripts[i].readyState === "interactive") {
                  return scripts[i];
                }
                if (scripts[i].src === scriptLocation) {
                  return scripts[i];
                }
                if (scriptLocation === currentLocation && scripts[i].innerHTML && scripts[i].innerHTML.trim() === inlineScriptSource) {
                  return scripts[i];
                }
              }
              return null;
            }
          }
          return getCurrentScript;
        });
      },
      "8bbf": function(module2, exports2) {
        module2.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;
      },
      "eef2": function(module2, exports2, __webpack_require__) {
        var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
        exports2 = ___CSS_LOADER_API_IMPORT___(false);
        exports2.push([module2.i, ".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}", ""]);
        module2.exports = exports2;
      },
      "fb15": function(module2, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        __webpack_require__.d(__webpack_exports__, "ERROR_TYPE", function() {
          return ERROR_TYPE;
        });
        __webpack_require__.d(__webpack_exports__, "VueSliderMark", function() {
          return vue_slider_mark;
        });
        __webpack_require__.d(__webpack_exports__, "VueSliderDot", function() {
          return vue_slider_dot;
        });
        if (typeof window !== "undefined") {
          var currentScript = window.document.currentScript;
          {
            var getCurrentScript = __webpack_require__("8875");
            currentScript = getCurrentScript();
            if (!("currentScript" in document)) {
              Object.defineProperty(document, "currentScript", { get: getCurrentScript });
            }
          }
          var src = currentScript && currentScript.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);
          if (src) {
            __webpack_require__.p = src[1];
          }
        }
        var helper = __webpack_require__("2638");
        var helper_default = /* @__PURE__ */ __webpack_require__.n(helper);
        function __decorate(decorators, target2, key, desc) {
          var c = arguments.length, r = c < 3 ? target2 : desc === null ? desc = Object.getOwnPropertyDescriptor(target2, key) : desc, d;
          if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target2, key, desc);
          else
            for (var i = decorators.length - 1; i >= 0; i--)
              if (d = decorators[i])
                r = (c < 3 ? d(r) : c > 3 ? d(target2, key, r) : d(target2, key)) || r;
          return c > 3 && r && Object.defineProperty(target2, key, r), r;
        }
        var external_commonjs_vue_commonjs2_vue_root_Vue_amd_vue_ = __webpack_require__("8bbf");
        var external_commonjs_vue_commonjs2_vue_root_Vue_amd_vue_default = /* @__PURE__ */ __webpack_require__.n(external_commonjs_vue_commonjs2_vue_root_Vue_amd_vue_);
        var vue_class_component_common = __webpack_require__("65d9");
        var vue_class_component_common_default = /* @__PURE__ */ __webpack_require__.n(vue_class_component_common);
        var reflectMetadataIsSupported = typeof Reflect !== "undefined" && typeof Reflect.getMetadata !== "undefined";
        function applyMetadata(options, target2, key) {
          if (reflectMetadataIsSupported) {
            if (!Array.isArray(options) && typeof options !== "function" && typeof options.type === "undefined") {
              options.type = Reflect.getMetadata("design:type", target2, key);
            }
          }
        }
        function Model(event, options) {
          if (options === void 0) {
            options = {};
          }
          return function(target2, key) {
            applyMetadata(options, target2, key);
            Object(vue_class_component_common["createDecorator"])(function(componentOptions, k) {
              (componentOptions.props || (componentOptions.props = {}))[k] = options;
              componentOptions.model = { prop: k, event: event || k };
            })(target2, key);
          };
        }
        function Prop(options) {
          if (options === void 0) {
            options = {};
          }
          return function(target2, key) {
            applyMetadata(options, target2, key);
            Object(vue_class_component_common["createDecorator"])(function(componentOptions, k) {
              (componentOptions.props || (componentOptions.props = {}))[k] = options;
            })(target2, key);
          };
        }
        function Watch(path, options) {
          if (options === void 0) {
            options = {};
          }
          var _a2 = options.deep, deep = _a2 === void 0 ? false : _a2, _b = options.immediate, immediate = _b === void 0 ? false : _b;
          return Object(vue_class_component_common["createDecorator"])(function(componentOptions, handler) {
            if (typeof componentOptions.watch !== "object") {
              componentOptions.watch = /* @__PURE__ */ Object.create(null);
            }
            var watch2 = componentOptions.watch;
            if (typeof watch2[path] === "object" && !Array.isArray(watch2[path])) {
              watch2[path] = [watch2[path]];
            } else if (typeof watch2[path] === "undefined") {
              watch2[path] = [];
            }
            watch2[path].push({ handler, deep, immediate });
          });
        }
        __webpack_require__("4ed8");
        function _typeof2(obj) {
          "@babel/helpers - typeof";
          if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
            _typeof2 = function _typeof3(obj2) {
              return typeof obj2;
            };
          } else {
            _typeof2 = function _typeof3(obj2) {
              return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            };
          }
          return _typeof2(obj);
        }
        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function _defineProperties(target2, props2) {
          for (var i = 0; i < props2.length; i++) {
            var descriptor = props2[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target2, descriptor.key, descriptor);
          }
        }
        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            _defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            _defineProperties(Constructor, staticProps);
          return Constructor;
        }
        function _inherits(subClass, superClass) {
          if (typeof superClass !== "function" && superClass !== null) {
            throw new TypeError("Super expression must either be null or a function");
          }
          subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
          if (superClass)
            _setPrototypeOf(subClass, superClass);
        }
        function _setPrototypeOf(o, p2) {
          _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
            o2.__proto__ = p3;
            return o2;
          };
          return _setPrototypeOf(o, p2);
        }
        function _createSuper(Derived) {
          var hasNativeReflectConstruct = _isNativeReflectConstruct();
          return function _createSuperInternal() {
            var Super = _getPrototypeOf(Derived), result;
            if (hasNativeReflectConstruct) {
              var NewTarget = _getPrototypeOf(this).constructor;
              result = Reflect.construct(Super, arguments, NewTarget);
            } else {
              result = Super.apply(this, arguments);
            }
            return _possibleConstructorReturn(this, result);
          };
        }
        function _possibleConstructorReturn(self2, call) {
          if (call && (_typeof2(call) === "object" || typeof call === "function")) {
            return call;
          }
          return _assertThisInitialized(self2);
        }
        function _assertThisInitialized(self2) {
          if (self2 === void 0) {
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          }
          return self2;
        }
        function _isNativeReflectConstruct() {
          if (typeof Reflect === "undefined" || !Reflect.construct)
            return false;
          if (Reflect.construct.sham)
            return false;
          if (typeof Proxy === "function")
            return true;
          try {
            Date.prototype.toString.call(Reflect.construct(Date, [], function() {
            }));
            return true;
          } catch (e) {
            return false;
          }
        }
        function _getPrototypeOf(o) {
          _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
            return o2.__proto__ || Object.getPrototypeOf(o2);
          };
          return _getPrototypeOf(o);
        }
        var VueSliderDot = /* @__PURE__ */ function(_Vue) {
          _inherits(VueSliderDot2, _Vue);
          var _super = _createSuper(VueSliderDot2);
          function VueSliderDot2() {
            _classCallCheck(this, VueSliderDot2);
            return _super.apply(this, arguments);
          }
          _createClass(VueSliderDot2, [{
            key: "dragStart",
            value: function dragStart(e) {
              if (this.disabled) {
                return false;
              }
              this.$emit("drag-start");
            }
          }, {
            key: "render",
            value: function render2() {
              var h2 = arguments[0];
              return h2("div", {
                "ref": "dot",
                "class": this.dotClasses,
                "attrs": {
                  "aria-valuetext": this.tooltipValue
                },
                "on": {
                  "mousedown": this.dragStart,
                  "touchstart": this.dragStart
                }
              }, [this.$slots.dot || h2("div", {
                "class": this.handleClasses,
                "style": this.dotStyle
              }), this.tooltip !== "none" ? h2("div", {
                "class": this.tooltipClasses
              }, [this.$slots.tooltip || h2("div", {
                "class": this.tooltipInnerClasses,
                "style": this.tooltipStyle
              }, [h2("span", {
                "class": "vue-slider-dot-tooltip-text"
              }, [this.tooltipValue])])]) : null]);
            }
          }, {
            key: "dotClasses",
            get: function get() {
              return ["vue-slider-dot", {
                "vue-slider-dot-hover": this.tooltip === "hover" || this.tooltip === "active",
                "vue-slider-dot-disabled": this.disabled,
                "vue-slider-dot-focus": this.focus
              }];
            }
          }, {
            key: "handleClasses",
            get: function get() {
              return ["vue-slider-dot-handle", {
                "vue-slider-dot-handle-disabled": this.disabled,
                "vue-slider-dot-handle-focus": this.focus
              }];
            }
          }, {
            key: "tooltipClasses",
            get: function get() {
              return ["vue-slider-dot-tooltip", ["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)], {
                "vue-slider-dot-tooltip-show": this.showTooltip
              }];
            }
          }, {
            key: "tooltipInnerClasses",
            get: function get() {
              return ["vue-slider-dot-tooltip-inner", ["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)], {
                "vue-slider-dot-tooltip-inner-disabled": this.disabled,
                "vue-slider-dot-tooltip-inner-focus": this.focus
              }];
            }
          }, {
            key: "showTooltip",
            get: function get() {
              switch (this.tooltip) {
                case "always":
                  return true;
                case "none":
                  return false;
                case "focus":
                case "active":
                  return !!this.focus;
                default:
                  return false;
              }
            }
          }, {
            key: "tooltipValue",
            get: function get() {
              if (this.tooltipFormatter) {
                return typeof this.tooltipFormatter === "string" ? this.tooltipFormatter.replace(/\{value\}/, String(this.value)) : this.tooltipFormatter(this.value);
              } else {
                return this.value;
              }
            }
          }]);
          return VueSliderDot2;
        }(external_commonjs_vue_commonjs2_vue_root_Vue_amd_vue_default.a);
        __decorate([Prop({
          default: 0
        })], VueSliderDot.prototype, "value", void 0);
        __decorate([Prop()], VueSliderDot.prototype, "tooltip", void 0);
        __decorate([Prop()], VueSliderDot.prototype, "dotStyle", void 0);
        __decorate([Prop()], VueSliderDot.prototype, "tooltipStyle", void 0);
        __decorate([Prop({
          type: String,
          validator: function validator(val) {
            return ["top", "right", "bottom", "left"].indexOf(val) > -1;
          },
          required: true
        })], VueSliderDot.prototype, "tooltipPlacement", void 0);
        __decorate([Prop({
          type: [String, Function]
        })], VueSliderDot.prototype, "tooltipFormatter", void 0);
        __decorate([Prop({
          type: Boolean,
          default: false
        })], VueSliderDot.prototype, "focus", void 0);
        __decorate([Prop({
          default: false
        })], VueSliderDot.prototype, "disabled", void 0);
        VueSliderDot = __decorate([vue_class_component_common_default()({
          name: "VueSliderDot"
        })], VueSliderDot);
        var vue_slider_dot = VueSliderDot;
        __webpack_require__("556c");
        function vue_slider_mark_typeof(obj) {
          "@babel/helpers - typeof";
          if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
            vue_slider_mark_typeof = function _typeof3(obj2) {
              return typeof obj2;
            };
          } else {
            vue_slider_mark_typeof = function _typeof3(obj2) {
              return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            };
          }
          return vue_slider_mark_typeof(obj);
        }
        function vue_slider_mark_classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function vue_slider_mark_defineProperties(target2, props2) {
          for (var i = 0; i < props2.length; i++) {
            var descriptor = props2[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target2, descriptor.key, descriptor);
          }
        }
        function vue_slider_mark_createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            vue_slider_mark_defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            vue_slider_mark_defineProperties(Constructor, staticProps);
          return Constructor;
        }
        function vue_slider_mark_inherits(subClass, superClass) {
          if (typeof superClass !== "function" && superClass !== null) {
            throw new TypeError("Super expression must either be null or a function");
          }
          subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
          if (superClass)
            vue_slider_mark_setPrototypeOf(subClass, superClass);
        }
        function vue_slider_mark_setPrototypeOf(o, p2) {
          vue_slider_mark_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
            o2.__proto__ = p3;
            return o2;
          };
          return vue_slider_mark_setPrototypeOf(o, p2);
        }
        function vue_slider_mark_createSuper(Derived) {
          var hasNativeReflectConstruct = vue_slider_mark_isNativeReflectConstruct();
          return function _createSuperInternal() {
            var Super = vue_slider_mark_getPrototypeOf(Derived), result;
            if (hasNativeReflectConstruct) {
              var NewTarget = vue_slider_mark_getPrototypeOf(this).constructor;
              result = Reflect.construct(Super, arguments, NewTarget);
            } else {
              result = Super.apply(this, arguments);
            }
            return vue_slider_mark_possibleConstructorReturn(this, result);
          };
        }
        function vue_slider_mark_possibleConstructorReturn(self2, call) {
          if (call && (vue_slider_mark_typeof(call) === "object" || typeof call === "function")) {
            return call;
          }
          return vue_slider_mark_assertThisInitialized(self2);
        }
        function vue_slider_mark_assertThisInitialized(self2) {
          if (self2 === void 0) {
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          }
          return self2;
        }
        function vue_slider_mark_isNativeReflectConstruct() {
          if (typeof Reflect === "undefined" || !Reflect.construct)
            return false;
          if (Reflect.construct.sham)
            return false;
          if (typeof Proxy === "function")
            return true;
          try {
            Date.prototype.toString.call(Reflect.construct(Date, [], function() {
            }));
            return true;
          } catch (e) {
            return false;
          }
        }
        function vue_slider_mark_getPrototypeOf(o) {
          vue_slider_mark_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
            return o2.__proto__ || Object.getPrototypeOf(o2);
          };
          return vue_slider_mark_getPrototypeOf(o);
        }
        var VueSlideMark = /* @__PURE__ */ function(_Vue) {
          vue_slider_mark_inherits(VueSlideMark2, _Vue);
          var _super = vue_slider_mark_createSuper(VueSlideMark2);
          function VueSlideMark2() {
            vue_slider_mark_classCallCheck(this, VueSlideMark2);
            return _super.apply(this, arguments);
          }
          vue_slider_mark_createClass(VueSlideMark2, [{
            key: "labelClickHandle",
            value: function labelClickHandle(e) {
              e.stopPropagation();
              this.$emit("pressLabel", this.mark.pos);
            }
          }, {
            key: "render",
            value: function render2() {
              var h2 = arguments[0];
              var mark = this.mark;
              return h2("div", {
                "class": this.marksClasses
              }, [this.$slots.step || h2("div", {
                "class": this.stepClasses,
                "style": [this.stepStyle, mark.style, mark.active ? this.stepActiveStyle : null, mark.active ? mark.activeStyle : null]
              }), !this.hideLabel ? this.$slots.label || h2("div", {
                "class": this.labelClasses,
                "style": [this.labelStyle, mark.labelStyle, mark.active ? this.labelActiveStyle : null, mark.active ? mark.labelActiveStyle : null],
                "on": {
                  "click": this.labelClickHandle
                }
              }, [mark.label]) : null]);
            }
          }, {
            key: "marksClasses",
            get: function get() {
              return ["vue-slider-mark", {
                "vue-slider-mark-active": this.mark.active
              }];
            }
          }, {
            key: "stepClasses",
            get: function get() {
              return ["vue-slider-mark-step", {
                "vue-slider-mark-step-active": this.mark.active
              }];
            }
          }, {
            key: "labelClasses",
            get: function get() {
              return ["vue-slider-mark-label", {
                "vue-slider-mark-label-active": this.mark.active
              }];
            }
          }]);
          return VueSlideMark2;
        }(external_commonjs_vue_commonjs2_vue_root_Vue_amd_vue_default.a);
        __decorate([Prop({
          required: true
        })], VueSlideMark.prototype, "mark", void 0);
        __decorate([Prop(Boolean)], VueSlideMark.prototype, "hideLabel", void 0);
        __decorate([Prop()], VueSlideMark.prototype, "stepStyle", void 0);
        __decorate([Prop()], VueSlideMark.prototype, "stepActiveStyle", void 0);
        __decorate([Prop()], VueSlideMark.prototype, "labelStyle", void 0);
        __decorate([Prop()], VueSlideMark.prototype, "labelActiveStyle", void 0);
        VueSlideMark = __decorate([vue_class_component_common_default()({
          name: "VueSlideMark"
        })], VueSlideMark);
        var vue_slider_mark = VueSlideMark;
        var getSize = function getSize2(value) {
          return typeof value === "number" ? "".concat(value, "px") : value;
        };
        var getOffset = function getOffset2(elem) {
          var doc = document.documentElement;
          var body = document.body;
          var rect = elem.getBoundingClientRect();
          var offset = {
            y: rect.top + (window.pageYOffset || doc.scrollTop) - (doc.clientTop || body.clientTop || 0),
            x: rect.left + (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || body.clientLeft || 0)
          };
          return offset;
        };
        var getPos = function getPos2(e, elem, isReverse) {
          var zoom = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;
          var event = "targetTouches" in e ? e.targetTouches[0] : e;
          var offset = getOffset(elem);
          var posObj = {
            x: event.pageX - offset.x,
            y: event.pageY - offset.y
          };
          return {
            x: isReverse ? elem.offsetWidth * zoom - posObj.x : posObj.x,
            y: isReverse ? elem.offsetHeight * zoom - posObj.y : posObj.y
          };
        };
        var KEY_CODE;
        (function(KEY_CODE2) {
          KEY_CODE2[KEY_CODE2["PAGE_UP"] = 33] = "PAGE_UP";
          KEY_CODE2[KEY_CODE2["PAGE_DOWN"] = 34] = "PAGE_DOWN";
          KEY_CODE2[KEY_CODE2["END"] = 35] = "END";
          KEY_CODE2[KEY_CODE2["HOME"] = 36] = "HOME";
          KEY_CODE2[KEY_CODE2["LEFT"] = 37] = "LEFT";
          KEY_CODE2[KEY_CODE2["UP"] = 38] = "UP";
          KEY_CODE2[KEY_CODE2["RIGHT"] = 39] = "RIGHT";
          KEY_CODE2[KEY_CODE2["DOWN"] = 40] = "DOWN";
        })(KEY_CODE || (KEY_CODE = {}));
        var getKeyboardHandleFunc = function getKeyboardHandleFunc2(e, params) {
          if (params.hook) {
            var result = params.hook(e);
            if (typeof result === "function")
              return result;
            if (!result)
              return null;
          }
          switch (e.keyCode) {
            case KEY_CODE.UP:
              return function(i) {
                return params.direction === "ttb" ? i - 1 : i + 1;
              };
            case KEY_CODE.RIGHT:
              return function(i) {
                return params.direction === "rtl" ? i - 1 : i + 1;
              };
            case KEY_CODE.DOWN:
              return function(i) {
                return params.direction === "ttb" ? i + 1 : i - 1;
              };
            case KEY_CODE.LEFT:
              return function(i) {
                return params.direction === "rtl" ? i + 1 : i - 1;
              };
            case KEY_CODE.END:
              return function() {
                return params.max;
              };
            case KEY_CODE.HOME:
              return function() {
                return params.min;
              };
            case KEY_CODE.PAGE_UP:
              return function(i) {
                return i + 10;
              };
            case KEY_CODE.PAGE_DOWN:
              return function(i) {
                return i - 10;
              };
            default:
              return null;
          }
        };
        function decimal_classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function decimal_defineProperties(target2, props2) {
          for (var i = 0; i < props2.length; i++) {
            var descriptor = props2[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target2, descriptor.key, descriptor);
          }
        }
        function decimal_createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            decimal_defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            decimal_defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var Decimal = /* @__PURE__ */ function() {
          function Decimal2(num) {
            decimal_classCallCheck(this, Decimal2);
            this.num = num;
          }
          decimal_createClass(Decimal2, [{
            key: "decimal",
            value: function decimal(num2, operator) {
              var num1 = this.num;
              var len1 = this.getDecimalLen(num1);
              var len2 = this.getDecimalLen(num2);
              var base = 0;
              switch (operator) {
                case "+":
                  base = this.getExponent(len1, len2);
                  this.num = (this.safeRoundUp(num1, base) + this.safeRoundUp(num2, base)) / base;
                  break;
                case "-":
                  base = this.getExponent(len1, len2);
                  this.num = (this.safeRoundUp(num1, base) - this.safeRoundUp(num2, base)) / base;
                  break;
                case "*":
                  this.num = this.safeRoundUp(this.safeRoundUp(num1, this.getExponent(len1)), this.safeRoundUp(num2, this.getExponent(len2))) / this.getExponent(len1 + len2);
                  break;
                case "/":
                  base = this.getExponent(len1, len2);
                  this.num = this.safeRoundUp(num1, base) / this.safeRoundUp(num2, base);
                  break;
                case "%":
                  base = this.getExponent(len1, len2);
                  this.num = this.safeRoundUp(num1, base) % this.safeRoundUp(num2, base) / base;
                  break;
              }
              return this;
            }
          }, {
            key: "plus",
            value: function plus(num2) {
              return this.decimal(num2, "+");
            }
          }, {
            key: "minus",
            value: function minus(num2) {
              return this.decimal(num2, "-");
            }
          }, {
            key: "multiply",
            value: function multiply(num2) {
              return this.decimal(num2, "*");
            }
          }, {
            key: "divide",
            value: function divide(num2) {
              return this.decimal(num2, "/");
            }
          }, {
            key: "remainder",
            value: function remainder(num2) {
              return this.decimal(num2, "%");
            }
          }, {
            key: "toNumber",
            value: function toNumber2() {
              return this.num;
            }
          }, {
            key: "getDecimalLen",
            value: function getDecimalLen(num) {
              var strArr = "".concat(num).split("e");
              return ("".concat(strArr[0]).split(".")[1] || "").length - (strArr[1] ? +strArr[1] : 0);
            }
          }, {
            key: "getExponent",
            value: function getExponent(num1, num2) {
              return Math.pow(10, num2 !== void 0 ? Math.max(num1, num2) : num1);
            }
          }, {
            key: "safeRoundUp",
            value: function safeRoundUp(num, exponent) {
              return Math.round(num * exponent);
            }
          }]);
          return Decimal2;
        }();
        var _ERROR_MSG;
        function ownKeys(object, enumerableOnly) {
          var keys = Object.keys(object);
          if (Object.getOwnPropertySymbols) {
            var symbols = Object.getOwnPropertySymbols(object);
            if (enumerableOnly)
              symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
              });
            keys.push.apply(keys, symbols);
          }
          return keys;
        }
        function _objectSpread(target2) {
          for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i] != null ? arguments[i] : {};
            if (i % 2) {
              ownKeys(Object(source), true).forEach(function(key) {
                _defineProperty2(target2, key, source[key]);
              });
            } else if (Object.getOwnPropertyDescriptors) {
              Object.defineProperties(target2, Object.getOwnPropertyDescriptors(source));
            } else {
              ownKeys(Object(source)).forEach(function(key) {
                Object.defineProperty(target2, key, Object.getOwnPropertyDescriptor(source, key));
              });
            }
          }
          return target2;
        }
        function _slicedToArray(arr, i) {
          return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
        }
        function _nonIterableRest() {
          throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function _iterableToArrayLimit(arr, i) {
          if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr)))
            return;
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = void 0;
          try {
            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
              _arr.push(_s.value);
              if (i && _arr.length === i)
                break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"] != null)
                _i["return"]();
            } finally {
              if (_d)
                throw _e;
            }
          }
          return _arr;
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr))
            return arr;
        }
        function _toConsumableArray2(arr) {
          return _arrayWithoutHoles2(arr) || _iterableToArray2(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread2();
        }
        function _nonIterableSpread2() {
          throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function _unsupportedIterableToArray(o, minLen) {
          if (!o)
            return;
          if (typeof o === "string")
            return _arrayLikeToArray(o, minLen);
          var n = Object.prototype.toString.call(o).slice(8, -1);
          if (n === "Object" && o.constructor)
            n = o.constructor.name;
          if (n === "Map" || n === "Set")
            return Array.from(o);
          if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
            return _arrayLikeToArray(o, minLen);
        }
        function _iterableToArray2(iter) {
          if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter))
            return Array.from(iter);
        }
        function _arrayWithoutHoles2(arr) {
          if (Array.isArray(arr))
            return _arrayLikeToArray(arr);
        }
        function _arrayLikeToArray(arr, len2) {
          if (len2 == null || len2 > arr.length)
            len2 = arr.length;
          for (var i = 0, arr2 = new Array(len2); i < len2; i++) {
            arr2[i] = arr[i];
          }
          return arr2;
        }
        function control_classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function control_defineProperties(target2, props2) {
          for (var i = 0; i < props2.length; i++) {
            var descriptor = props2[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target2, descriptor.key, descriptor);
          }
        }
        function control_createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            control_defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            control_defineProperties(Constructor, staticProps);
          return Constructor;
        }
        function _defineProperty2(obj, key, value) {
          if (key in obj) {
            Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
          } else {
            obj[key] = value;
          }
          return obj;
        }
        var ERROR_TYPE;
        (function(ERROR_TYPE2) {
          ERROR_TYPE2[ERROR_TYPE2["VALUE"] = 1] = "VALUE";
          ERROR_TYPE2[ERROR_TYPE2["INTERVAL"] = 2] = "INTERVAL";
          ERROR_TYPE2[ERROR_TYPE2["MIN"] = 3] = "MIN";
          ERROR_TYPE2[ERROR_TYPE2["MAX"] = 4] = "MAX";
          ERROR_TYPE2[ERROR_TYPE2["ORDER"] = 5] = "ORDER";
        })(ERROR_TYPE || (ERROR_TYPE = {}));
        var ERROR_MSG = (_ERROR_MSG = {}, _defineProperty2(_ERROR_MSG, ERROR_TYPE.VALUE, 'The type of the "value" is illegal'), _defineProperty2(_ERROR_MSG, ERROR_TYPE.INTERVAL, 'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'), _defineProperty2(_ERROR_MSG, ERROR_TYPE.MIN, 'The "value" must be greater than or equal to the "min".'), _defineProperty2(_ERROR_MSG, ERROR_TYPE.MAX, 'The "value" must be less than or equal to the "max".'), _defineProperty2(_ERROR_MSG, ERROR_TYPE.ORDER, 'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'), _ERROR_MSG);
        var control_Control = /* @__PURE__ */ function() {
          function Control(options) {
            control_classCallCheck(this, Control);
            this.dotsPos = [];
            this.dotsValue = [];
            this.cacheRangeDir = {};
            this.data = options.data;
            this.max = options.max;
            this.min = options.min;
            this.interval = options.interval;
            this.order = options.order;
            this.marks = options.marks;
            this.included = options.included;
            this.process = options.process;
            this.adsorb = options.adsorb;
            this.dotOptions = options.dotOptions;
            this.onError = options.onError;
            if (this.order) {
              this.minRange = options.minRange || 0;
              this.maxRange = options.maxRange || 0;
              this.enableCross = options.enableCross;
              this.fixed = options.fixed;
            } else {
              if (options.minRange || options.maxRange || !options.enableCross || options.fixed) {
                this.emitError(ERROR_TYPE.ORDER);
              }
              this.minRange = 0;
              this.maxRange = 0;
              this.enableCross = true;
              this.fixed = false;
            }
            this.setValue(options.value);
          }
          control_createClass(Control, [{
            key: "setValue",
            value: function setValue(value) {
              var _this = this;
              this.setDotsValue(Array.isArray(value) ? this.order ? _toConsumableArray2(value).sort(function(a, b) {
                return _this.getIndexByValue(a) - _this.getIndexByValue(b);
              }) : _toConsumableArray2(value) : [value], true);
            }
          }, {
            key: "setDotsValue",
            value: function setDotsValue(value, syncPos) {
              this.dotsValue = value;
              if (syncPos) {
                this.syncDotsPos();
              }
            }
          }, {
            key: "setDotsPos",
            value: function setDotsPos(dotsPos) {
              var _this2 = this;
              var list = this.order ? _toConsumableArray2(dotsPos).sort(function(a, b) {
                return a - b;
              }) : dotsPos;
              this.dotsPos = list;
              this.setDotsValue(list.map(function(dotPos) {
                return _this2.getValueByPos(dotPos);
              }), this.adsorb);
            }
          }, {
            key: "getValueByPos",
            value: function getValueByPos(pos) {
              var value = this.parsePos(pos);
              if (this.included) {
                var dir = 100;
                this.markList.forEach(function(mark) {
                  var curDir = Math.abs(mark.pos - pos);
                  if (curDir < dir) {
                    dir = curDir;
                    value = mark.value;
                  }
                });
              }
              return value;
            }
          }, {
            key: "syncDotsPos",
            value: function syncDotsPos() {
              var _this3 = this;
              this.dotsPos = this.dotsValue.map(function(v) {
                return _this3.parseValue(v);
              });
            }
          }, {
            key: "getRecentDot",
            value: function getRecentDot(pos) {
              var _this4 = this;
              var arr = this.dotsPos.filter(function(dotPos, index2) {
                return !(_this4.getDotOption(index2) && _this4.getDotOption(index2).disabled);
              }).map(function(dotPos) {
                return Math.abs(dotPos - pos);
              });
              return arr.indexOf(Math.min.apply(Math, _toConsumableArray2(arr)));
            }
          }, {
            key: "getIndexByValue",
            value: function getIndexByValue(value) {
              if (this.data) {
                return this.data.indexOf(value);
              }
              return new Decimal(+value).minus(this.min).divide(this.interval).toNumber();
            }
          }, {
            key: "getValueByIndex",
            value: function getValueByIndex(index2) {
              if (index2 < 0) {
                index2 = 0;
              } else if (index2 > this.total) {
                index2 = this.total;
              }
              return this.data ? this.data[index2] : new Decimal(index2).multiply(this.interval).plus(this.min).toNumber();
            }
          }, {
            key: "setDotPos",
            value: function setDotPos(pos, index2) {
              pos = this.getValidPos(pos, index2).pos;
              var changePos = pos - this.dotsPos[index2];
              if (!changePos) {
                return;
              }
              var changePosArr = new Array(this.dotsPos.length);
              if (this.fixed) {
                changePosArr = this.getFixedChangePosArr(changePos, index2);
              } else if (this.minRange || this.maxRange) {
                changePosArr = this.getLimitRangeChangePosArr(pos, changePos, index2);
              } else {
                changePosArr[index2] = changePos;
              }
              this.setDotsPos(this.dotsPos.map(function(curPos, i) {
                return curPos + (changePosArr[i] || 0);
              }));
            }
          }, {
            key: "getFixedChangePosArr",
            value: function getFixedChangePosArr(changePos, index2) {
              var _this5 = this;
              this.dotsPos.forEach(function(originPos, i) {
                if (i !== index2) {
                  var _this5$getValidPos = _this5.getValidPos(originPos + changePos, i), lastPos = _this5$getValidPos.pos, inRange = _this5$getValidPos.inRange;
                  if (!inRange) {
                    changePos = Math.min(Math.abs(lastPos - originPos), Math.abs(changePos)) * (changePos < 0 ? -1 : 1);
                  }
                }
              });
              return this.dotsPos.map(function(_) {
                return changePos;
              });
            }
          }, {
            key: "getLimitRangeChangePosArr",
            value: function getLimitRangeChangePosArr(pos, changePos, index2) {
              var _this6 = this;
              var changeDots = [{
                index: index2,
                changePos
              }];
              var newChangePos = changePos;
              [this.minRange, this.maxRange].forEach(function(isLimitRange, rangeIndex) {
                if (!isLimitRange) {
                  return false;
                }
                var isMinRange = rangeIndex === 0;
                var isForward = changePos > 0;
                var next2 = 0;
                if (isMinRange) {
                  next2 = isForward ? 1 : -1;
                } else {
                  next2 = isForward ? -1 : 1;
                }
                var inLimitRange = function inLimitRange2(pos2, pos1) {
                  var diff = Math.abs(pos2 - pos1);
                  return isMinRange ? diff < _this6.minRangeDir : diff > _this6.maxRangeDir;
                };
                var i = index2 + next2;
                var nextPos = _this6.dotsPos[i];
                var curPos = pos;
                while (_this6.isPos(nextPos) && inLimitRange(nextPos, curPos)) {
                  var _this6$getValidPos = _this6.getValidPos(nextPos + newChangePos, i), lastPos = _this6$getValidPos.pos;
                  changeDots.push({
                    index: i,
                    changePos: lastPos - nextPos
                  });
                  i = i + next2;
                  curPos = lastPos;
                  nextPos = _this6.dotsPos[i];
                }
              });
              return this.dotsPos.map(function(_, i) {
                var changeDot = changeDots.filter(function(dot) {
                  return dot.index === i;
                });
                return changeDot.length ? changeDot[0].changePos : 0;
              });
            }
          }, {
            key: "isPos",
            value: function isPos(pos) {
              return typeof pos === "number";
            }
          }, {
            key: "getValidPos",
            value: function getValidPos(pos, index2) {
              var range = this.valuePosRange[index2];
              var inRange = true;
              if (pos < range[0]) {
                pos = range[0];
                inRange = false;
              } else if (pos > range[1]) {
                pos = range[1];
                inRange = false;
              }
              return {
                pos,
                inRange
              };
            }
          }, {
            key: "parseValue",
            value: function parseValue(val) {
              if (this.data) {
                val = this.data.indexOf(val);
              } else if (typeof val === "number" || typeof val === "string") {
                val = +val;
                if (val < this.min) {
                  this.emitError(ERROR_TYPE.MIN);
                  return 0;
                }
                if (val > this.max) {
                  this.emitError(ERROR_TYPE.MAX);
                  return 0;
                }
                if (typeof val !== "number" || val !== val) {
                  this.emitError(ERROR_TYPE.VALUE);
                  return 0;
                }
                val = new Decimal(val).minus(this.min).divide(this.interval).toNumber();
              }
              var pos = new Decimal(val).multiply(this.gap).toNumber();
              return pos < 0 ? 0 : pos > 100 ? 100 : pos;
            }
          }, {
            key: "parsePos",
            value: function parsePos(pos) {
              var index2 = Math.round(pos / this.gap);
              return this.getValueByIndex(index2);
            }
          }, {
            key: "isActiveByPos",
            value: function isActiveByPos(pos) {
              return this.processArray.some(function(_ref) {
                var _ref2 = _slicedToArray(_ref, 2), start = _ref2[0], end = _ref2[1];
                return pos >= start && pos <= end;
              });
            }
          }, {
            key: "getValues",
            value: function getValues() {
              if (this.data) {
                return this.data;
              } else {
                var values = [];
                for (var i = 0; i <= this.total; i++) {
                  values.push(new Decimal(i).multiply(this.interval).plus(this.min).toNumber());
                }
                return values;
              }
            }
          }, {
            key: "getRangeDir",
            value: function getRangeDir(range) {
              return range ? new Decimal(range).divide(new Decimal(this.data ? this.data.length - 1 : this.max).minus(this.data ? 0 : this.min).toNumber()).multiply(100).toNumber() : 100;
            }
          }, {
            key: "emitError",
            value: function emitError(type) {
              if (this.onError) {
                this.onError(type, ERROR_MSG[type]);
              }
            }
          }, {
            key: "getDotOption",
            value: function getDotOption(index2) {
              return Array.isArray(this.dotOptions) ? this.dotOptions[index2] : this.dotOptions;
            }
          }, {
            key: "getDotRange",
            value: function getDotRange(index2, key, defaultValue) {
              if (!this.dotOptions) {
                return defaultValue;
              }
              var option = this.getDotOption(index2);
              return option && option[key] !== void 0 ? this.parseValue(option[key]) : defaultValue;
            }
          }, {
            key: "markList",
            get: function get() {
              var _this7 = this;
              if (!this.marks) {
                return [];
              }
              var getMarkByValue = function getMarkByValue2(value, mark) {
                var pos = _this7.parseValue(value);
                return _objectSpread({
                  pos,
                  value,
                  label: value,
                  active: _this7.isActiveByPos(pos)
                }, mark);
              };
              if (this.marks === true) {
                return this.getValues().map(function(value) {
                  return getMarkByValue(value);
                });
              } else if (Object.prototype.toString.call(this.marks) === "[object Object]") {
                return Object.keys(this.marks).sort(function(a, b) {
                  return +a - +b;
                }).map(function(value) {
                  var item = _this7.marks[value];
                  return getMarkByValue(value, typeof item !== "string" ? item : {
                    label: item
                  });
                });
              } else if (Array.isArray(this.marks)) {
                return this.marks.map(function(value) {
                  return getMarkByValue(value);
                });
              } else if (typeof this.marks === "function") {
                return this.getValues().map(function(value) {
                  return {
                    value,
                    result: _this7.marks(value)
                  };
                }).filter(function(_ref3) {
                  var result = _ref3.result;
                  return !!result;
                }).map(function(_ref4) {
                  var value = _ref4.value, result = _ref4.result;
                  return getMarkByValue(value, result);
                });
              } else {
                return [];
              }
            }
          }, {
            key: "processArray",
            get: function get() {
              if (this.process) {
                if (typeof this.process === "function") {
                  return this.process(this.dotsPos);
                } else if (this.dotsPos.length === 1) {
                  return [[0, this.dotsPos[0]]];
                } else if (this.dotsPos.length > 1) {
                  return [[Math.min.apply(Math, _toConsumableArray2(this.dotsPos)), Math.max.apply(Math, _toConsumableArray2(this.dotsPos))]];
                }
              }
              return [];
            }
          }, {
            key: "total",
            get: function get() {
              var total = 0;
              if (this.data) {
                total = this.data.length - 1;
              } else {
                total = new Decimal(this.max).minus(this.min).divide(this.interval).toNumber();
              }
              if (total - Math.floor(total) !== 0) {
                this.emitError(ERROR_TYPE.INTERVAL);
                return 0;
              }
              return total;
            }
          }, {
            key: "gap",
            get: function get() {
              return 100 / this.total;
            }
          }, {
            key: "minRangeDir",
            get: function get() {
              if (this.cacheRangeDir[this.minRange]) {
                return this.cacheRangeDir[this.minRange];
              }
              return this.cacheRangeDir[this.minRange] = this.getRangeDir(this.minRange);
            }
          }, {
            key: "maxRangeDir",
            get: function get() {
              if (this.cacheRangeDir[this.maxRange])
                return this.cacheRangeDir[this.maxRange];
              return this.cacheRangeDir[this.maxRange] = this.getRangeDir(this.maxRange);
            }
          }, {
            key: "valuePosRange",
            get: function get() {
              var _this8 = this;
              var dotsPos = this.dotsPos;
              var valuePosRange = [];
              dotsPos.forEach(function(pos, i) {
                valuePosRange.push([Math.max(_this8.minRange ? _this8.minRangeDir * i : 0, !_this8.enableCross ? dotsPos[i - 1] || 0 : 0, _this8.getDotRange(i, "min", 0)), Math.min(_this8.minRange ? 100 - _this8.minRangeDir * (dotsPos.length - 1 - i) : 100, !_this8.enableCross ? dotsPos[i + 1] || 100 : 100, _this8.getDotRange(i, "max", 100))]);
              });
              return valuePosRange;
            }
          }, {
            key: "dotsIndex",
            get: function get() {
              var _this9 = this;
              return this.dotsValue.map(function(val) {
                return _this9.getIndexByValue(val);
              });
            }
          }]);
          return Control;
        }();
        function state_classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function state_defineProperties(target2, props2) {
          for (var i = 0; i < props2.length; i++) {
            var descriptor = props2[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target2, descriptor.key, descriptor);
          }
        }
        function state_createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            state_defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            state_defineProperties(Constructor, staticProps);
          return Constructor;
        }
        var State = /* @__PURE__ */ function() {
          function State2(map) {
            state_classCallCheck(this, State2);
            this.states = 0;
            this.map = map;
          }
          state_createClass(State2, [{
            key: "add",
            value: function add2(state) {
              this.states |= state;
            }
          }, {
            key: "delete",
            value: function _delete(state) {
              this.states &= ~state;
            }
          }, {
            key: "toggle",
            value: function toggle(state) {
              if (this.has(state)) {
                this.delete(state);
              } else {
                this.add(state);
              }
            }
          }, {
            key: "has",
            value: function has2(state) {
              return !!(this.states & state);
            }
          }]);
          return State2;
        }();
        __webpack_require__("4abb");
        function vue_slider_slicedToArray(arr, i) {
          return vue_slider_arrayWithHoles(arr) || vue_slider_iterableToArrayLimit(arr, i) || vue_slider_unsupportedIterableToArray(arr, i) || vue_slider_nonIterableRest();
        }
        function vue_slider_nonIterableRest() {
          throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function vue_slider_iterableToArrayLimit(arr, i) {
          if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr)))
            return;
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = void 0;
          try {
            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
              _arr.push(_s.value);
              if (i && _arr.length === i)
                break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"] != null)
                _i["return"]();
            } finally {
              if (_d)
                throw _e;
            }
          }
          return _arr;
        }
        function vue_slider_arrayWithHoles(arr) {
          if (Array.isArray(arr))
            return arr;
        }
        function vue_slider_ownKeys(object, enumerableOnly) {
          var keys = Object.keys(object);
          if (Object.getOwnPropertySymbols) {
            var symbols = Object.getOwnPropertySymbols(object);
            if (enumerableOnly)
              symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
              });
            keys.push.apply(keys, symbols);
          }
          return keys;
        }
        function vue_slider_objectSpread(target2) {
          for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i] != null ? arguments[i] : {};
            if (i % 2) {
              vue_slider_ownKeys(Object(source), true).forEach(function(key) {
                vue_slider_defineProperty(target2, key, source[key]);
              });
            } else if (Object.getOwnPropertyDescriptors) {
              Object.defineProperties(target2, Object.getOwnPropertyDescriptors(source));
            } else {
              vue_slider_ownKeys(Object(source)).forEach(function(key) {
                Object.defineProperty(target2, key, Object.getOwnPropertyDescriptor(source, key));
              });
            }
          }
          return target2;
        }
        function vue_slider_defineProperty(obj, key, value) {
          if (key in obj) {
            Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
          } else {
            obj[key] = value;
          }
          return obj;
        }
        function vue_slider_toConsumableArray(arr) {
          return vue_slider_arrayWithoutHoles(arr) || vue_slider_iterableToArray(arr) || vue_slider_unsupportedIterableToArray(arr) || vue_slider_nonIterableSpread();
        }
        function vue_slider_nonIterableSpread() {
          throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function vue_slider_unsupportedIterableToArray(o, minLen) {
          if (!o)
            return;
          if (typeof o === "string")
            return vue_slider_arrayLikeToArray(o, minLen);
          var n = Object.prototype.toString.call(o).slice(8, -1);
          if (n === "Object" && o.constructor)
            n = o.constructor.name;
          if (n === "Map" || n === "Set")
            return Array.from(o);
          if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
            return vue_slider_arrayLikeToArray(o, minLen);
        }
        function vue_slider_iterableToArray(iter) {
          if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter))
            return Array.from(iter);
        }
        function vue_slider_arrayWithoutHoles(arr) {
          if (Array.isArray(arr))
            return vue_slider_arrayLikeToArray(arr);
        }
        function vue_slider_arrayLikeToArray(arr, len2) {
          if (len2 == null || len2 > arr.length)
            len2 = arr.length;
          for (var i = 0, arr2 = new Array(len2); i < len2; i++) {
            arr2[i] = arr[i];
          }
          return arr2;
        }
        function vue_slider_typeof(obj) {
          "@babel/helpers - typeof";
          if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
            vue_slider_typeof = function _typeof3(obj2) {
              return typeof obj2;
            };
          } else {
            vue_slider_typeof = function _typeof3(obj2) {
              return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            };
          }
          return vue_slider_typeof(obj);
        }
        function vue_slider_classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }
        function vue_slider_defineProperties(target2, props2) {
          for (var i = 0; i < props2.length; i++) {
            var descriptor = props2[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target2, descriptor.key, descriptor);
          }
        }
        function vue_slider_createClass(Constructor, protoProps, staticProps) {
          if (protoProps)
            vue_slider_defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            vue_slider_defineProperties(Constructor, staticProps);
          return Constructor;
        }
        function vue_slider_inherits(subClass, superClass) {
          if (typeof superClass !== "function" && superClass !== null) {
            throw new TypeError("Super expression must either be null or a function");
          }
          subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
          if (superClass)
            vue_slider_setPrototypeOf(subClass, superClass);
        }
        function vue_slider_setPrototypeOf(o, p2) {
          vue_slider_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
            o2.__proto__ = p3;
            return o2;
          };
          return vue_slider_setPrototypeOf(o, p2);
        }
        function vue_slider_createSuper(Derived) {
          var hasNativeReflectConstruct = vue_slider_isNativeReflectConstruct();
          return function _createSuperInternal() {
            var Super = vue_slider_getPrototypeOf(Derived), result;
            if (hasNativeReflectConstruct) {
              var NewTarget = vue_slider_getPrototypeOf(this).constructor;
              result = Reflect.construct(Super, arguments, NewTarget);
            } else {
              result = Super.apply(this, arguments);
            }
            return vue_slider_possibleConstructorReturn(this, result);
          };
        }
        function vue_slider_possibleConstructorReturn(self2, call) {
          if (call && (vue_slider_typeof(call) === "object" || typeof call === "function")) {
            return call;
          }
          return vue_slider_assertThisInitialized(self2);
        }
        function vue_slider_assertThisInitialized(self2) {
          if (self2 === void 0) {
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          }
          return self2;
        }
        function vue_slider_isNativeReflectConstruct() {
          if (typeof Reflect === "undefined" || !Reflect.construct)
            return false;
          if (Reflect.construct.sham)
            return false;
          if (typeof Proxy === "function")
            return true;
          try {
            Date.prototype.toString.call(Reflect.construct(Date, [], function() {
            }));
            return true;
          } catch (e) {
            return false;
          }
        }
        function vue_slider_getPrototypeOf(o) {
          vue_slider_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
            return o2.__proto__ || Object.getPrototypeOf(o2);
          };
          return vue_slider_getPrototypeOf(o);
        }
        var SliderState = {
          None: 0,
          Drag: 1 << 1,
          Focus: 1 << 2
        };
        var DEFAULT_SLIDER_SIZE = 4;
        var vue_slider_VueSlider = /* @__PURE__ */ function(_Vue) {
          vue_slider_inherits(VueSlider2, _Vue);
          var _super = vue_slider_createSuper(VueSlider2);
          function VueSlider2() {
            var _this;
            vue_slider_classCallCheck(this, VueSlider2);
            _this = _super.apply(this, arguments);
            _this.states = new State(SliderState);
            _this.scale = 1;
            _this.focusDotIndex = 0;
            return _this;
          }
          vue_slider_createClass(VueSlider2, [{
            key: "isObjectData",
            value: function isObjectData(data) {
              return !!data && Object.prototype.toString.call(data) === "[object Object]";
            }
          }, {
            key: "isObjectArrayData",
            value: function isObjectArrayData(data) {
              return !!data && Array.isArray(data) && data.length > 0 && vue_slider_typeof(data[0]) === "object";
            }
          }, {
            key: "onValueChanged",
            value: function onValueChanged() {
              if (this.control && !this.states.has(SliderState.Drag) && this.isNotSync) {
                this.control.setValue(this.value);
                this.syncValueByPos();
              }
            }
          }, {
            key: "created",
            value: function created() {
              this.initControl();
            }
          }, {
            key: "mounted",
            value: function mounted() {
              this.bindEvent();
            }
          }, {
            key: "beforeDestroy",
            value: function beforeDestroy() {
              this.unbindEvent();
            }
          }, {
            key: "bindEvent",
            value: function bindEvent() {
              document.addEventListener("touchmove", this.dragMove, {
                passive: false
              });
              document.addEventListener("touchend", this.dragEnd, {
                passive: false
              });
              document.addEventListener("mousedown", this.blurHandle);
              document.addEventListener("mousemove", this.dragMove, {
                passive: false
              });
              document.addEventListener("mouseup", this.dragEnd);
              document.addEventListener("mouseleave", this.dragEnd);
              document.addEventListener("keydown", this.keydownHandle);
            }
          }, {
            key: "unbindEvent",
            value: function unbindEvent() {
              document.removeEventListener("touchmove", this.dragMove);
              document.removeEventListener("touchend", this.dragEnd);
              document.removeEventListener("mousedown", this.blurHandle);
              document.removeEventListener("mousemove", this.dragMove);
              document.removeEventListener("mouseup", this.dragEnd);
              document.removeEventListener("mouseleave", this.dragEnd);
              document.removeEventListener("keydown", this.keydownHandle);
            }
          }, {
            key: "setScale",
            value: function setScale() {
              var decimal = new Decimal(Math.floor(this.isHorizontal ? this.$refs.rail.offsetWidth : this.$refs.rail.offsetHeight));
              if (this.zoom !== void 0) {
                decimal.multiply(this.zoom);
              }
              decimal.divide(100);
              this.scale = decimal.toNumber();
            }
          }, {
            key: "initControl",
            value: function initControl() {
              var _this2 = this;
              this.control = new control_Control({
                value: this.value,
                data: this.sliderData,
                enableCross: this.enableCross,
                fixed: this.fixed,
                max: this.max,
                min: this.min,
                interval: this.interval,
                minRange: this.minRange,
                maxRange: this.maxRange,
                order: this.order,
                marks: this.sliderMarks,
                included: this.included,
                process: this.process,
                adsorb: this.adsorb,
                dotOptions: this.dotOptions,
                onError: this.emitError
              });
              this.syncValueByPos();
              ["data", "enableCross", "fixed", "max", "min", "interval", "minRange", "maxRange", "order", "marks", "process", "adsorb", "included", "dotOptions"].forEach(function(name) {
                _this2.$watch(name, function(val) {
                  if (name === "data" && Array.isArray(_this2.control.data) && Array.isArray(val) && _this2.control.data.length === val.length && val.every(function(item, index2) {
                    return item === _this2.control.data[index2];
                  })) {
                    return false;
                  }
                  switch (name) {
                    case "data":
                    case "dataLabel":
                    case "dataValue":
                      _this2.control.data = _this2.sliderData;
                      break;
                    case "mark":
                      _this2.control.marks = _this2.sliderMarks;
                      break;
                    default:
                      _this2.control[name] = val;
                  }
                  if (["data", "max", "min", "interval"].indexOf(name) > -1) {
                    _this2.control.syncDotsPos();
                  }
                });
              });
            }
          }, {
            key: "syncValueByPos",
            value: function syncValueByPos() {
              var values = this.control.dotsValue;
              if (this.isDiff(values, Array.isArray(this.value) ? this.value : [this.value])) {
                this.$emit("change", values.length === 1 ? values[0] : vue_slider_toConsumableArray(values), this.focusDotIndex);
              }
            }
          }, {
            key: "isDiff",
            value: function isDiff(value1, value2) {
              return value1.length !== value2.length || value1.some(function(val, index2) {
                return val !== value2[index2];
              });
            }
          }, {
            key: "emitError",
            value: function emitError(type, message) {
              if (!this.silent) {
                console.error("[VueSlider error]: ".concat(message));
              }
              this.$emit("error", type, message);
            }
          }, {
            key: "dragStartOnProcess",
            value: function dragStartOnProcess(e) {
              if (this.dragOnClick) {
                this.setScale();
                var pos = this.getPosByEvent(e);
                var index2 = this.control.getRecentDot(pos);
                if (this.dots[index2].disabled) {
                  return;
                }
                this.dragStart(index2);
                this.control.setDotPos(pos, this.focusDotIndex);
                if (!this.lazy) {
                  this.syncValueByPos();
                }
              }
            }
          }, {
            key: "dragStart",
            value: function dragStart(index2) {
              this.focusDotIndex = index2;
              this.setScale();
              this.states.add(SliderState.Drag);
              this.states.add(SliderState.Focus);
              this.$emit("drag-start", this.focusDotIndex);
            }
          }, {
            key: "dragMove",
            value: function dragMove(e) {
              if (!this.states.has(SliderState.Drag)) {
                return false;
              }
              e.preventDefault();
              var pos = this.getPosByEvent(e);
              this.isCrossDot(pos);
              this.control.setDotPos(pos, this.focusDotIndex);
              if (!this.lazy) {
                this.syncValueByPos();
              }
              var value = this.control.dotsValue;
              this.$emit("dragging", value.length === 1 ? value[0] : vue_slider_toConsumableArray(value), this.focusDotIndex);
            }
          }, {
            key: "isCrossDot",
            value: function isCrossDot(pos) {
              if (this.canSort) {
                var curIndex = this.focusDotIndex;
                var curPos = pos;
                if (curPos > this.dragRange[1]) {
                  curPos = this.dragRange[1];
                  this.focusDotIndex++;
                } else if (curPos < this.dragRange[0]) {
                  curPos = this.dragRange[0];
                  this.focusDotIndex--;
                }
                if (curIndex !== this.focusDotIndex) {
                  var dotVm = this.$refs["dot-".concat(this.focusDotIndex)];
                  if (dotVm && dotVm.$el) {
                    dotVm.$el.focus();
                  }
                  this.control.setDotPos(curPos, curIndex);
                }
              }
            }
          }, {
            key: "dragEnd",
            value: function dragEnd(e) {
              var _this3 = this;
              if (!this.states.has(SliderState.Drag)) {
                return false;
              }
              setTimeout(function() {
                if (_this3.lazy) {
                  _this3.syncValueByPos();
                }
                if (_this3.included && _this3.isNotSync) {
                  _this3.control.setValue(_this3.value);
                } else {
                  _this3.control.syncDotsPos();
                }
                _this3.states.delete(SliderState.Drag);
                if (!_this3.useKeyboard || "targetTouches" in e) {
                  _this3.states.delete(SliderState.Focus);
                }
                _this3.$emit("drag-end", _this3.focusDotIndex);
              });
            }
          }, {
            key: "blurHandle",
            value: function blurHandle(e) {
              if (!this.states.has(SliderState.Focus) || !this.$refs.container || this.$refs.container.contains(e.target)) {
                return false;
              }
              this.states.delete(SliderState.Focus);
            }
          }, {
            key: "clickHandle",
            value: function clickHandle(e) {
              if (!this.clickable || this.disabled) {
                return false;
              }
              if (this.states.has(SliderState.Drag)) {
                return;
              }
              this.setScale();
              var pos = this.getPosByEvent(e);
              this.setValueByPos(pos);
            }
          }, {
            key: "focus",
            value: function focus() {
              var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
              this.states.add(SliderState.Focus);
              this.focusDotIndex = index2;
            }
          }, {
            key: "blur",
            value: function blur() {
              this.states.delete(SliderState.Focus);
            }
          }, {
            key: "getValue",
            value: function getValue2() {
              var values = this.control.dotsValue;
              return values.length === 1 ? values[0] : values;
            }
          }, {
            key: "getIndex",
            value: function getIndex() {
              var indexes = this.control.dotsIndex;
              return indexes.length === 1 ? indexes[0] : indexes;
            }
          }, {
            key: "setValue",
            value: function setValue(value) {
              this.control.setValue(Array.isArray(value) ? vue_slider_toConsumableArray(value) : [value]);
              this.syncValueByPos();
            }
          }, {
            key: "setIndex",
            value: function setIndex(index2) {
              var _this4 = this;
              var value = Array.isArray(index2) ? index2.map(function(n) {
                return _this4.control.getValueByIndex(n);
              }) : this.control.getValueByIndex(index2);
              this.setValue(value);
            }
          }, {
            key: "setValueByPos",
            value: function setValueByPos(pos) {
              var _this5 = this;
              var index2 = this.control.getRecentDot(pos);
              if (this.disabled || this.dots[index2].disabled) {
                return false;
              }
              this.focusDotIndex = index2;
              this.control.setDotPos(pos, index2);
              this.syncValueByPos();
              if (this.useKeyboard) {
                this.states.add(SliderState.Focus);
              }
              setTimeout(function() {
                if (_this5.included && _this5.isNotSync) {
                  _this5.control.setValue(_this5.value);
                } else {
                  _this5.control.syncDotsPos();
                }
              });
            }
          }, {
            key: "keydownHandle",
            value: function keydownHandle(e) {
              var _this6 = this;
              if (!this.useKeyboard || !this.states.has(SliderState.Focus)) {
                return false;
              }
              var isInclude = this.included && this.marks;
              var handleFunc = getKeyboardHandleFunc(e, {
                direction: this.direction,
                max: isInclude ? this.control.markList.length - 1 : this.control.total,
                min: 0,
                hook: this.keydownHook
              });
              if (handleFunc) {
                e.preventDefault();
                var newIndex = -1;
                var pos = 0;
                if (isInclude) {
                  this.control.markList.some(function(mark, index2) {
                    if (mark.value === _this6.control.dotsValue[_this6.focusDotIndex]) {
                      newIndex = handleFunc(index2);
                      return true;
                    }
                    return false;
                  });
                  if (newIndex < 0) {
                    newIndex = 0;
                  } else if (newIndex > this.control.markList.length - 1) {
                    newIndex = this.control.markList.length - 1;
                  }
                  pos = this.control.markList[newIndex].pos;
                } else {
                  newIndex = handleFunc(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex]));
                  pos = this.control.parseValue(this.control.getValueByIndex(newIndex));
                }
                this.isCrossDot(pos);
                this.control.setDotPos(pos, this.focusDotIndex);
                this.syncValueByPos();
              }
            }
          }, {
            key: "getPosByEvent",
            value: function getPosByEvent(e) {
              return getPos(e, this.$refs.rail, this.isReverse, this.zoom)[this.isHorizontal ? "x" : "y"] / this.scale;
            }
          }, {
            key: "renderSlot",
            value: function renderSlot2(name, data, defaultSlot, isDefault) {
              var h2 = this.$createElement;
              var scopedSlot = this.$scopedSlots[name];
              return scopedSlot ? isDefault ? scopedSlot(data) : h2("template", {
                "slot": name
              }, [scopedSlot(data)]) : defaultSlot;
            }
          }, {
            key: "render",
            value: function render2() {
              var _this7 = this;
              var h2 = arguments[0];
              return h2("div", helper_default()([{
                "ref": "container",
                "class": this.containerClasses,
                "style": this.containerStyles,
                "on": {
                  "click": this.clickHandle,
                  "touchstart": this.dragStartOnProcess,
                  "mousedown": this.dragStartOnProcess
                }
              }, this.$attrs]), [h2("div", {
                "ref": "rail",
                "class": "vue-slider-rail",
                "style": this.railStyle
              }, [this.processArray.map(function(item, index2) {
                return _this7.renderSlot("process", item, h2("div", {
                  "class": "vue-slider-process",
                  "key": "process-".concat(index2),
                  "style": item.style
                }), true);
              }), this.sliderMarks ? h2("div", {
                "class": "vue-slider-marks"
              }, [this.control.markList.map(function(mark, index2) {
                var _ref;
                return _this7.renderSlot("mark", mark, h2("vue-slider-mark", {
                  "key": "mark-".concat(index2),
                  "attrs": {
                    "mark": mark,
                    "hideLabel": _this7.hideLabel,
                    "stepStyle": _this7.stepStyle,
                    "stepActiveStyle": _this7.stepActiveStyle,
                    "labelStyle": _this7.labelStyle,
                    "labelActiveStyle": _this7.labelActiveStyle
                  },
                  "style": (_ref = {}, vue_slider_defineProperty(_ref, _this7.isHorizontal ? "height" : "width", "100%"), vue_slider_defineProperty(_ref, _this7.isHorizontal ? "width" : "height", _this7.tailSize), vue_slider_defineProperty(_ref, _this7.mainDirection, "".concat(mark.pos, "%")), _ref),
                  "on": {
                    "pressLabel": function pressLabel(pos) {
                      return _this7.clickable && _this7.setValueByPos(pos);
                    }
                  }
                }, [_this7.renderSlot("step", mark, null), _this7.renderSlot("label", mark, null)]), true);
              })]) : null, this.dots.map(function(dot, index2) {
                var _ref2;
                return h2("vue-slider-dot", {
                  "ref": "dot-".concat(index2),
                  "key": "dot-".concat(index2),
                  "attrs": vue_slider_objectSpread({
                    "value": dot.value,
                    "disabled": dot.disabled,
                    "focus": dot.focus,
                    "dot-style": [dot.style, dot.disabled ? dot.disabledStyle : null, dot.focus ? dot.focusStyle : null],
                    "tooltip": dot.tooltip || _this7.tooltip,
                    "tooltip-style": [_this7.tooltipStyle, dot.tooltipStyle, dot.disabled ? dot.tooltipDisabledStyle : null, dot.focus ? dot.tooltipFocusStyle : null],
                    "tooltip-formatter": Array.isArray(_this7.sliderTooltipFormatter) ? _this7.sliderTooltipFormatter[index2] : _this7.sliderTooltipFormatter,
                    "tooltip-placement": _this7.tooltipDirections[index2],
                    "role": "slider",
                    "aria-valuenow": dot.value,
                    "aria-valuemin": _this7.min,
                    "aria-valuemax": _this7.max,
                    "aria-orientation": _this7.isHorizontal ? "horizontal" : "vertical",
                    "tabindex": "0"
                  }, _this7.dotAttrs),
                  "style": [_this7.dotBaseStyle, (_ref2 = {}, vue_slider_defineProperty(_ref2, _this7.mainDirection, "".concat(dot.pos, "%")), vue_slider_defineProperty(_ref2, "transition", "".concat(_this7.mainDirection, " ").concat(_this7.animateTime, "s")), _ref2)],
                  "on": {
                    "drag-start": function dragStart() {
                      return _this7.dragStart(index2);
                    }
                  },
                  "nativeOn": {
                    "focus": function focus() {
                      return !dot.disabled && _this7.focus(index2);
                    },
                    "blur": function blur() {
                      return _this7.blur();
                    }
                  }
                }, [_this7.renderSlot("dot", dot, null), _this7.renderSlot("tooltip", dot, null)]);
              }), this.renderSlot("default", {
                value: this.getValue()
              }, null, true)])]);
            }
          }, {
            key: "tailSize",
            get: function get() {
              return getSize((this.isHorizontal ? this.height : this.width) || DEFAULT_SLIDER_SIZE);
            }
          }, {
            key: "containerClasses",
            get: function get() {
              return ["vue-slider", ["vue-slider-".concat(this.direction)], {
                "vue-slider-disabled": this.disabled
              }];
            }
          }, {
            key: "containerStyles",
            get: function get() {
              var _ref3 = Array.isArray(this.dotSize) ? this.dotSize : [this.dotSize, this.dotSize], _ref4 = vue_slider_slicedToArray(_ref3, 2), dotWidth = _ref4[0], dotHeight = _ref4[1];
              var containerWidth = this.width ? getSize(this.width) : this.isHorizontal ? "auto" : getSize(DEFAULT_SLIDER_SIZE);
              var containerHeight = this.height ? getSize(this.height) : this.isHorizontal ? getSize(DEFAULT_SLIDER_SIZE) : "auto";
              return {
                padding: this.contained ? "".concat(dotHeight / 2, "px ").concat(dotWidth / 2, "px") : this.isHorizontal ? "".concat(dotHeight / 2, "px 0") : "0 ".concat(dotWidth / 2, "px"),
                width: containerWidth,
                height: containerHeight
              };
            }
          }, {
            key: "processArray",
            get: function get() {
              var _this8 = this;
              return this.control.processArray.map(function(_ref5, index2) {
                var _objectSpread2;
                var _ref6 = vue_slider_slicedToArray(_ref5, 3), start = _ref6[0], end = _ref6[1], style2 = _ref6[2];
                if (start > end) {
                  var _ref7 = [end, start];
                  start = _ref7[0];
                  end = _ref7[1];
                }
                var sizeStyleKey = _this8.isHorizontal ? "width" : "height";
                return {
                  start,
                  end,
                  index: index2,
                  style: vue_slider_objectSpread(vue_slider_objectSpread((_objectSpread2 = {}, vue_slider_defineProperty(_objectSpread2, _this8.isHorizontal ? "height" : "width", "100%"), vue_slider_defineProperty(_objectSpread2, _this8.isHorizontal ? "top" : "left", 0), vue_slider_defineProperty(_objectSpread2, _this8.mainDirection, "".concat(start, "%")), vue_slider_defineProperty(_objectSpread2, sizeStyleKey, "".concat(end - start, "%")), vue_slider_defineProperty(_objectSpread2, "transitionProperty", "".concat(sizeStyleKey, ",").concat(_this8.mainDirection)), vue_slider_defineProperty(_objectSpread2, "transitionDuration", "".concat(_this8.animateTime, "s")), _objectSpread2), _this8.processStyle), style2)
                };
              });
            }
          }, {
            key: "dotBaseStyle",
            get: function get() {
              var _ref8 = Array.isArray(this.dotSize) ? this.dotSize : [this.dotSize, this.dotSize], _ref9 = vue_slider_slicedToArray(_ref8, 2), dotWidth = _ref9[0], dotHeight = _ref9[1];
              var dotPos;
              if (this.isHorizontal) {
                dotPos = vue_slider_defineProperty({
                  transform: "translate(".concat(this.isReverse ? "50%" : "-50%", ", -50%)"),
                  "-WebkitTransform": "translate(".concat(this.isReverse ? "50%" : "-50%", ", -50%)"),
                  top: "50%"
                }, this.direction === "ltr" ? "left" : "right", "0");
              } else {
                dotPos = vue_slider_defineProperty({
                  transform: "translate(-50%, ".concat(this.isReverse ? "50%" : "-50%", ")"),
                  "-WebkitTransform": "translate(-50%, ".concat(this.isReverse ? "50%" : "-50%", ")"),
                  left: "50%"
                }, this.direction === "btt" ? "bottom" : "top", "0");
              }
              return vue_slider_objectSpread({
                width: "".concat(dotWidth, "px"),
                height: "".concat(dotHeight, "px")
              }, dotPos);
            }
          }, {
            key: "mainDirection",
            get: function get() {
              switch (this.direction) {
                case "ltr":
                  return "left";
                case "rtl":
                  return "right";
                case "btt":
                  return "bottom";
                case "ttb":
                  return "top";
              }
            }
          }, {
            key: "isHorizontal",
            get: function get() {
              return this.direction === "ltr" || this.direction === "rtl";
            }
          }, {
            key: "isReverse",
            get: function get() {
              return this.direction === "rtl" || this.direction === "btt";
            }
          }, {
            key: "tooltipDirections",
            get: function get() {
              var dir = this.tooltipPlacement || (this.isHorizontal ? "top" : "left");
              if (Array.isArray(dir)) {
                return dir;
              } else {
                return this.dots.map(function() {
                  return dir;
                });
              }
            }
          }, {
            key: "dots",
            get: function get() {
              var _this9 = this;
              return this.control.dotsPos.map(function(pos, index2) {
                return vue_slider_objectSpread({
                  pos,
                  index: index2,
                  value: _this9.control.dotsValue[index2],
                  focus: _this9.states.has(SliderState.Focus) && _this9.focusDotIndex === index2,
                  disabled: _this9.disabled,
                  style: _this9.dotStyle
                }, (Array.isArray(_this9.dotOptions) ? _this9.dotOptions[index2] : _this9.dotOptions) || {});
              });
            }
          }, {
            key: "animateTime",
            get: function get() {
              if (this.states.has(SliderState.Drag)) {
                return 0;
              }
              return this.duration;
            }
          }, {
            key: "canSort",
            get: function get() {
              return this.order && !this.minRange && !this.maxRange && !this.fixed && this.enableCross;
            }
          }, {
            key: "sliderData",
            get: function get() {
              var _this10 = this;
              if (this.isObjectArrayData(this.data)) {
                return this.data.map(function(obj) {
                  return obj[_this10.dataValue];
                });
              } else if (this.isObjectData(this.data)) {
                return Object.keys(this.data);
              } else {
                return this.data;
              }
            }
          }, {
            key: "sliderMarks",
            get: function get() {
              var _this11 = this;
              if (this.marks) {
                return this.marks;
              } else if (this.isObjectArrayData(this.data)) {
                return function(val) {
                  var mark = {
                    label: val
                  };
                  _this11.data.some(function(obj) {
                    if (obj[_this11.dataValue] === val) {
                      mark.label = obj[_this11.dataLabel];
                      return true;
                    }
                    return false;
                  });
                  return mark;
                };
              } else if (this.isObjectData(this.data)) {
                return this.data;
              }
            }
          }, {
            key: "sliderTooltipFormatter",
            get: function get() {
              var _this12 = this;
              if (this.tooltipFormatter) {
                return this.tooltipFormatter;
              } else if (this.isObjectArrayData(this.data)) {
                return function(val) {
                  var tooltipText = "" + val;
                  _this12.data.some(function(obj) {
                    if (obj[_this12.dataValue] === val) {
                      tooltipText = obj[_this12.dataLabel];
                      return true;
                    }
                    return false;
                  });
                  return tooltipText;
                };
              } else if (this.isObjectData(this.data)) {
                var data = this.data;
                return function(val) {
                  return data[val];
                };
              }
            }
          }, {
            key: "isNotSync",
            get: function get() {
              var values = this.control.dotsValue;
              return Array.isArray(this.value) ? this.value.length !== values.length || this.value.some(function(val, index2) {
                return val !== values[index2];
              }) : this.value !== values[0];
            }
          }, {
            key: "dragRange",
            get: function get() {
              var prevDot = this.dots[this.focusDotIndex - 1];
              var nextDot = this.dots[this.focusDotIndex + 1];
              return [prevDot ? prevDot.pos : -Infinity, nextDot ? nextDot.pos : Infinity];
            }
          }]);
          return VueSlider2;
        }(external_commonjs_vue_commonjs2_vue_root_Vue_amd_vue_default.a);
        __decorate([Model("change", {
          default: 0
        })], vue_slider_VueSlider.prototype, "value", void 0);
        __decorate([Prop({
          type: Boolean,
          default: false
        })], vue_slider_VueSlider.prototype, "silent", void 0);
        __decorate([Prop({
          default: "ltr",
          validator: function validator(dir) {
            return ["ltr", "rtl", "ttb", "btt"].indexOf(dir) > -1;
          }
        })], vue_slider_VueSlider.prototype, "direction", void 0);
        __decorate([Prop({
          type: [Number, String]
        })], vue_slider_VueSlider.prototype, "width", void 0);
        __decorate([Prop({
          type: [Number, String]
        })], vue_slider_VueSlider.prototype, "height", void 0);
        __decorate([Prop({
          default: 14
        })], vue_slider_VueSlider.prototype, "dotSize", void 0);
        __decorate([Prop({
          default: false
        })], vue_slider_VueSlider.prototype, "contained", void 0);
        __decorate([Prop({
          type: Number,
          default: 0
        })], vue_slider_VueSlider.prototype, "min", void 0);
        __decorate([Prop({
          type: Number,
          default: 100
        })], vue_slider_VueSlider.prototype, "max", void 0);
        __decorate([Prop({
          type: Number,
          default: 1
        })], vue_slider_VueSlider.prototype, "interval", void 0);
        __decorate([Prop({
          type: Boolean,
          default: false
        })], vue_slider_VueSlider.prototype, "disabled", void 0);
        __decorate([Prop({
          type: Boolean,
          default: true
        })], vue_slider_VueSlider.prototype, "clickable", void 0);
        __decorate([Prop({
          type: Boolean,
          default: false
        })], vue_slider_VueSlider.prototype, "dragOnClick", void 0);
        __decorate([Prop({
          type: Number,
          default: 0.5
        })], vue_slider_VueSlider.prototype, "duration", void 0);
        __decorate([Prop({
          type: [Object, Array]
        })], vue_slider_VueSlider.prototype, "data", void 0);
        __decorate([Prop({
          type: String,
          default: "value"
        })], vue_slider_VueSlider.prototype, "dataValue", void 0);
        __decorate([Prop({
          type: String,
          default: "label"
        })], vue_slider_VueSlider.prototype, "dataLabel", void 0);
        __decorate([Prop({
          type: Boolean,
          default: false
        })], vue_slider_VueSlider.prototype, "lazy", void 0);
        __decorate([Prop({
          type: String,
          validator: function validator(val) {
            return ["none", "always", "focus", "hover", "active"].indexOf(val) > -1;
          },
          default: "active"
        })], vue_slider_VueSlider.prototype, "tooltip", void 0);
        __decorate([Prop({
          type: [String, Array],
          validator: function validator(data) {
            return (Array.isArray(data) ? data : [data]).every(function(val) {
              return ["top", "right", "bottom", "left"].indexOf(val) > -1;
            });
          }
        })], vue_slider_VueSlider.prototype, "tooltipPlacement", void 0);
        __decorate([Prop({
          type: [String, Array, Function]
        })], vue_slider_VueSlider.prototype, "tooltipFormatter", void 0);
        __decorate([Prop({
          type: Boolean,
          default: true
        })], vue_slider_VueSlider.prototype, "useKeyboard", void 0);
        __decorate([Prop(Function)], vue_slider_VueSlider.prototype, "keydownHook", void 0);
        __decorate([Prop({
          type: Boolean,
          default: true
        })], vue_slider_VueSlider.prototype, "enableCross", void 0);
        __decorate([Prop({
          type: Boolean,
          default: false
        })], vue_slider_VueSlider.prototype, "fixed", void 0);
        __decorate([Prop({
          type: Boolean,
          default: true
        })], vue_slider_VueSlider.prototype, "order", void 0);
        __decorate([Prop(Number)], vue_slider_VueSlider.prototype, "minRange", void 0);
        __decorate([Prop(Number)], vue_slider_VueSlider.prototype, "maxRange", void 0);
        __decorate([Prop({
          type: [Boolean, Object, Array, Function],
          default: false
        })], vue_slider_VueSlider.prototype, "marks", void 0);
        __decorate([Prop({
          type: [Boolean, Function],
          default: true
        })], vue_slider_VueSlider.prototype, "process", void 0);
        __decorate([Prop({
          type: [Number]
        })], vue_slider_VueSlider.prototype, "zoom", void 0);
        __decorate([Prop(Boolean)], vue_slider_VueSlider.prototype, "included", void 0);
        __decorate([Prop(Boolean)], vue_slider_VueSlider.prototype, "adsorb", void 0);
        __decorate([Prop(Boolean)], vue_slider_VueSlider.prototype, "hideLabel", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "dotOptions", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "dotAttrs", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "railStyle", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "processStyle", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "dotStyle", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "tooltipStyle", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "stepStyle", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "stepActiveStyle", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "labelStyle", void 0);
        __decorate([Prop()], vue_slider_VueSlider.prototype, "labelActiveStyle", void 0);
        __decorate([Watch("value")], vue_slider_VueSlider.prototype, "onValueChanged", null);
        vue_slider_VueSlider = __decorate([vue_class_component_common_default()({
          name: "VueSlider",
          data: function data() {
            return {
              control: null
            };
          },
          components: {
            VueSliderDot: vue_slider_dot,
            VueSliderMark: vue_slider_mark
          }
        })], vue_slider_VueSlider);
        var vue_slider = vue_slider_VueSlider;
        vue_slider.VueSliderMark = vue_slider_mark;
        vue_slider.VueSliderDot = vue_slider_dot;
        var lib = vue_slider;
        __webpack_exports__["default"] = lib;
      }
    })["default"];
  });
})(vueSliderComponent_umd);
const VueSlider = /* @__PURE__ */ getDefaultExportFromCjs(vueSliderComponent_umd.exports);
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __decorateClass = (decorators, target2, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target2, key) : target2;
  for (var i = decorators.length - 1, decorator; i >= 0; i--)
    if (decorator = decorators[i])
      result = (kind ? decorator(target2, key, result) : decorator(result)) || result;
  if (kind && result)
    __defProp(target2, key, result);
  return result;
};
let MySliderComponent$1 = class extends Vue {
  constructor() {
    super(...arguments);
    this.value = 50;
  }
  created() {
    console.log("MySliderComponent.vue");
  }
};
MySliderComponent$1 = __decorateClass([
  Component({
    components: {
      VueSlider
    }
  })
], MySliderComponent$1);
var render$1 = function() {
  var _vm = this;
  var _h = _vm.$createElement;
  var _c = _vm._self._c || _h;
  return _c("div", {
    staticClass: "example"
  }, [_c("h3", [_vm._v("MySliderComponent.vue")]), _c("vue-slider", {
    model: {
      value: _vm.value,
      callback: function($$v) {
        _vm.value = $$v;
      },
      expression: "value"
    }
  }), _vm._m(0)], 1);
};
var staticRenderFns$1 = [function() {
  var _vm = this;
  var _h = _vm.$createElement;
  var _c = _vm._self._c || _h;
  return _c("p", [_vm._v("See file comments in "), _c("code", [_vm._v("src/components/MySliderComponent.vue")])]);
}];
const MySliderComponent_vue_vue_type_style_index_0_lang = "";
function normalizeComponent(scriptExports, render2, staticRenderFns2, functionalTemplate, injectStyles, scopeId, moduleIdentifier, shadowMode) {
  var options = typeof scriptExports === "function" ? scriptExports.options : scriptExports;
  if (render2) {
    options.render = render2;
    options.staticRenderFns = staticRenderFns2;
    options._compiled = true;
  }
  if (functionalTemplate) {
    options.functional = true;
  }
  if (scopeId) {
    options._scopeId = "data-v-" + scopeId;
  }
  var hook;
  if (moduleIdentifier) {
    hook = function(context) {
      context = context || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext;
      if (!context && typeof __VUE_SSR_CONTEXT__ !== "undefined") {
        context = __VUE_SSR_CONTEXT__;
      }
      if (injectStyles) {
        injectStyles.call(this, context);
      }
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier);
      }
    };
    options._ssrRegister = hook;
  } else if (injectStyles) {
    hook = shadowMode ? function() {
      injectStyles.call(
        this,
        (options.functional ? this.parent : this).$root.$options.shadowRoot
      );
    } : injectStyles;
  }
  if (hook) {
    if (options.functional) {
      options._injectStyles = hook;
      var originalRender = options.render;
      options.render = function renderWithStyleInjection(h2, context) {
        hook.call(context);
        return originalRender(h2, context);
      };
    } else {
      var existing = options.beforeCreate;
      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];
    }
  }
  return {
    exports: scriptExports,
    options
  };
}
const __cssModules$1 = {};
var __component__$1 = /* @__PURE__ */ normalizeComponent(
  MySliderComponent$1,
  render$1,
  staticRenderFns$1,
  false,
  __vue2_injectStyles$1,
  null,
  null,
  null
);
function __vue2_injectStyles$1(context) {
  for (let o in __cssModules$1) {
    this[o] = __cssModules$1[o];
  }
}
const MySliderComponent = /* @__PURE__ */ function() {
  return __component__$1.exports;
}();
const __$_require_5ef81ef0__ = "/assets/logo.bd65b64a.svg";
var render = function() {
  var _vm = this;
  var _h = _vm.$createElement;
  var _c = _vm._self._c || _h;
  return _c("div", {
    attrs: {
      "id": "app"
    }
  }, [_c("img", {
    attrs: {
      "src": __$_require_5ef81ef0__,
      "alt": "Vite logo"
    }
  }), _c("MySliderComponent")], 1);
};
var staticRenderFns = [];
const App_vue_vue_type_style_index_0_lang = "";
const __vue2_script = defineComponent({
  name: "App",
  components: {
    MySliderComponent
  }
});
const __cssModules = {};
var __component__ = /* @__PURE__ */ normalizeComponent(
  __vue2_script,
  render,
  staticRenderFns,
  false,
  __vue2_injectStyles,
  null,
  null,
  null
);
function __vue2_injectStyles(context) {
  for (let o in __cssModules) {
    this[o] = __cssModules[o];
  }
}
const App = /* @__PURE__ */ function() {
  return __component__.exports;
}();
new Vue(App).$mount("#app");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZWI1MGZhZDUuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3ZpdGUvbW9kdWxlcHJlbG9hZC1wb2x5ZmlsbCIsIi4uLy4uL25vZGVfbW9kdWxlcy92dWUvZGlzdC92dWUuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1jbGFzcy1jb21wb25lbnQvZGlzdC92dWUtY2xhc3MtY29tcG9uZW50LmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy92dWUtcHJvcGVydHktZGVjb3JhdG9yL2xpYi9kZWNvcmF0b3JzL0VtaXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdnVlLXNsaWRlci1jb21wb25lbnQvZGlzdC92dWUtc2xpZGVyLWNvbXBvbmVudC51bWQuanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9NeVNsaWRlckNvbXBvbmVudC52dWUiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9NeVNsaWRlckNvbXBvbmVudC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmbGFuZy5qcyIsIi4uLy4uL3NyYy9hc3NldHMvbG9nby5zdmciLCIuLi8uLi9zcmMvQXBwLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZsYW5nLmpzIiwiLi4vLi4vc3JjL0FwcC52dWUiLCIuLi8uLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwID0gZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gICAgY29uc3QgcmVsTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKS5yZWxMaXN0O1xuICAgIGlmIChyZWxMaXN0ICYmIHJlbExpc3Quc3VwcG9ydHMgJiYgcmVsTGlzdC5zdXBwb3J0cygnbW9kdWxlcHJlbG9hZCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBsaW5rIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbcmVsPVwibW9kdWxlcHJlbG9hZFwiXScpKSB7XG4gICAgICAgIHByb2Nlc3NQcmVsb2FkKGxpbmspO1xuICAgIH1cbiAgICBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSAhPT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ0xJTksnICYmIG5vZGUucmVsID09PSAnbW9kdWxlcHJlbG9hZCcpXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NQcmVsb2FkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG4gICAgZnVuY3Rpb24gZ2V0RmV0Y2hPcHRzKHNjcmlwdCkge1xuICAgICAgICBjb25zdCBmZXRjaE9wdHMgPSB7fTtcbiAgICAgICAgaWYgKHNjcmlwdC5pbnRlZ3JpdHkpXG4gICAgICAgICAgICBmZXRjaE9wdHMuaW50ZWdyaXR5ID0gc2NyaXB0LmludGVncml0eTtcbiAgICAgICAgaWYgKHNjcmlwdC5yZWZlcnJlcnBvbGljeSlcbiAgICAgICAgICAgIGZldGNoT3B0cy5yZWZlcnJlclBvbGljeSA9IHNjcmlwdC5yZWZlcnJlcnBvbGljeTtcbiAgICAgICAgaWYgKHNjcmlwdC5jcm9zc29yaWdpbiA9PT0gJ3VzZS1jcmVkZW50aWFscycpXG4gICAgICAgICAgICBmZXRjaE9wdHMuY3JlZGVudGlhbHMgPSAnaW5jbHVkZSc7XG4gICAgICAgIGVsc2UgaWYgKHNjcmlwdC5jcm9zc29yaWdpbiA9PT0gJ2Fub255bW91cycpXG4gICAgICAgICAgICBmZXRjaE9wdHMuY3JlZGVudGlhbHMgPSAnb21pdCc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZldGNoT3B0cy5jcmVkZW50aWFscyA9ICdzYW1lLW9yaWdpbic7XG4gICAgICAgIHJldHVybiBmZXRjaE9wdHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQcmVsb2FkKGxpbmspIHtcbiAgICAgICAgaWYgKGxpbmsuZXApXG4gICAgICAgICAgICAvLyBlcCBtYXJrZXIgPSBwcm9jZXNzZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGluay5lcCA9IHRydWU7XG4gICAgICAgIC8vIHByZXBvcHVsYXRlIHRoZSBsb2FkIHJlY29yZFxuICAgICAgICBjb25zdCBmZXRjaE9wdHMgPSBnZXRGZXRjaE9wdHMobGluayk7XG4gICAgICAgIGZldGNoKGxpbmsuaHJlZiwgZmV0Y2hPcHRzKTtcbiAgICB9XG59O19fVklURV9JU19NT0RFUk5fXyYmcCgpOyIsIi8qIVxuICogVnVlLmpzIHYyLjcuOFxuICogKGMpIDIwMTQtMjAyMiBFdmFuIFlvdVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG52YXIgZW1wdHlPYmplY3QgPSBPYmplY3QuZnJlZXplKHt9KTtcclxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG4vLyBUaGVzZSBoZWxwZXJzIHByb2R1Y2UgYmV0dGVyIFZNIGNvZGUgaW4gSlMgZW5naW5lcyBkdWUgdG8gdGhlaXJcclxuLy8gZXhwbGljaXRuZXNzIGFuZCBmdW5jdGlvbiBpbmxpbmluZy5cclxuZnVuY3Rpb24gaXNVbmRlZih2KSB7XHJcbiAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IG51bGw7XHJcbn1cclxuZnVuY3Rpb24gaXNEZWYodikge1xyXG4gICAgcmV0dXJuIHYgIT09IHVuZGVmaW5lZCAmJiB2ICE9PSBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIGlzVHJ1ZSh2KSB7XHJcbiAgICByZXR1cm4gdiA9PT0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBpc0ZhbHNlKHYpIHtcclxuICAgIHJldHVybiB2ID09PSBmYWxzZTtcclxufVxyXG4vKipcclxuICogQ2hlY2sgaWYgdmFsdWUgaXMgcHJpbWl0aXZlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcclxuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxyXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcclxuICAgICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnIHx8XHJcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpO1xyXG59XHJcbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XHJcbn1cclxuLyoqXHJcbiAqIFF1aWNrIG9iamVjdCBjaGVjayAtIHRoaXMgaXMgcHJpbWFyaWx5IHVzZWQgdG8gdGVsbFxyXG4gKiBvYmplY3RzIGZyb20gcHJpbWl0aXZlIHZhbHVlcyB3aGVuIHdlIGtub3cgdGhlIHZhbHVlXHJcbiAqIGlzIGEgSlNPTi1jb21wbGlhbnQgdHlwZS5cclxuICovXHJcbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JztcclxufVxyXG4vKipcclxuICogR2V0IHRoZSByYXcgdHlwZSBzdHJpbmcgb2YgYSB2YWx1ZSwgZS5nLiwgW29iamVjdCBPYmplY3RdLlxyXG4gKi9cclxudmFyIF90b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XHJcbmZ1bmN0aW9uIHRvUmF3VHlwZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIF90b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSk7XHJcbn1cclxuLyoqXHJcbiAqIFN0cmljdCBvYmplY3QgdHlwZSBjaGVjay4gT25seSByZXR1cm5zIHRydWVcclxuICogZm9yIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0cy5cclxuICovXHJcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XHJcbiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbn1cclxuZnVuY3Rpb24gaXNSZWdFeHAodikge1xyXG4gICAgcmV0dXJuIF90b1N0cmluZy5jYWxsKHYpID09PSAnW29iamVjdCBSZWdFeHBdJztcclxufVxyXG4vKipcclxuICogQ2hlY2sgaWYgdmFsIGlzIGEgdmFsaWQgYXJyYXkgaW5kZXguXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1ZhbGlkQXJyYXlJbmRleCh2YWwpIHtcclxuICAgIHZhciBuID0gcGFyc2VGbG9hdChTdHJpbmcodmFsKSk7XHJcbiAgICByZXR1cm4gbiA+PSAwICYmIE1hdGguZmxvb3IobikgPT09IG4gJiYgaXNGaW5pdGUodmFsKTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb21pc2UodmFsKSB7XHJcbiAgICByZXR1cm4gKGlzRGVmKHZhbCkgJiZcclxuICAgICAgICB0eXBlb2YgdmFsLnRoZW4gPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICB0eXBlb2YgdmFsLmNhdGNoID09PSAnZnVuY3Rpb24nKTtcclxufVxyXG4vKipcclxuICogQ29udmVydCBhIHZhbHVlIHRvIGEgc3RyaW5nIHRoYXQgaXMgYWN0dWFsbHkgcmVuZGVyZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiB0b1N0cmluZyh2YWwpIHtcclxuICAgIHJldHVybiB2YWwgPT0gbnVsbFxyXG4gICAgICAgID8gJydcclxuICAgICAgICA6IEFycmF5LmlzQXJyYXkodmFsKSB8fCAoaXNQbGFpbk9iamVjdCh2YWwpICYmIHZhbC50b1N0cmluZyA9PT0gX3RvU3RyaW5nKVxyXG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgbnVsbCwgMilcclxuICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcclxufVxyXG4vKipcclxuICogQ29udmVydCBhbiBpbnB1dCB2YWx1ZSB0byBhIG51bWJlciBmb3IgcGVyc2lzdGVuY2UuXHJcbiAqIElmIHRoZSBjb252ZXJzaW9uIGZhaWxzLCByZXR1cm4gb3JpZ2luYWwgc3RyaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gdG9OdW1iZXIodmFsKSB7XHJcbiAgICB2YXIgbiA9IHBhcnNlRmxvYXQodmFsKTtcclxuICAgIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XHJcbn1cclxuLyoqXHJcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxyXG4gKiBpcyBpbiB0aGF0IG1hcC5cclxuICovXHJcbmZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XHJcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHZhciBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UgPyBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBtYXBbdmFsLnRvTG93ZXJDYXNlKCldOyB9IDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH07XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIGlmIGEgdGFnIGlzIGEgYnVpbHQtaW4gdGFnLlxyXG4gKi9cclxudmFyIGlzQnVpbHRJblRhZyA9IG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50JywgdHJ1ZSk7XHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUuXHJcbiAqL1xyXG52YXIgaXNSZXNlcnZlZEF0dHJpYnV0ZSA9IG1ha2VNYXAoJ2tleSxyZWYsc2xvdCxzbG90LXNjb3BlLGlzJyk7XHJcbi8qKlxyXG4gKiBSZW1vdmUgYW4gaXRlbSBmcm9tIGFuIGFycmF5LlxyXG4gKi9cclxuZnVuY3Rpb24gcmVtb3ZlJDIoYXJyLCBpdGVtKSB7XHJcbiAgICBpZiAoYXJyLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyB0aGUgcHJvcGVydHkuXHJcbiAqL1xyXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xyXG5mdW5jdGlvbiBoYXNPd24ob2JqLCBrZXkpIHtcclxuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gY2FjaGVkKGZuKSB7XHJcbiAgICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNhY2hlZEZuKHN0cikge1xyXG4gICAgICAgIHZhciBoaXQgPSBjYWNoZVtzdHJdO1xyXG4gICAgICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENhbWVsaXplIGEgaHlwaGVuLWRlbGltaXRlZCBzdHJpbmcuXHJcbiAqL1xyXG52YXIgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcclxudmFyIGNhbWVsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCBmdW5jdGlvbiAoXywgYykgeyByZXR1cm4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJyk7IH0pO1xyXG59KTtcclxuLyoqXHJcbiAqIENhcGl0YWxpemUgYSBzdHJpbmcuXHJcbiAqL1xyXG52YXIgY2FwaXRhbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xyXG59KTtcclxuLyoqXHJcbiAqIEh5cGhlbmF0ZSBhIGNhbWVsQ2FzZSBzdHJpbmcuXHJcbiAqL1xyXG52YXIgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xyXG52YXIgaHlwaGVuYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgJy0kMScpLnRvTG93ZXJDYXNlKCk7XHJcbn0pO1xyXG4vKipcclxuICogU2ltcGxlIGJpbmQgcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBzdXBwb3J0IGl0LFxyXG4gKiBlLmcuLCBQaGFudG9tSlMgMS54LiBUZWNobmljYWxseSwgd2UgZG9uJ3QgbmVlZCB0aGlzIGFueW1vcmVcclxuICogc2luY2UgbmF0aXZlIGJpbmQgaXMgbm93IHBlcmZvcm1hbnQgZW5vdWdoIGluIG1vc3QgYnJvd3NlcnMuXHJcbiAqIEJ1dCByZW1vdmluZyBpdCB3b3VsZCBtZWFuIGJyZWFraW5nIGNvZGUgdGhhdCB3YXMgYWJsZSB0byBydW4gaW5cclxuICogUGhhbnRvbUpTIDEueCwgc28gdGhpcyBtdXN0IGJlIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXHJcbiAqL1xyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBwb2x5ZmlsbEJpbmQoZm4sIGN0eCkge1xyXG4gICAgZnVuY3Rpb24gYm91bmRGbihhKSB7XHJcbiAgICAgICAgdmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBsXHJcbiAgICAgICAgICAgID8gbCA+IDFcclxuICAgICAgICAgICAgICAgID8gZm4uYXBwbHkoY3R4LCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgICAgICA6IGZuLmNhbGwoY3R4LCBhKVxyXG4gICAgICAgICAgICA6IGZuLmNhbGwoY3R4KTtcclxuICAgIH1cclxuICAgIGJvdW5kRm4uX2xlbmd0aCA9IGZuLmxlbmd0aDtcclxuICAgIHJldHVybiBib3VuZEZuO1xyXG59XHJcbmZ1bmN0aW9uIG5hdGl2ZUJpbmQoZm4sIGN0eCkge1xyXG4gICAgcmV0dXJuIGZuLmJpbmQoY3R4KTtcclxufVxyXG4vLyBAdHMtZXhwZWN0LWVycm9yIGJpbmQgY2Fubm90IGJlIGB1bmRlZmluZWRgXHJcbnZhciBiaW5kJDEgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCA/IG5hdGl2ZUJpbmQgOiBwb2x5ZmlsbEJpbmQ7XHJcbi8qKlxyXG4gKiBDb252ZXJ0IGFuIEFycmF5LWxpa2Ugb2JqZWN0IHRvIGEgcmVhbCBBcnJheS5cclxuICovXHJcbmZ1bmN0aW9uIHRvQXJyYXkobGlzdCwgc3RhcnQpIHtcclxuICAgIHN0YXJ0ID0gc3RhcnQgfHwgMDtcclxuICAgIHZhciBpID0gbGlzdC5sZW5ndGggLSBzdGFydDtcclxuICAgIHZhciByZXQgPSBuZXcgQXJyYXkoaSk7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgcmV0W2ldID0gbGlzdFtpICsgc3RhcnRdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG4vKipcclxuICogTWl4IHByb3BlcnRpZXMgaW50byB0YXJnZXQgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gZXh0ZW5kKHRvLCBfZnJvbSkge1xyXG4gICAgZm9yICh2YXIga2V5IGluIF9mcm9tKSB7XHJcbiAgICAgICAgdG9ba2V5XSA9IF9mcm9tW2tleV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuLyoqXHJcbiAqIE1lcmdlIGFuIEFycmF5IG9mIE9iamVjdHMgaW50byBhIHNpbmdsZSBPYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiB0b09iamVjdChhcnIpIHtcclxuICAgIHZhciByZXMgPSB7fTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFycltpXSkge1xyXG4gICAgICAgICAgICBleHRlbmQocmVzLCBhcnJbaV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cclxuLyoqXHJcbiAqIFBlcmZvcm0gbm8gb3BlcmF0aW9uLlxyXG4gKiBTdHViYmluZyBhcmdzIHRvIG1ha2UgRmxvdyBoYXBweSB3aXRob3V0IGxlYXZpbmcgdXNlbGVzcyB0cmFuc3BpbGVkIGNvZGVcclxuICogd2l0aCAuLi5yZXN0IChodHRwczovL2Zsb3cub3JnL2Jsb2cvMjAxNy8wNS8wNy9TdHJpY3QtRnVuY3Rpb24tQ2FsbC1Bcml0eS8pLlxyXG4gKi9cclxuZnVuY3Rpb24gbm9vcChhLCBiLCBjKSB7IH1cclxuLyoqXHJcbiAqIEFsd2F5cyByZXR1cm4gZmFsc2UuXHJcbiAqL1xyXG52YXIgbm8gPSBmdW5jdGlvbiAoYSwgYiwgYykgeyByZXR1cm4gZmFsc2U7IH07XHJcbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgc2FtZSB2YWx1ZS5cclxuICovXHJcbnZhciBpZGVudGl0eSA9IGZ1bmN0aW9uIChfKSB7IHJldHVybiBfOyB9O1xyXG4vKipcclxuICogR2VuZXJhdGUgYSBzdHJpbmcgY29udGFpbmluZyBzdGF0aWMga2V5cyBmcm9tIGNvbXBpbGVyIG1vZHVsZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5TdGF0aWNLZXlzJDEobW9kdWxlcykge1xyXG4gICAgcmV0dXJuIG1vZHVsZXNcclxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChrZXlzLCBtKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleXMuY29uY2F0KG0uc3RhdGljS2V5cyB8fCBbXSk7XHJcbiAgICB9LCBbXSlcclxuICAgICAgICAuam9pbignLCcpO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSBsb29zZWx5IGVxdWFsIC0gdGhhdCBpcyxcclxuICogaWYgdGhleSBhcmUgcGxhaW4gb2JqZWN0cywgZG8gdGhleSBoYXZlIHRoZSBzYW1lIHNoYXBlP1xyXG4gKi9cclxuZnVuY3Rpb24gbG9vc2VFcXVhbChhLCBiKSB7XHJcbiAgICBpZiAoYSA9PT0gYilcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIHZhciBpc09iamVjdEEgPSBpc09iamVjdChhKTtcclxuICAgIHZhciBpc09iamVjdEIgPSBpc09iamVjdChiKTtcclxuICAgIGlmIChpc09iamVjdEEgJiYgaXNPYmplY3RCKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGlzQXJyYXlBID0gQXJyYXkuaXNBcnJheShhKTtcclxuICAgICAgICAgICAgdmFyIGlzQXJyYXlCID0gQXJyYXkuaXNBcnJheShiKTtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXlBICYmIGlzQXJyYXlCKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGEuZXZlcnkoZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvb3NlRXF1YWwoZSwgYltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBEYXRlICYmIGIgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc0FycmF5QSAmJiAhaXNBcnJheUIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKGEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMoYik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGtleXNBLmxlbmd0aCA9PT0ga2V5c0IubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICAgICAga2V5c0EuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIWlzT2JqZWN0QSAmJiAhaXNPYmplY3RCKSB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIGZpcnN0IGluZGV4IGF0IHdoaWNoIGEgbG9vc2VseSBlcXVhbCB2YWx1ZSBjYW4gYmVcclxuICogZm91bmQgaW4gdGhlIGFycmF5IChpZiB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdCwgdGhlIGFycmF5IG11c3RcclxuICogY29udGFpbiBhbiBvYmplY3Qgb2YgdGhlIHNhbWUgc2hhcGUpLCBvciAtMSBpZiBpdCBpcyBub3QgcHJlc2VudC5cclxuICovXHJcbmZ1bmN0aW9uIGxvb3NlSW5kZXhPZihhcnIsIHZhbCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAobG9vc2VFcXVhbChhcnJbaV0sIHZhbCkpXHJcbiAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbi8qKlxyXG4gKiBFbnN1cmUgYSBmdW5jdGlvbiBpcyBjYWxsZWQgb25seSBvbmNlLlxyXG4gKi9cclxuZnVuY3Rpb24gb25jZShmbikge1xyXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWNhbGxlZCkge1xyXG4gICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzI3BvbHlmaWxsXHJcbmZ1bmN0aW9uIGhhc0NoYW5nZWQoeCwgeSkge1xyXG4gICAgaWYgKHggPT09IHkpIHtcclxuICAgICAgICByZXR1cm4geCA9PT0gMCAmJiAxIC8geCAhPT0gMSAvIHk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4geCA9PT0geCB8fCB5ID09PSB5O1xyXG4gICAgfVxyXG59XG5cbnZhciBTU1JfQVRUUiA9ICdkYXRhLXNlcnZlci1yZW5kZXJlZCc7XHJcbnZhciBBU1NFVF9UWVBFUyA9IFsnY29tcG9uZW50JywgJ2RpcmVjdGl2ZScsICdmaWx0ZXInXTtcclxudmFyIExJRkVDWUNMRV9IT09LUyA9IFtcclxuICAgICdiZWZvcmVDcmVhdGUnLFxyXG4gICAgJ2NyZWF0ZWQnLFxyXG4gICAgJ2JlZm9yZU1vdW50JyxcclxuICAgICdtb3VudGVkJyxcclxuICAgICdiZWZvcmVVcGRhdGUnLFxyXG4gICAgJ3VwZGF0ZWQnLFxyXG4gICAgJ2JlZm9yZURlc3Ryb3knLFxyXG4gICAgJ2Rlc3Ryb3llZCcsXHJcbiAgICAnYWN0aXZhdGVkJyxcclxuICAgICdkZWFjdGl2YXRlZCcsXHJcbiAgICAnZXJyb3JDYXB0dXJlZCcsXHJcbiAgICAnc2VydmVyUHJlZmV0Y2gnLFxyXG4gICAgJ3JlbmRlclRyYWNrZWQnLFxyXG4gICAgJ3JlbmRlclRyaWdnZXJlZCdcclxuXTtcblxudmFyIGNvbmZpZyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogT3B0aW9uIG1lcmdlIHN0cmF0ZWdpZXMgKHVzZWQgaW4gY29yZS91dGlsL29wdGlvbnMpXHJcbiAgICAgKi9cclxuICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxyXG4gICAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRvIHN1cHByZXNzIHdhcm5pbmdzLlxyXG4gICAgICovXHJcbiAgICBzaWxlbnQ6IGZhbHNlLFxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IHByb2R1Y3Rpb24gbW9kZSB0aXAgbWVzc2FnZSBvbiBib290P1xyXG4gICAgICovXHJcbiAgICBwcm9kdWN0aW9uVGlwOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRvIGVuYWJsZSBkZXZ0b29sc1xyXG4gICAgICovXHJcbiAgICBkZXZ0b29sczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyxcclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0byByZWNvcmQgcGVyZlxyXG4gICAgICovXHJcbiAgICBwZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIEVycm9yIGhhbmRsZXIgZm9yIHdhdGNoZXIgZXJyb3JzXHJcbiAgICAgKi9cclxuICAgIGVycm9ySGFuZGxlcjogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogV2FybiBoYW5kbGVyIGZvciB3YXRjaGVyIHdhcm5zXHJcbiAgICAgKi9cclxuICAgIHdhcm5IYW5kbGVyOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBJZ25vcmUgY2VydGFpbiBjdXN0b20gZWxlbWVudHNcclxuICAgICAqL1xyXG4gICAgaWdub3JlZEVsZW1lbnRzOiBbXSxcclxuICAgIC8qKlxyXG4gICAgICogQ3VzdG9tIHVzZXIga2V5IGFsaWFzZXMgZm9yIHYtb25cclxuICAgICAqL1xyXG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICBrZXlDb2RlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB0YWcgaXMgcmVzZXJ2ZWQgc28gdGhhdCBpdCBjYW5ub3QgYmUgcmVnaXN0ZXJlZCBhcyBhXHJcbiAgICAgKiBjb21wb25lbnQuIFRoaXMgaXMgcGxhdGZvcm0tZGVwZW5kZW50IGFuZCBtYXkgYmUgb3ZlcndyaXR0ZW4uXHJcbiAgICAgKi9cclxuICAgIGlzUmVzZXJ2ZWRUYWc6IG5vLFxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgaXMgcmVzZXJ2ZWQgc28gdGhhdCBpdCBjYW5ub3QgYmUgdXNlZCBhcyBhIGNvbXBvbmVudFxyXG4gICAgICogcHJvcC4gVGhpcyBpcyBwbGF0Zm9ybS1kZXBlbmRlbnQgYW5kIG1heSBiZSBvdmVyd3JpdHRlbi5cclxuICAgICAqL1xyXG4gICAgaXNSZXNlcnZlZEF0dHI6IG5vLFxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHRhZyBpcyBhbiB1bmtub3duIGVsZW1lbnQuXHJcbiAgICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuXHJcbiAgICAgKi9cclxuICAgIGlzVW5rbm93bkVsZW1lbnQ6IG5vLFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG5hbWVzcGFjZSBvZiBhbiBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGdldFRhZ05hbWVzcGFjZTogbm9vcCxcclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgdGhlIHJlYWwgdGFnIG5hbWUgZm9yIHRoZSBzcGVjaWZpYyBwbGF0Zm9ybS5cclxuICAgICAqL1xyXG4gICAgcGFyc2VQbGF0Zm9ybVRhZ05hbWU6IGlkZW50aXR5LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgbXVzdCBiZSBib3VuZCB1c2luZyBwcm9wZXJ0eSwgZS5nLiB2YWx1ZVxyXG4gICAgICogUGxhdGZvcm0tZGVwZW5kZW50LlxyXG4gICAgICovXHJcbiAgICBtdXN0VXNlUHJvcDogbm8sXHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gdXBkYXRlcyBhc3luY2hyb25vdXNseS4gSW50ZW5kZWQgdG8gYmUgdXNlZCBieSBWdWUgVGVzdCBVdGlsc1xyXG4gICAgICogVGhpcyB3aWxsIHNpZ25pZmljYW50bHkgcmVkdWNlIHBlcmZvcm1hbmNlIGlmIHNldCB0byBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgYXN5bmM6IHRydWUsXHJcbiAgICAvKipcclxuICAgICAqIEV4cG9zZWQgZm9yIGxlZ2FjeSByZWFzb25zXHJcbiAgICAgKi9cclxuICAgIF9saWZlY3ljbGVIb29rczogTElGRUNZQ0xFX0hPT0tTXHJcbn07XG5cbi8qKlxyXG4gKiB1bmljb2RlIGxldHRlcnMgdXNlZCBmb3IgcGFyc2luZyBodG1sIHRhZ3MsIGNvbXBvbmVudCBuYW1lcyBhbmQgcHJvcGVydHkgcGF0aHMuXHJcbiAqIHVzaW5nIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTMvc2VtYW50aWNzLXNjcmlwdGluZy5odG1sI3BvdGVudGlhbGN1c3RvbWVsZW1lbnRuYW1lXHJcbiAqIHNraXBwaW5nIFxcdTEwMDAwLVxcdUVGRkZGIGR1ZSB0byBpdCBmcmVlemluZyB1cCBQaGFudG9tSlNcclxuICovXHJcbnZhciB1bmljb2RlUmVnRXhwID0gL2EtekEtWlxcdTAwQjdcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDNGLVxcdTIwNDBcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkQvO1xyXG4vKipcclxuICogQ2hlY2sgaWYgYSBzdHJpbmcgc3RhcnRzIHdpdGggJCBvciBfXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1Jlc2VydmVkKHN0cikge1xyXG4gICAgdmFyIGMgPSAoc3RyICsgJycpLmNoYXJDb2RlQXQoMCk7XHJcbiAgICByZXR1cm4gYyA9PT0gMHgyNCB8fCBjID09PSAweDVmO1xyXG59XHJcbi8qKlxyXG4gKiBEZWZpbmUgYSBwcm9wZXJ0eS5cclxuICovXHJcbmZ1bmN0aW9uIGRlZihvYmosIGtleSwgdmFsLCBlbnVtZXJhYmxlKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcclxuICAgICAgICB2YWx1ZTogdmFsLFxyXG4gICAgICAgIGVudW1lcmFibGU6ICEhZW51bWVyYWJsZSxcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBQYXJzZSBzaW1wbGUgcGF0aC5cclxuICovXHJcbnZhciBiYWlsUkUgPSBuZXcgUmVnRXhwKFwiW15cIi5jb25jYXQodW5pY29kZVJlZ0V4cC5zb3VyY2UsIFwiLiRfXFxcXGRdXCIpKTtcclxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcclxuICAgIGlmIChiYWlsUkUudGVzdChwYXRoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy4nKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIW9iailcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgb2JqID0gb2JqW3NlZ21lbnRzW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH07XHJcbn1cblxuLy8gY2FuIHdlIHVzZSBfX3Byb3RvX18/XHJcbnZhciBoYXNQcm90byA9ICdfX3Byb3RvX18nIGluIHt9O1xyXG4vLyBCcm93c2VyIGVudmlyb25tZW50IHNuaWZmaW5nXHJcbnZhciBpbkJyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcclxudmFyIFVBID0gaW5Ccm93c2VyICYmIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcbnZhciBpc0lFID0gVUEgJiYgL21zaWV8dHJpZGVudC8udGVzdChVQSk7XHJcbnZhciBpc0lFOSA9IFVBICYmIFVBLmluZGV4T2YoJ21zaWUgOS4wJykgPiAwO1xyXG52YXIgaXNFZGdlID0gVUEgJiYgVUEuaW5kZXhPZignZWRnZS8nKSA+IDA7XHJcblVBICYmIFVBLmluZGV4T2YoJ2FuZHJvaWQnKSA+IDA7XHJcbnZhciBpc0lPUyA9IFVBICYmIC9pcGhvbmV8aXBhZHxpcG9kfGlvcy8udGVzdChVQSk7XHJcblVBICYmIC9jaHJvbWVcXC9cXGQrLy50ZXN0KFVBKSAmJiAhaXNFZGdlO1xyXG5VQSAmJiAvcGhhbnRvbWpzLy50ZXN0KFVBKTtcclxudmFyIGlzRkYgPSBVQSAmJiBVQS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pO1xyXG4vLyBGaXJlZm94IGhhcyBhIFwid2F0Y2hcIiBmdW5jdGlvbiBvbiBPYmplY3QucHJvdG90eXBlLi4uXHJcbi8vIEB0cy1leHBlY3QtZXJyb3IgZmlyZWJveCBzdXBwb3J0XHJcbnZhciBuYXRpdmVXYXRjaCA9IHt9LndhdGNoO1xyXG52YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XHJcbmlmIChpbkJyb3dzZXIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIG9wdHMgPSB7fTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3B0cywgJ3Bhc3NpdmUnLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICAgICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzI4NVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0LXBhc3NpdmUnLCBudWxsLCBvcHRzKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxufVxyXG4vLyB0aGlzIG5lZWRzIHRvIGJlIGxhenktZXZhbGVkIGJlY2F1c2UgdnVlIG1heSBiZSByZXF1aXJlZCBiZWZvcmVcclxuLy8gdnVlLXNlcnZlci1yZW5kZXJlciBjYW4gc2V0IFZVRV9FTlZcclxudmFyIF9pc1NlcnZlcjtcclxudmFyIGlzU2VydmVyUmVuZGVyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKF9pc1NlcnZlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFpbkJyb3dzZXIgJiYgdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gZGV0ZWN0IHByZXNlbmNlIG9mIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgYW5kIGF2b2lkXHJcbiAgICAgICAgICAgIC8vIFdlYnBhY2sgc2hpbW1pbmcgdGhlIHByb2Nlc3NcclxuICAgICAgICAgICAgX2lzU2VydmVyID1cclxuICAgICAgICAgICAgICAgIGdsb2JhbFsncHJvY2VzcyddICYmIGdsb2JhbFsncHJvY2VzcyddLmVudi5WVUVfRU5WID09PSAnc2VydmVyJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9pc1NlcnZlciA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBfaXNTZXJ2ZXI7XHJcbn07XHJcbi8vIGRldGVjdCBkZXZ0b29sc1xyXG52YXIgZGV2dG9vbHMgPSBpbkJyb3dzZXIgJiYgd2luZG93Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGlzTmF0aXZlKEN0b3IpIHtcclxuICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoQ3Rvci50b1N0cmluZygpKTtcclxufVxyXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgIGlzTmF0aXZlKFN5bWJvbCkgJiZcclxuICAgIHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgaXNOYXRpdmUoUmVmbGVjdC5vd25LZXlzKTtcclxudmFyIF9TZXQ7IC8vICRmbG93LWRpc2FibGUtbGluZVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8gaWYgKHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFNldCkpIHtcclxuICAgIC8vIHVzZSBuYXRpdmUgU2V0IHdoZW4gYXZhaWxhYmxlLlxyXG4gICAgX1NldCA9IFNldDtcclxufVxyXG5lbHNlIHtcclxuICAgIC8vIGEgbm9uLXN0YW5kYXJkIFNldCBwb2x5ZmlsbCB0aGF0IG9ubHkgd29ya3Mgd2l0aCBwcmltaXRpdmUga2V5cy5cclxuICAgIF9TZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gU2V0KCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRba2V5XSA9PT0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFtrZXldID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBTZXQ7XHJcbiAgICB9KCkpO1xyXG59XG5cbnZhciBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG4vKipcclxuICogVGhpcyBpcyBleHBvc2VkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdjMgKGUuZy4gc29tZSBmdW5jdGlvbnMgaW4gVnVlVXNlXHJcbiAqIHJlbGllcyBvbiBpdCkuIERvIG5vdCB1c2UgdGhpcyBpbnRlcm5hbGx5LCBqdXN0IHVzZSBgY3VycmVudEluc3RhbmNlYC5cclxuICpcclxuICogQGludGVybmFsIHRoaXMgZnVuY3Rpb24gbmVlZHMgbWFudWFsIHR5cGUgZGVjbGFyYXRpb24gYmVjYXVzZSBpdCByZWxpZXNcclxuICogb24gcHJldmlvdXNseSBtYW51YWxseSBhdXRob3JlZCB0eXBlcyBmcm9tIFZ1ZSAyXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDdXJyZW50SW5zdGFuY2UoKSB7XHJcbiAgICByZXR1cm4gY3VycmVudEluc3RhbmNlICYmIHsgcHJveHk6IGN1cnJlbnRJbnN0YW5jZSB9O1xyXG59XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIHNldEN1cnJlbnRJbnN0YW5jZSh2bSkge1xyXG4gICAgaWYgKHZtID09PSB2b2lkIDApIHsgdm0gPSBudWxsOyB9XHJcbiAgICBpZiAoIXZtKVxyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSAmJiBjdXJyZW50SW5zdGFuY2UuX3Njb3BlLm9mZigpO1xyXG4gICAgY3VycmVudEluc3RhbmNlID0gdm07XHJcbiAgICB2bSAmJiB2bS5fc2NvcGUub24oKTtcclxufVxuXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgVk5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBWTm9kZSh0YWcsIGRhdGEsIGNoaWxkcmVuLCB0ZXh0LCBlbG0sIGNvbnRleHQsIGNvbXBvbmVudE9wdGlvbnMsIGFzeW5jRmFjdG9yeSkge1xyXG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5lbG0gPSBlbG07XHJcbiAgICAgICAgdGhpcy5ucyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuZm5Db250ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZm5PcHRpb25zID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZm5TY29wZUlkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMua2V5ID0gZGF0YSAmJiBkYXRhLmtleTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SW5zdGFuY2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5yYXcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzU3RhdGljID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1Jvb3RJbnNlcnQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc0Nsb25lZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNPbmNlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hc3luY0ZhY3RvcnkgPSBhc3luY0ZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy5hc3luY01ldGEgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5pc0FzeW5jUGxhY2Vob2xkZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWTm9kZS5wcm90b3R5cGUsIFwiY2hpbGRcIiwge1xyXG4gICAgICAgIC8vIERFUFJFQ0FURUQ6IGFsaWFzIGZvciBjb21wb25lbnRJbnN0YW5jZSBmb3IgYmFja3dhcmRzIGNvbXBhdC5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRJbnN0YW5jZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gVk5vZGU7XHJcbn0oKSk7XHJcbnZhciBjcmVhdGVFbXB0eVZOb2RlID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgIGlmICh0ZXh0ID09PSB2b2lkIDApIHsgdGV4dCA9ICcnOyB9XHJcbiAgICB2YXIgbm9kZSA9IG5ldyBWTm9kZSgpO1xyXG4gICAgbm9kZS50ZXh0ID0gdGV4dDtcclxuICAgIG5vZGUuaXNDb21tZW50ID0gdHJ1ZTtcclxuICAgIHJldHVybiBub2RlO1xyXG59O1xyXG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUodmFsKSB7XHJcbiAgICByZXR1cm4gbmV3IFZOb2RlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFN0cmluZyh2YWwpKTtcclxufVxyXG4vLyBvcHRpbWl6ZWQgc2hhbGxvdyBjbG9uZVxyXG4vLyB1c2VkIGZvciBzdGF0aWMgbm9kZXMgYW5kIHNsb3Qgbm9kZXMgYmVjYXVzZSB0aGV5IG1heSBiZSByZXVzZWQgYWNyb3NzXHJcbi8vIG11bHRpcGxlIHJlbmRlcnMsIGNsb25pbmcgdGhlbSBhdm9pZHMgZXJyb3JzIHdoZW4gRE9NIG1hbmlwdWxhdGlvbnMgcmVseVxyXG4vLyBvbiB0aGVpciBlbG0gcmVmZXJlbmNlLlxyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlKSB7XHJcbiAgICB2YXIgY2xvbmVkID0gbmV3IFZOb2RlKHZub2RlLnRhZywgdm5vZGUuZGF0YSwgXHJcbiAgICAvLyAjNzk3NVxyXG4gICAgLy8gY2xvbmUgY2hpbGRyZW4gYXJyYXkgdG8gYXZvaWQgbXV0YXRpbmcgb3JpZ2luYWwgaW4gY2FzZSBvZiBjbG9uaW5nXHJcbiAgICAvLyBhIGNoaWxkLlxyXG4gICAgdm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4uc2xpY2UoKSwgdm5vZGUudGV4dCwgdm5vZGUuZWxtLCB2bm9kZS5jb250ZXh0LCB2bm9kZS5jb21wb25lbnRPcHRpb25zLCB2bm9kZS5hc3luY0ZhY3RvcnkpO1xyXG4gICAgY2xvbmVkLm5zID0gdm5vZGUubnM7XHJcbiAgICBjbG9uZWQuaXNTdGF0aWMgPSB2bm9kZS5pc1N0YXRpYztcclxuICAgIGNsb25lZC5rZXkgPSB2bm9kZS5rZXk7XHJcbiAgICBjbG9uZWQuaXNDb21tZW50ID0gdm5vZGUuaXNDb21tZW50O1xyXG4gICAgY2xvbmVkLmZuQ29udGV4dCA9IHZub2RlLmZuQ29udGV4dDtcclxuICAgIGNsb25lZC5mbk9wdGlvbnMgPSB2bm9kZS5mbk9wdGlvbnM7XHJcbiAgICBjbG9uZWQuZm5TY29wZUlkID0gdm5vZGUuZm5TY29wZUlkO1xyXG4gICAgY2xvbmVkLmFzeW5jTWV0YSA9IHZub2RlLmFzeW5jTWV0YTtcclxuICAgIGNsb25lZC5pc0Nsb25lZCA9IHRydWU7XHJcbiAgICByZXR1cm4gY2xvbmVkO1xyXG59XG5cbi8qIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aCBQcm94eSAqL1xyXG52YXIgaW5pdFByb3h5O1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgdmFyIGFsbG93ZWRHbG9iYWxzXzEgPSBtYWtlTWFwKCdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLCcgK1xyXG4gICAgICAgICdwYXJzZUZsb2F0LHBhcnNlSW50LGRlY29kZVVSSSxkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCwnICtcclxuICAgICAgICAnTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCwnICtcclxuICAgICAgICAncmVxdWlyZScgLy8gZm9yIFdlYnBhY2svQnJvd3NlcmlmeVxyXG4gICAgKTtcclxuICAgIHZhciB3YXJuTm9uUHJlc2VudF8xID0gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgd2FybiQyKFwiUHJvcGVydHkgb3IgbWV0aG9kIFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgaXMgbm90IGRlZmluZWQgb24gdGhlIGluc3RhbmNlIGJ1dCBcIikgK1xyXG4gICAgICAgICAgICAncmVmZXJlbmNlZCBkdXJpbmcgcmVuZGVyLiBNYWtlIHN1cmUgdGhhdCB0aGlzIHByb3BlcnR5IGlzIHJlYWN0aXZlLCAnICtcclxuICAgICAgICAgICAgJ2VpdGhlciBpbiB0aGUgZGF0YSBvcHRpb24sIG9yIGZvciBjbGFzcy1iYXNlZCBjb21wb25lbnRzLCBieSAnICtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemluZyB0aGUgcHJvcGVydHkuICcgK1xyXG4gICAgICAgICAgICAnU2VlOiBodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9yZWFjdGl2aXR5Lmh0bWwjRGVjbGFyaW5nLVJlYWN0aXZlLVByb3BlcnRpZXMuJywgdGFyZ2V0KTtcclxuICAgIH07XHJcbiAgICB2YXIgd2FyblJlc2VydmVkUHJlZml4XzEgPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICB3YXJuJDIoXCJQcm9wZXJ0eSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIG11c3QgYmUgYWNjZXNzZWQgd2l0aCBcXFwiJGRhdGEuXCIpLmNvbmNhdChrZXksIFwiXFxcIiBiZWNhdXNlIFwiKSArXHJcbiAgICAgICAgICAgICdwcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggXCIkXCIgb3IgXCJfXCIgYXJlIG5vdCBwcm94aWVkIGluIHRoZSBWdWUgaW5zdGFuY2UgdG8gJyArXHJcbiAgICAgICAgICAgICdwcmV2ZW50IGNvbmZsaWN0cyB3aXRoIFZ1ZSBpbnRlcm5hbHMuICcgK1xyXG4gICAgICAgICAgICAnU2VlOiBodHRwczovL3Z1ZWpzLm9yZy92Mi9hcGkvI2RhdGEnLCB0YXJnZXQpO1xyXG4gICAgfTtcclxuICAgIHZhciBoYXNQcm94eV8xID0gdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShQcm94eSk7XHJcbiAgICBpZiAoaGFzUHJveHlfMSkge1xyXG4gICAgICAgIHZhciBpc0J1aWx0SW5Nb2RpZmllcl8xID0gbWFrZU1hcCgnc3RvcCxwcmV2ZW50LHNlbGYsY3RybCxzaGlmdCxhbHQsbWV0YSxleGFjdCcpO1xyXG4gICAgICAgIGNvbmZpZy5rZXlDb2RlcyA9IG5ldyBQcm94eShjb25maWcua2V5Q29kZXMsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCdWlsdEluTW9kaWZpZXJfMShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybiQyKFwiQXZvaWQgb3ZlcndyaXRpbmcgYnVpbHQtaW4gbW9kaWZpZXIgaW4gY29uZmlnLmtleUNvZGVzOiAuXCIuY29uY2F0KGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHZhciBoYXNIYW5kbGVyXzEgPSB7XHJcbiAgICAgICAgaGFzOiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7XHJcbiAgICAgICAgICAgIHZhciBpc0FsbG93ZWQgPSBhbGxvd2VkR2xvYmFsc18xKGtleSkgfHxcclxuICAgICAgICAgICAgICAgICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGtleS5jaGFyQXQoMCkgPT09ICdfJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICEoa2V5IGluIHRhcmdldC4kZGF0YSkpO1xyXG4gICAgICAgICAgICBpZiAoIWhhcyAmJiAhaXNBbGxvd2VkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRhcmdldC4kZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICB3YXJuUmVzZXJ2ZWRQcmVmaXhfMSh0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgd2Fybk5vblByZXNlbnRfMSh0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGhhcyB8fCAhaXNBbGxvd2VkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgZ2V0SGFuZGxlcl8xID0ge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiAhKGtleSBpbiB0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRhcmdldC4kZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICB3YXJuUmVzZXJ2ZWRQcmVmaXhfMSh0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgd2Fybk5vblByZXNlbnRfMSh0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpbml0UHJveHkgPSBmdW5jdGlvbiBpbml0UHJveHkodm0pIHtcclxuICAgICAgICBpZiAoaGFzUHJveHlfMSkge1xyXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJveHkgaGFuZGxlciB0byB1c2VcclxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXJzID0gb3B0aW9ucy5yZW5kZXIgJiYgb3B0aW9ucy5yZW5kZXIuX3dpdGhTdHJpcHBlZCA/IGdldEhhbmRsZXJfMSA6IGhhc0hhbmRsZXJfMTtcclxuICAgICAgICAgICAgdm0uX3JlbmRlclByb3h5ID0gbmV3IFByb3h5KHZtLCBoYW5kbGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIHVpZCQyID0gMDtcclxuLyoqXHJcbiAqIEEgZGVwIGlzIGFuIG9ic2VydmFibGUgdGhhdCBjYW4gaGF2ZSBtdWx0aXBsZVxyXG4gKiBkaXJlY3RpdmVzIHN1YnNjcmliaW5nIHRvIGl0LlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbnZhciBEZXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEZXAoKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IHVpZCQyKys7XHJcbiAgICAgICAgdGhpcy5zdWJzID0gW107XHJcbiAgICB9XHJcbiAgICBEZXAucHJvdG90eXBlLmFkZFN1YiA9IGZ1bmN0aW9uIChzdWIpIHtcclxuICAgICAgICB0aGlzLnN1YnMucHVzaChzdWIpO1xyXG4gICAgfTtcclxuICAgIERlcC5wcm90b3R5cGUucmVtb3ZlU3ViID0gZnVuY3Rpb24gKHN1Yikge1xyXG4gICAgICAgIHJlbW92ZSQyKHRoaXMuc3Vicywgc3ViKTtcclxuICAgIH07XHJcbiAgICBEZXAucHJvdG90eXBlLmRlcGVuZCA9IGZ1bmN0aW9uIChpbmZvKSB7XHJcbiAgICAgICAgaWYgKERlcC50YXJnZXQpIHtcclxuICAgICAgICAgICAgRGVwLnRhcmdldC5hZGREZXAodGhpcyk7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGluZm8gJiYgRGVwLnRhcmdldC5vblRyYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBEZXAudGFyZ2V0Lm9uVHJhY2soX19hc3NpZ24oeyBlZmZlY3Q6IERlcC50YXJnZXQgfSwgaW5mbykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERlcC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGluZm8pIHtcclxuICAgICAgICAvLyBzdGFiaWxpemUgdGhlIHN1YnNjcmliZXIgbGlzdCBmaXJzdFxyXG4gICAgICAgIHZhciBzdWJzID0gdGhpcy5zdWJzLnNsaWNlKCk7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWNvbmZpZy5hc3luYykge1xyXG4gICAgICAgICAgICAvLyBzdWJzIGFyZW4ndCBzb3J0ZWQgaW4gc2NoZWR1bGVyIGlmIG5vdCBydW5uaW5nIGFzeW5jXHJcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gc29ydCB0aGVtIG5vdyB0byBtYWtlIHN1cmUgdGhleSBmaXJlIGluIGNvcnJlY3RcclxuICAgICAgICAgICAgLy8gb3JkZXJcclxuICAgICAgICAgICAgc3Vicy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmlkIC0gYi5pZDsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gc3Vicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaW5mbykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IHN1YnNbaV07XHJcbiAgICAgICAgICAgICAgICBzdWIub25UcmlnZ2VyICYmXHJcbiAgICAgICAgICAgICAgICAgICAgc3ViLm9uVHJpZ2dlcihfX2Fzc2lnbih7IGVmZmVjdDogc3Vic1tpXSB9LCBpbmZvKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3Vic1tpXS51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERlcDtcclxufSgpKTtcclxuLy8gVGhlIGN1cnJlbnQgdGFyZ2V0IHdhdGNoZXIgYmVpbmcgZXZhbHVhdGVkLlxyXG4vLyBUaGlzIGlzIGdsb2JhbGx5IHVuaXF1ZSBiZWNhdXNlIG9ubHkgb25lIHdhdGNoZXJcclxuLy8gY2FuIGJlIGV2YWx1YXRlZCBhdCBhIHRpbWUuXHJcbkRlcC50YXJnZXQgPSBudWxsO1xyXG52YXIgdGFyZ2V0U3RhY2sgPSBbXTtcclxuZnVuY3Rpb24gcHVzaFRhcmdldCh0YXJnZXQpIHtcclxuICAgIHRhcmdldFN0YWNrLnB1c2godGFyZ2V0KTtcclxuICAgIERlcC50YXJnZXQgPSB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gcG9wVGFyZ2V0KCkge1xyXG4gICAgdGFyZ2V0U3RhY2sucG9wKCk7XHJcbiAgICBEZXAudGFyZ2V0ID0gdGFyZ2V0U3RhY2tbdGFyZ2V0U3RhY2subGVuZ3RoIC0gMV07XHJcbn1cblxuLypcclxuICogbm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoXHJcbiAqIGR5bmFtaWNhbGx5IGFjY2Vzc2luZyBtZXRob2RzIG9uIEFycmF5IHByb3RvdHlwZVxyXG4gKi9cclxudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XHJcbnZhciBhcnJheU1ldGhvZHMgPSBPYmplY3QuY3JlYXRlKGFycmF5UHJvdG8pO1xyXG52YXIgbWV0aG9kc1RvUGF0Y2ggPSBbXHJcbiAgICAncHVzaCcsXHJcbiAgICAncG9wJyxcclxuICAgICdzaGlmdCcsXHJcbiAgICAndW5zaGlmdCcsXHJcbiAgICAnc3BsaWNlJyxcclxuICAgICdzb3J0JyxcclxuICAgICdyZXZlcnNlJ1xyXG5dO1xyXG4vKipcclxuICogSW50ZXJjZXB0IG11dGF0aW5nIG1ldGhvZHMgYW5kIGVtaXQgZXZlbnRzXHJcbiAqL1xyXG5tZXRob2RzVG9QYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcclxuICAgIC8vIGNhY2hlIG9yaWdpbmFsIG1ldGhvZFxyXG4gICAgdmFyIG9yaWdpbmFsID0gYXJyYXlQcm90b1ttZXRob2RdO1xyXG4gICAgZGVmKGFycmF5TWV0aG9kcywgbWV0aG9kLCBmdW5jdGlvbiBtdXRhdG9yKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgdmFyIG9iID0gdGhpcy5fX29iX187XHJcbiAgICAgICAgdmFyIGluc2VydGVkO1xyXG4gICAgICAgIHN3aXRjaCAobWV0aG9kKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3B1c2gnOlxyXG4gICAgICAgICAgICBjYXNlICd1bnNoaWZ0JzpcclxuICAgICAgICAgICAgICAgIGluc2VydGVkID0gYXJncztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzcGxpY2UnOlxyXG4gICAgICAgICAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzLnNsaWNlKDIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnNlcnRlZClcclxuICAgICAgICAgICAgb2Iub2JzZXJ2ZUFycmF5KGluc2VydGVkKTtcclxuICAgICAgICAvLyBub3RpZnkgY2hhbmdlXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgb2IuZGVwLm5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5IG11dGF0aW9uXCIgLyogVHJpZ2dlck9wVHlwZXMuQVJSQVlfTVVUQVRJT04gKi8sXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBrZXk6IG1ldGhvZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9iLmRlcC5ub3RpZnkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG59KTtcblxudmFyIGFycmF5S2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFycmF5TWV0aG9kcyk7XHJcbnZhciBOT19JTklJVElBTF9WQUxVRSA9IHt9O1xyXG4vKipcclxuICogSW4gc29tZSBjYXNlcyB3ZSBtYXkgd2FudCB0byBkaXNhYmxlIG9ic2VydmF0aW9uIGluc2lkZSBhIGNvbXBvbmVudCdzXHJcbiAqIHVwZGF0ZSBjb21wdXRhdGlvbi5cclxuICovXHJcbnZhciBzaG91bGRPYnNlcnZlID0gdHJ1ZTtcclxuZnVuY3Rpb24gdG9nZ2xlT2JzZXJ2aW5nKHZhbHVlKSB7XHJcbiAgICBzaG91bGRPYnNlcnZlID0gdmFsdWU7XHJcbn1cclxuLy8gc3NyIG1vY2sgZGVwXHJcbnZhciBtb2NrRGVwID0ge1xyXG4gICAgbm90aWZ5OiBub29wLFxyXG4gICAgZGVwZW5kOiBub29wLFxyXG4gICAgYWRkU3ViOiBub29wLFxyXG4gICAgcmVtb3ZlU3ViOiBub29wXHJcbn07XHJcbi8qKlxyXG4gKiBPYnNlcnZlciBjbGFzcyB0aGF0IGlzIGF0dGFjaGVkIHRvIGVhY2ggb2JzZXJ2ZWRcclxuICogb2JqZWN0LiBPbmNlIGF0dGFjaGVkLCB0aGUgb2JzZXJ2ZXIgY29udmVydHMgdGhlIHRhcmdldFxyXG4gKiBvYmplY3QncyBwcm9wZXJ0eSBrZXlzIGludG8gZ2V0dGVyL3NldHRlcnMgdGhhdFxyXG4gKiBjb2xsZWN0IGRlcGVuZGVuY2llcyBhbmQgZGlzcGF0Y2ggdXBkYXRlcy5cclxuICovXHJcbnZhciBPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE9ic2VydmVyKHZhbHVlLCBzaGFsbG93LCBtb2NrKSB7XHJcbiAgICAgICAgaWYgKHNoYWxsb3cgPT09IHZvaWQgMCkgeyBzaGFsbG93ID0gZmFsc2U7IH1cclxuICAgICAgICBpZiAobW9jayA9PT0gdm9pZCAwKSB7IG1vY2sgPSBmYWxzZTsgfVxyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNoYWxsb3cgPSBzaGFsbG93O1xyXG4gICAgICAgIHRoaXMubW9jayA9IG1vY2s7XHJcbiAgICAgICAgLy8gdGhpcy52YWx1ZSA9IHZhbHVlXHJcbiAgICAgICAgdGhpcy5kZXAgPSBtb2NrID8gbW9ja0RlcCA6IG5ldyBEZXAoKTtcclxuICAgICAgICB0aGlzLnZtQ291bnQgPSAwO1xyXG4gICAgICAgIGRlZih2YWx1ZSwgJ19fb2JfXycsIHRoaXMpO1xyXG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICBpZiAoIW1vY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNQcm90bykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLl9fcHJvdG9fXyA9IGFycmF5TWV0aG9kcztcclxuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXByb3RvICovXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycmF5S2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGFycmF5S2V5c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmKHZhbHVlLCBrZXksIGFycmF5TWV0aG9kc1trZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFzaGFsbG93KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVBcnJheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBXYWxrIHRocm91Z2ggYWxsIHByb3BlcnRpZXMgYW5kIGNvbnZlcnQgdGhlbSBpbnRvXHJcbiAgICAgICAgICAgICAqIGdldHRlci9zZXR0ZXJzLiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWQgd2hlblxyXG4gICAgICAgICAgICAgKiB2YWx1ZSB0eXBlIGlzIE9iamVjdC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgZGVmaW5lUmVhY3RpdmUodmFsdWUsIGtleSwgTk9fSU5JSVRJQUxfVkFMVUUsIHVuZGVmaW5lZCwgc2hhbGxvdywgbW9jayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9ic2VydmUgYSBsaXN0IG9mIEFycmF5IGl0ZW1zLlxyXG4gICAgICovXHJcbiAgICBPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZUFycmF5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZSh2YWx1ZVtpXSwgZmFsc2UsIHRoaXMubW9jayk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBPYnNlcnZlcjtcclxufSgpKTtcclxuLy8gaGVscGVyc1xyXG4vKipcclxuICogQXR0ZW1wdCB0byBjcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UgZm9yIGEgdmFsdWUsXHJcbiAqIHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBpZiBzdWNjZXNzZnVsbHkgb2JzZXJ2ZWQsXHJcbiAqIG9yIHRoZSBleGlzdGluZyBvYnNlcnZlciBpZiB0aGUgdmFsdWUgYWxyZWFkeSBoYXMgb25lLlxyXG4gKi9cclxuZnVuY3Rpb24gb2JzZXJ2ZSh2YWx1ZSwgc2hhbGxvdywgc3NyTW9ja1JlYWN0aXZpdHkpIHtcclxuICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzUmVmKHZhbHVlKSB8fCB2YWx1ZSBpbnN0YW5jZW9mIFZOb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIG9iO1xyXG4gICAgaWYgKGhhc093bih2YWx1ZSwgJ19fb2JfXycpICYmIHZhbHVlLl9fb2JfXyBpbnN0YW5jZW9mIE9ic2VydmVyKSB7XHJcbiAgICAgICAgb2IgPSB2YWx1ZS5fX29iX187XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzaG91bGRPYnNlcnZlICYmXHJcbiAgICAgICAgKHNzck1vY2tSZWFjdGl2aXR5IHx8ICFpc1NlcnZlclJlbmRlcmluZygpKSAmJlxyXG4gICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlKSkgJiZcclxuICAgICAgICBPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSAmJlxyXG4gICAgICAgICF2YWx1ZS5fX3Zfc2tpcCAvKiBSZWFjdGl2ZUZsYWdzLlNLSVAgKi8pIHtcclxuICAgICAgICBvYiA9IG5ldyBPYnNlcnZlcih2YWx1ZSwgc2hhbGxvdywgc3NyTW9ja1JlYWN0aXZpdHkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9iO1xyXG59XHJcbi8qKlxyXG4gKiBEZWZpbmUgYSByZWFjdGl2ZSBwcm9wZXJ0eSBvbiBhbiBPYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWZpbmVSZWFjdGl2ZShvYmosIGtleSwgdmFsLCBjdXN0b21TZXR0ZXIsIHNoYWxsb3csIG1vY2spIHtcclxuICAgIHZhciBkZXAgPSBuZXcgRGVwKCk7XHJcbiAgICB2YXIgcHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcclxuICAgIGlmIChwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5jb25maWd1cmFibGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gY2F0ZXIgZm9yIHByZS1kZWZpbmVkIGdldHRlci9zZXR0ZXJzXHJcbiAgICB2YXIgZ2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuZ2V0O1xyXG4gICAgdmFyIHNldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LnNldDtcclxuICAgIGlmICgoIWdldHRlciB8fCBzZXR0ZXIpICYmXHJcbiAgICAgICAgKHZhbCA9PT0gTk9fSU5JSVRJQUxfVkFMVUUgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikpIHtcclxuICAgICAgICB2YWwgPSBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZE9iID0gIXNoYWxsb3cgJiYgb2JzZXJ2ZSh2YWwsIGZhbHNlLCBtb2NrKTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGdldDogZnVuY3Rpb24gcmVhY3RpdmVHZXR0ZXIoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XHJcbiAgICAgICAgICAgIGlmIChEZXAudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcC5kZXBlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVwLmRlcGVuZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkT2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZE9iLmRlcC5kZXBlbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWYodmFsdWUpICYmICFzaGFsbG93ID8gdmFsdWUudmFsdWUgOiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gcmVhY3RpdmVTZXR0ZXIobmV3VmFsKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XHJcbiAgICAgICAgICAgIGlmICghaGFzQ2hhbmdlZCh2YWx1ZSwgbmV3VmFsKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGN1c3RvbVNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tU2V0dGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyLmNhbGwob2JqLCBuZXdWYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGdldHRlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gIzc5ODE6IGZvciBhY2Nlc3NvciBwcm9wZXJ0aWVzIHdpdGhvdXQgc2V0dGVyXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXNoYWxsb3cgJiYgaXNSZWYodmFsdWUpICYmICFpc1JlZihuZXdWYWwpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS52YWx1ZSA9IG5ld1ZhbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IG5ld1ZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGlsZE9iID0gIXNoYWxsb3cgJiYgb2JzZXJ2ZShuZXdWYWwsIGZhbHNlLCBtb2NrKTtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGRlcC5ub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRlcC5ub3RpZnkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRlcDtcclxufVxyXG5mdW5jdGlvbiBzZXQodGFyZ2V0LCBrZXksIHZhbCkge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgKGlzVW5kZWYodGFyZ2V0KSB8fCBpc1ByaW1pdGl2ZSh0YXJnZXQpKSkge1xyXG4gICAgICAgIHdhcm4kMihcIkNhbm5vdCBzZXQgcmVhY3RpdmUgcHJvcGVydHkgb24gdW5kZWZpbmVkLCBudWxsLCBvciBwcmltaXRpdmUgdmFsdWU6IFwiLmNvbmNhdCh0YXJnZXQpKTtcclxuICAgIH1cclxuICAgIGlmIChpc1JlYWRvbmx5KHRhcmdldCkpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4kMihcIlNldCBvcGVyYXRpb24gb24ga2V5IFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuXCIpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgb2IgPSB0YXJnZXQuX19vYl9fO1xyXG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc1ZhbGlkQXJyYXlJbmRleChrZXkpKSB7XHJcbiAgICAgICAgdGFyZ2V0Lmxlbmd0aCA9IE1hdGgubWF4KHRhcmdldC5sZW5ndGgsIGtleSk7XHJcbiAgICAgICAgdGFyZ2V0LnNwbGljZShrZXksIDEsIHZhbCk7XHJcbiAgICAgICAgLy8gd2hlbiBtb2NraW5nIGZvciBTU1IsIGFycmF5IG1ldGhvZHMgYXJlIG5vdCBoaWphY2tlZFxyXG4gICAgICAgIGlmIChvYiAmJiAhb2Iuc2hhbGxvdyAmJiBvYi5tb2NrKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmUodmFsLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICBpZiAoa2V5IGluIHRhcmdldCAmJiAhKGtleSBpbiBPYmplY3QucHJvdG90eXBlKSkge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsO1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0Ll9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHdhcm4kMignQXZvaWQgYWRkaW5nIHJlYWN0aXZlIHByb3BlcnRpZXMgdG8gYSBWdWUgaW5zdGFuY2Ugb3IgaXRzIHJvb3QgJGRhdGEgJyArXHJcbiAgICAgICAgICAgICAgICAnYXQgcnVudGltZSAtIGRlY2xhcmUgaXQgdXBmcm9udCBpbiB0aGUgZGF0YSBvcHRpb24uJyk7XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIGlmICghb2IpIHtcclxuICAgICAgICB0YXJnZXRba2V5XSA9IHZhbDtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG4gICAgZGVmaW5lUmVhY3RpdmUob2IudmFsdWUsIGtleSwgdmFsLCB1bmRlZmluZWQsIG9iLnNoYWxsb3csIG9iLm1vY2spO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBvYi5kZXAubm90aWZ5KHtcclxuICAgICAgICAgICAgdHlwZTogXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi8sXHJcbiAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxyXG4gICAgICAgICAgICBrZXk6IGtleSxcclxuICAgICAgICAgICAgbmV3VmFsdWU6IHZhbCxcclxuICAgICAgICAgICAgb2xkVmFsdWU6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgb2IuZGVwLm5vdGlmeSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbDtcclxufVxyXG5mdW5jdGlvbiBkZWwodGFyZ2V0LCBrZXkpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChpc1VuZGVmKHRhcmdldCkgfHwgaXNQcmltaXRpdmUodGFyZ2V0KSkpIHtcclxuICAgICAgICB3YXJuJDIoXCJDYW5ub3QgZGVsZXRlIHJlYWN0aXZlIHByb3BlcnR5IG9uIHVuZGVmaW5lZCwgbnVsbCwgb3IgcHJpbWl0aXZlIHZhbHVlOiBcIi5jb25jYXQodGFyZ2V0KSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmIGlzVmFsaWRBcnJheUluZGV4KGtleSkpIHtcclxuICAgICAgICB0YXJnZXQuc3BsaWNlKGtleSwgMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIG9iID0gdGFyZ2V0Ll9fb2JfXztcclxuICAgIGlmICh0YXJnZXQuX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xyXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgd2FybiQyKCdBdm9pZCBkZWxldGluZyBwcm9wZXJ0aWVzIG9uIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xyXG4gICAgICAgICAgICAgICAgJy0ganVzdCBzZXQgaXQgdG8gbnVsbC4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoaXNSZWFkb25seSh0YXJnZXQpKSB7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICB3YXJuJDIoXCJEZWxldGUgb3BlcmF0aW9uIG9uIGtleSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LlwiKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFoYXNPd24odGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZGVsZXRlIHRhcmdldFtrZXldO1xyXG4gICAgaWYgKCFvYikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgb2IuZGVwLm5vdGlmeSh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcclxuICAgICAgICAgICAga2V5OiBrZXlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG9iLmRlcC5ub3RpZnkoKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29sbGVjdCBkZXBlbmRlbmNpZXMgb24gYXJyYXkgZWxlbWVudHMgd2hlbiB0aGUgYXJyYXkgaXMgdG91Y2hlZCwgc2luY2VcclxuICogd2UgY2Fubm90IGludGVyY2VwdCBhcnJheSBlbGVtZW50IGFjY2VzcyBsaWtlIHByb3BlcnR5IGdldHRlcnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZXBlbmRBcnJheSh2YWx1ZSkge1xyXG4gICAgZm9yICh2YXIgZSA9IHZvaWQgMCwgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBlID0gdmFsdWVbaV07XHJcbiAgICAgICAgaWYgKGUgJiYgZS5fX29iX18pIHtcclxuICAgICAgICAgICAgZS5fX29iX18uZGVwLmRlcGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNBcnJheShlKSkge1xyXG4gICAgICAgICAgICBkZXBlbmRBcnJheShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gcmVhY3RpdmUodGFyZ2V0KSB7XHJcbiAgICBtYWtlUmVhY3RpdmUodGFyZ2V0LCBmYWxzZSk7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm4gYSBzaGFsbG93bHktcmVhY3RpdmUgY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LCB3aGVyZSBvbmx5IHRoZSByb290XHJcbiAqIGxldmVsIHByb3BlcnRpZXMgYXJlIHJlYWN0aXZlLiBJdCBhbHNvIGRvZXMgbm90IGF1dG8tdW53cmFwIHJlZnMgKGV2ZW4gYXQgdGhlXHJcbiAqIHJvb3QgbGV2ZWwpLlxyXG4gKi9cclxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgbWFrZVJlYWN0aXZlKHRhcmdldCwgdHJ1ZSk7XHJcbiAgICBkZWYodGFyZ2V0LCBcIl9fdl9pc1NoYWxsb3dcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1NIQUxMT1cgKi8sIHRydWUpO1xyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5mdW5jdGlvbiBtYWtlUmVhY3RpdmUodGFyZ2V0LCBzaGFsbG93KSB7XHJcbiAgICAvLyBpZiB0cnlpbmcgdG8gb2JzZXJ2ZSBhIHJlYWRvbmx5IHByb3h5LCByZXR1cm4gdGhlIHJlYWRvbmx5IHZlcnNpb24uXHJcbiAgICBpZiAoIWlzUmVhZG9ubHkodGFyZ2V0KSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcIkF2b2lkIHVzaW5nIEFycmF5IGFzIHJvb3QgdmFsdWUgZm9yIFwiLmNvbmNhdChzaGFsbG93ID8gXCJzaGFsbG93UmVhY3RpdmUoKVwiIDogXCJyZWFjdGl2ZSgpXCIsIFwiIGFzIGl0IGNhbm5vdCBiZSB0cmFja2VkIGluIHdhdGNoKCkgb3Igd2F0Y2hFZmZlY3QoKS4gVXNlIFwiKS5jb25jYXQoc2hhbGxvdyA/IFwic2hhbGxvd1JlZigpXCIgOiBcInJlZigpXCIsIFwiIGluc3RlYWQuIFRoaXMgaXMgYSBWdWUtMi1vbmx5IGxpbWl0YXRpb24uXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdPYiA9IHRhcmdldCAmJiB0YXJnZXQuX19vYl9fO1xyXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdPYiAmJiBleGlzdGluZ09iLnNoYWxsb3cgIT09IHNoYWxsb3cpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcIlRhcmdldCBpcyBhbHJlYWR5IGEgXCIuY29uY2F0KGV4aXN0aW5nT2Iuc2hhbGxvdyA/IFwiXCIgOiBcIm5vbi1cIiwgXCJzaGFsbG93IHJlYWN0aXZlIG9iamVjdCwgYW5kIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gXCIpLmNvbmNhdChzaGFsbG93ID8gXCJcIiA6IFwibm9uLVwiLCBcInNoYWxsb3cuXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2IgPSBvYnNlcnZlKHRhcmdldCwgc2hhbGxvdywgaXNTZXJ2ZXJSZW5kZXJpbmcoKSAvKiBzc3IgbW9jayByZWFjdGl2aXR5ICovKTtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhb2IpIHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IGlzUHJpbWl0aXZlKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcInZhbHVlIGNhbm5vdCBiZSBtYWRlIHJlYWN0aXZlOiBcIi5jb25jYXQoU3RyaW5nKHRhcmdldCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNDb2xsZWN0aW9uVHlwZSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJWdWUgMiBkb2VzIG5vdCBzdXBwb3J0IHJlYWN0aXZlIGNvbGxlY3Rpb24gdHlwZXMgc3VjaCBhcyBNYXAgb3IgU2V0LlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1JlYWN0aXZlKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZVtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL10pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fb2JfXyk7XHJcbn1cclxuZnVuY3Rpb24gaXNTaGFsbG93KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX192X2lzU2hhbGxvdyk7XHJcbn1cclxuZnVuY3Rpb24gaXNSZWFkb25seSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fdl9pc1JlYWRvbmx5KTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZSkgfHwgaXNSZWFkb25seSh2YWx1ZSk7XHJcbn1cclxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcclxuICAgIHZhciByYXcgPSBvYnNlcnZlZCAmJiBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XHJcbiAgICByZXR1cm4gcmF3ID8gdG9SYXcocmF3KSA6IG9ic2VydmVkO1xyXG59XHJcbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcclxuICAgIGRlZih2YWx1ZSwgXCJfX3Zfc2tpcFwiIC8qIFJlYWN0aXZlRmxhZ3MuU0tJUCAqLywgdHJ1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gaXNDb2xsZWN0aW9uVHlwZSh2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xyXG4gICAgcmV0dXJuICh0eXBlID09PSAnTWFwJyB8fCB0eXBlID09PSAnV2Vha01hcCcgfHwgdHlwZSA9PT0gJ1NldCcgfHwgdHlwZSA9PT0gJ1dlYWtTZXQnKTtcclxufVxuXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgUmVmRmxhZyA9IFwiX192X2lzUmVmXCI7XHJcbmZ1bmN0aW9uIGlzUmVmKHIpIHtcclxuICAgIHJldHVybiAhIShyICYmIHIuX192X2lzUmVmID09PSB0cnVlKTtcclxufVxyXG5mdW5jdGlvbiByZWYkMSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgZmFsc2UpO1xyXG59XHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdykge1xyXG4gICAgaWYgKGlzUmVmKHJhd1ZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiByYXdWYWx1ZTtcclxuICAgIH1cclxuICAgIHZhciByZWYgPSB7fTtcclxuICAgIGRlZihyZWYsIFJlZkZsYWcsIHRydWUpO1xyXG4gICAgZGVmKHJlZiwgXCJfX3ZfaXNTaGFsbG93XCIgLyogUmVhY3RpdmVGbGFncy5JU19TSEFMTE9XICovLCBzaGFsbG93KTtcclxuICAgIGRlZihyZWYsICdkZXAnLCBkZWZpbmVSZWFjdGl2ZShyZWYsICd2YWx1ZScsIHJhd1ZhbHVlLCBudWxsLCBzaGFsbG93LCBpc1NlcnZlclJlbmRlcmluZygpKSk7XHJcbiAgICByZXR1cm4gcmVmO1xyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXJSZWYocmVmKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhcmVmLmRlcCkge1xyXG4gICAgICAgIHdhcm4kMihcInJlY2VpdmVkIG9iamVjdCBpcyBub3QgYSB0cmlnZ2VyYWJsZSByZWYuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICByZWYuZGVwICYmXHJcbiAgICAgICAgICAgIHJlZi5kZXAubm90aWZ5KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiByZWYsXHJcbiAgICAgICAgICAgICAgICBrZXk6ICd2YWx1ZSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZWYuZGVwICYmIHJlZi5kZXAubm90aWZ5KCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5yZWYocmVmKSB7XHJcbiAgICByZXR1cm4gaXNSZWYocmVmKSA/IHJlZi52YWx1ZSA6IHJlZjtcclxufVxyXG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcclxuICAgIGlmIChpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKSkge1xyXG4gICAgICAgIHJldHVybiBvYmplY3RXaXRoUmVmcztcclxuICAgIH1cclxuICAgIHZhciBwcm94eSA9IHt9O1xyXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3RXaXRoUmVmcyk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBwcm94eVdpdGhSZWZVbndyYXAocHJveHksIG9iamVjdFdpdGhSZWZzLCBrZXlzW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcm94eTtcclxufVxyXG5mdW5jdGlvbiBwcm94eVdpdGhSZWZVbndyYXAodGFyZ2V0LCBzb3VyY2UsIGtleSkge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBzb3VyY2Vba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWwudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2IgPSB2YWwgJiYgdmFsLl9fb2JfXztcclxuICAgICAgICAgICAgICAgIGlmIChvYilcclxuICAgICAgICAgICAgICAgICAgICBvYi5kZXAuZGVwZW5kKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSBzb3VyY2Vba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc291cmNlW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGN1c3RvbVJlZihmYWN0b3J5KSB7XHJcbiAgICB2YXIgZGVwID0gbmV3IERlcCgpO1xyXG4gICAgdmFyIF9hID0gZmFjdG9yeShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgZGVwLmRlcGVuZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHJlZixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLyxcclxuICAgICAgICAgICAgICAgIGtleTogJ3ZhbHVlJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlcC5kZXBlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgZGVwLm5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHJlZixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLFxyXG4gICAgICAgICAgICAgICAga2V5OiAndmFsdWUnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGVwLm5vdGlmeSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pLCBnZXQgPSBfYS5nZXQsIHNldCA9IF9hLnNldDtcclxuICAgIHZhciByZWYgPSB7XHJcbiAgICAgICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgICAgIHNldChuZXdWYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkZWYocmVmLCBSZWZGbGFnLCB0cnVlKTtcclxuICAgIHJldHVybiByZWY7XHJcbn1cclxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWlzUmVhY3RpdmUob2JqZWN0KSkge1xyXG4gICAgICAgIHdhcm4kMihcInRvUmVmcygpIGV4cGVjdHMgYSByZWFjdGl2ZSBvYmplY3QgYnV0IHJlY2VpdmVkIGEgcGxhaW4gb25lLlwiKTtcclxuICAgIH1cclxuICAgIHZhciByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcclxuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcclxuICAgICAgICByZXRba2V5XSA9IHRvUmVmKG9iamVjdCwga2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuZnVuY3Rpb24gdG9SZWYob2JqZWN0LCBrZXksIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgdmFyIHZhbCA9IG9iamVjdFtrZXldO1xyXG4gICAgaWYgKGlzUmVmKHZhbCkpIHtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlZiA9IHtcclxuICAgICAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBvYmplY3Rba2V5XTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IG5ld1ZhbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZGVmKHJlZiwgUmVmRmxhZywgdHJ1ZSk7XHJcbiAgICByZXR1cm4gcmVmO1xyXG59XG5cbnZhciByYXdUb1JlYWRvbmx5RmxhZyA9IFwiX192X3Jhd1RvUmVhZG9ubHlcIjtcclxudmFyIHJhd1RvU2hhbGxvd1JlYWRvbmx5RmxhZyA9IFwiX192X3Jhd1RvU2hhbGxvd1JlYWRvbmx5XCI7XHJcbmZ1bmN0aW9uIHJlYWRvbmx5KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWRvbmx5KHRhcmdldCwgZmFsc2UpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWRvbmx5KHRhcmdldCwgc2hhbGxvdykge1xyXG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHRhcmdldCkpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJWdWUgMiBkb2VzIG5vdCBzdXBwb3J0IHJlYWRvbmx5IGFycmF5cy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNDb2xsZWN0aW9uVHlwZSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJWdWUgMiBkb2VzIG5vdCBzdXBwb3J0IHJlYWRvbmx5IGNvbGxlY3Rpb24gdHlwZXMgc3VjaCBhcyBNYXAgb3IgU2V0LlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcInZhbHVlIGNhbm5vdCBiZSBtYWRlIHJlYWRvbmx5OiBcIi5jb25jYXQodHlwZW9mIHRhcmdldCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyBhbHJlYWR5IGEgcmVhZG9ubHkgb2JqZWN0XHJcbiAgICBpZiAoaXNSZWFkb25seSh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuICAgIC8vIGFscmVhZHkgaGFzIGEgcmVhZG9ubHkgcHJveHlcclxuICAgIHZhciBleGlzdGluZ0ZsYWcgPSBzaGFsbG93ID8gcmF3VG9TaGFsbG93UmVhZG9ubHlGbGFnIDogcmF3VG9SZWFkb25seUZsYWc7XHJcbiAgICB2YXIgZXhpc3RpbmdQcm94eSA9IHRhcmdldFtleGlzdGluZ0ZsYWddO1xyXG4gICAgaWYgKGV4aXN0aW5nUHJveHkpIHtcclxuICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcclxuICAgIH1cclxuICAgIHZhciBwcm94eSA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkpO1xyXG4gICAgZGVmKHRhcmdldCwgZXhpc3RpbmdGbGFnLCBwcm94eSk7XHJcbiAgICBkZWYocHJveHksIFwiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovLCB0cnVlKTtcclxuICAgIGRlZihwcm94eSwgXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi8sIHRhcmdldCk7XHJcbiAgICBpZiAoaXNSZWYodGFyZ2V0KSkge1xyXG4gICAgICAgIGRlZihwcm94eSwgUmVmRmxhZywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2hhbGxvdyB8fCBpc1NoYWxsb3codGFyZ2V0KSkge1xyXG4gICAgICAgIGRlZihwcm94eSwgXCJfX3ZfaXNTaGFsbG93XCIgLyogUmVhY3RpdmVGbGFncy5JU19TSEFMTE9XICovLCB0cnVlKTtcclxuICAgIH1cclxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGFyZ2V0KTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRlZmluZVJlYWRvbmx5UHJvcGVydHkocHJveHksIHRhcmdldCwga2V5c1tpXSwgc2hhbGxvdyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJveHk7XHJcbn1cclxuZnVuY3Rpb24gZGVmaW5lUmVhZG9ubHlQcm9wZXJ0eShwcm94eSwgdGFyZ2V0LCBrZXksIHNoYWxsb3cpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm94eSwga2V5LCB7XHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3cgfHwgIWlzUGxhaW5PYmplY3QodmFsKSA/IHZhbCA6IHJlYWRvbmx5KHZhbCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgd2FybiQyKFwiU2V0IG9wZXJhdGlvbiBvbiBrZXkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5cIikpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcmVhY3RpdmUtY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LCB3aGVyZSBvbmx5IHRoZSByb290IGxldmVsXHJcbiAqIHByb3BlcnRpZXMgYXJlIHJlYWRvbmx5LCBhbmQgZG9lcyBOT1QgdW53cmFwIHJlZnMgbm9yIHJlY3Vyc2l2ZWx5IGNvbnZlcnRcclxuICogcmV0dXJuZWQgcHJvcGVydGllcy5cclxuICogVGhpcyBpcyB1c2VkIGZvciBjcmVhdGluZyB0aGUgcHJvcHMgcHJveHkgb2JqZWN0IGZvciBzdGF0ZWZ1bCBjb21wb25lbnRzLlxyXG4gKi9cclxuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWRvbmx5KHRhcmdldCwgdHJ1ZSk7XHJcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMpIHtcclxuICAgIHZhciBnZXR0ZXI7XHJcbiAgICB2YXIgc2V0dGVyO1xyXG4gICAgdmFyIG9ubHlHZXR0ZXIgPSBpc0Z1bmN0aW9uKGdldHRlck9yT3B0aW9ucyk7XHJcbiAgICBpZiAob25seUdldHRlcikge1xyXG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcclxuICAgICAgICBzZXR0ZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nXHJcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgd2FybiQyKCdXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCB2YWx1ZSBpcyByZWFkb25seScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogbm9vcDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XHJcbiAgICAgICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcclxuICAgIH1cclxuICAgIHZhciB3YXRjaGVyID0gaXNTZXJ2ZXJSZW5kZXJpbmcoKVxyXG4gICAgICAgID8gbnVsbFxyXG4gICAgICAgIDogbmV3IFdhdGNoZXIoY3VycmVudEluc3RhbmNlLCBnZXR0ZXIsIG5vb3AsIHsgbGF6eTogdHJ1ZSB9KTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhdGNoZXIgJiYgZGVidWdPcHRpb25zKSB7XHJcbiAgICAgICAgd2F0Y2hlci5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XHJcbiAgICAgICAgd2F0Y2hlci5vblRyaWdnZXIgPSBkZWJ1Z09wdGlvbnMub25UcmlnZ2VyO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlZiA9IHtcclxuICAgICAgICAvLyBzb21lIGxpYnMgcmVseSBvbiB0aGUgcHJlc2VuY2UgZWZmZWN0IGZvciBjaGVja2luZyBjb21wdXRlZCByZWZzXHJcbiAgICAgICAgLy8gZnJvbSBub3JtYWwgcmVmcywgYnV0IHRoZSBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IG1hdHRlclxyXG4gICAgICAgIGVmZmVjdDogd2F0Y2hlcixcclxuICAgICAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgICAgIGlmICh3YXRjaGVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2F0Y2hlci5kaXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIuZXZhbHVhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChEZXAudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgRGVwLnRhcmdldC5vblRyYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlcC50YXJnZXQub25UcmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6IERlcC50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHJlZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3ZhbHVlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2F0Y2hlci5kZXBlbmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB3YXRjaGVyLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgICAgIHNldHRlcihuZXdWYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkZWYocmVmLCBSZWZGbGFnLCB0cnVlKTtcclxuICAgIGRlZihyZWYsIFwiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovLCBvbmx5R2V0dGVyKTtcclxuICAgIHJldHVybiByZWY7XHJcbn1cblxudmFyIG1hcms7XHJcbnZhciBtZWFzdXJlO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgdmFyIHBlcmZfMSA9IGluQnJvd3NlciAmJiB3aW5kb3cucGVyZm9ybWFuY2U7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChwZXJmXzEgJiZcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcGVyZl8xLm1hcmsgJiZcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcGVyZl8xLm1lYXN1cmUgJiZcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcGVyZl8xLmNsZWFyTWFya3MgJiZcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcGVyZl8xLmNsZWFyTWVhc3VyZXMpIHtcclxuICAgICAgICBtYXJrID0gZnVuY3Rpb24gKHRhZykgeyByZXR1cm4gcGVyZl8xLm1hcmsodGFnKTsgfTtcclxuICAgICAgICBtZWFzdXJlID0gZnVuY3Rpb24gKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpIHtcclxuICAgICAgICAgICAgcGVyZl8xLm1lYXN1cmUobmFtZSwgc3RhcnRUYWcsIGVuZFRhZyk7XHJcbiAgICAgICAgICAgIHBlcmZfMS5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcclxuICAgICAgICAgICAgcGVyZl8xLmNsZWFyTWFya3MoZW5kVGFnKTtcclxuICAgICAgICAgICAgLy8gcGVyZi5jbGVhck1lYXN1cmVzKG5hbWUpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxuXG52YXIgbm9ybWFsaXplRXZlbnQgPSBjYWNoZWQoZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgIHZhciBwYXNzaXZlID0gbmFtZS5jaGFyQXQoMCkgPT09ICcmJztcclxuICAgIG5hbWUgPSBwYXNzaXZlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XHJcbiAgICB2YXIgb25jZSA9IG5hbWUuY2hhckF0KDApID09PSAnfic7IC8vIFByZWZpeGVkIGxhc3QsIGNoZWNrZWQgZmlyc3RcclxuICAgIG5hbWUgPSBvbmNlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XHJcbiAgICB2YXIgY2FwdHVyZSA9IG5hbWUuY2hhckF0KDApID09PSAnISc7XHJcbiAgICBuYW1lID0gY2FwdHVyZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIG9uY2U6IG9uY2UsXHJcbiAgICAgICAgY2FwdHVyZTogY2FwdHVyZSxcclxuICAgICAgICBwYXNzaXZlOiBwYXNzaXZlXHJcbiAgICB9O1xyXG59KTtcclxuZnVuY3Rpb24gY3JlYXRlRm5JbnZva2VyKGZucywgdm0pIHtcclxuICAgIGZ1bmN0aW9uIGludm9rZXIoKSB7XHJcbiAgICAgICAgdmFyIGZucyA9IGludm9rZXIuZm5zO1xyXG4gICAgICAgIGlmIChpc0FycmF5KGZucykpIHtcclxuICAgICAgICAgICAgdmFyIGNsb25lZCA9IGZucy5zbGljZSgpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb25lZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoY2xvbmVkW2ldLCBudWxsLCBhcmd1bWVudHMsIHZtLCBcInYtb24gaGFuZGxlclwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIGhhbmRsZXIgcmV0dXJuIHZhbHVlIGZvciBzaW5nbGUgaGFuZGxlcnNcclxuICAgICAgICAgICAgcmV0dXJuIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGZucywgbnVsbCwgYXJndW1lbnRzLCB2bSwgXCJ2LW9uIGhhbmRsZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW52b2tlci5mbnMgPSBmbnM7XHJcbiAgICByZXR1cm4gaW52b2tlcjtcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVMaXN0ZW5lcnMob24sIG9sZE9uLCBhZGQsIHJlbW92ZSwgY3JlYXRlT25jZUhhbmRsZXIsIHZtKSB7XHJcbiAgICB2YXIgbmFtZSwgY3VyLCBvbGQsIGV2ZW50O1xyXG4gICAgZm9yIChuYW1lIGluIG9uKSB7XHJcbiAgICAgICAgY3VyID0gb25bbmFtZV07XHJcbiAgICAgICAgb2xkID0gb2xkT25bbmFtZV07XHJcbiAgICAgICAgZXZlbnQgPSBub3JtYWxpemVFdmVudChuYW1lKTtcclxuICAgICAgICBpZiAoaXNVbmRlZihjdXIpKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcIkludmFsaWQgaGFuZGxlciBmb3IgZXZlbnQgXFxcIlwiLmNvbmNhdChldmVudC5uYW1lLCBcIlxcXCI6IGdvdCBcIikgKyBTdHJpbmcoY3VyKSwgdm0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1VuZGVmKG9sZCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzVW5kZWYoY3VyLmZucykpIHtcclxuICAgICAgICAgICAgICAgIGN1ciA9IG9uW25hbWVdID0gY3JlYXRlRm5JbnZva2VyKGN1ciwgdm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1RydWUoZXZlbnQub25jZSkpIHtcclxuICAgICAgICAgICAgICAgIGN1ciA9IG9uW25hbWVdID0gY3JlYXRlT25jZUhhbmRsZXIoZXZlbnQubmFtZSwgY3VyLCBldmVudC5jYXB0dXJlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZGQoZXZlbnQubmFtZSwgY3VyLCBldmVudC5jYXB0dXJlLCBldmVudC5wYXNzaXZlLCBldmVudC5wYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjdXIgIT09IG9sZCkge1xyXG4gICAgICAgICAgICBvbGQuZm5zID0gY3VyO1xyXG4gICAgICAgICAgICBvbltuYW1lXSA9IG9sZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKG5hbWUgaW4gb2xkT24pIHtcclxuICAgICAgICBpZiAoaXNVbmRlZihvbltuYW1lXSkpIHtcclxuICAgICAgICAgICAgZXZlbnQgPSBub3JtYWxpemVFdmVudChuYW1lKTtcclxuICAgICAgICAgICAgcmVtb3ZlKGV2ZW50Lm5hbWUsIG9sZE9uW25hbWVdLCBldmVudC5jYXB0dXJlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gbWVyZ2VWTm9kZUhvb2soZGVmLCBob29rS2V5LCBob29rKSB7XHJcbiAgICBpZiAoZGVmIGluc3RhbmNlb2YgVk5vZGUpIHtcclxuICAgICAgICBkZWYgPSBkZWYuZGF0YS5ob29rIHx8IChkZWYuZGF0YS5ob29rID0ge30pO1xyXG4gICAgfVxyXG4gICAgdmFyIGludm9rZXI7XHJcbiAgICB2YXIgb2xkSG9vayA9IGRlZltob29rS2V5XTtcclxuICAgIGZ1bmN0aW9uIHdyYXBwZWRIb29rKCkge1xyXG4gICAgICAgIGhvb2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAvLyBpbXBvcnRhbnQ6IHJlbW92ZSBtZXJnZWQgaG9vayB0byBlbnN1cmUgaXQncyBjYWxsZWQgb25seSBvbmNlXHJcbiAgICAgICAgLy8gYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtcclxuICAgICAgICByZW1vdmUkMihpbnZva2VyLmZucywgd3JhcHBlZEhvb2spO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzVW5kZWYob2xkSG9vaykpIHtcclxuICAgICAgICAvLyBubyBleGlzdGluZyBob29rXHJcbiAgICAgICAgaW52b2tlciA9IGNyZWF0ZUZuSW52b2tlcihbd3JhcHBlZEhvb2tdKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmIChpc0RlZihvbGRIb29rLmZucykgJiYgaXNUcnVlKG9sZEhvb2subWVyZ2VkKSkge1xyXG4gICAgICAgICAgICAvLyBhbHJlYWR5IGEgbWVyZ2VkIGludm9rZXJcclxuICAgICAgICAgICAgaW52b2tlciA9IG9sZEhvb2s7XHJcbiAgICAgICAgICAgIGludm9rZXIuZm5zLnB1c2god3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZXhpc3RpbmcgcGxhaW4gaG9va1xyXG4gICAgICAgICAgICBpbnZva2VyID0gY3JlYXRlRm5JbnZva2VyKFtvbGRIb29rLCB3cmFwcGVkSG9va10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGludm9rZXIubWVyZ2VkID0gdHJ1ZTtcclxuICAgIGRlZltob29rS2V5XSA9IGludm9rZXI7XHJcbn1cblxuZnVuY3Rpb24gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YShkYXRhLCBDdG9yLCB0YWcpIHtcclxuICAgIC8vIHdlIGFyZSBvbmx5IGV4dHJhY3RpbmcgcmF3IHZhbHVlcyBoZXJlLlxyXG4gICAgLy8gdmFsaWRhdGlvbiBhbmQgZGVmYXVsdCB2YWx1ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIGNoaWxkXHJcbiAgICAvLyBjb21wb25lbnQgaXRzZWxmLlxyXG4gICAgdmFyIHByb3BPcHRpb25zID0gQ3Rvci5vcHRpb25zLnByb3BzO1xyXG4gICAgaWYgKGlzVW5kZWYocHJvcE9wdGlvbnMpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlcyA9IHt9O1xyXG4gICAgdmFyIGF0dHJzID0gZGF0YS5hdHRycywgcHJvcHMgPSBkYXRhLnByb3BzO1xyXG4gICAgaWYgKGlzRGVmKGF0dHJzKSB8fCBpc0RlZihwcm9wcykpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIGFsdEtleSA9IGh5cGhlbmF0ZShrZXkpO1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleUluTG93ZXJDYXNlID0ga2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBrZXlJbkxvd2VyQ2FzZSAmJiBhdHRycyAmJiBoYXNPd24oYXR0cnMsIGtleUluTG93ZXJDYXNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpcChcIlByb3AgXFxcIlwiLmNvbmNhdChrZXlJbkxvd2VyQ2FzZSwgXCJcXFwiIGlzIHBhc3NlZCB0byBjb21wb25lbnQgXCIpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcIi5jb25jYXQoZm9ybWF0Q29tcG9uZW50TmFtZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0YWcgaXMgc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZyB8fCBDdG9yKSwgXCIsIGJ1dCB0aGUgZGVjbGFyZWQgcHJvcCBuYW1lIGlzXCIpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIi4gXCIpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCBjYW1lbENhc2VkIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9wcyBuZWVkIHRvIHVzZSB0aGVpciBrZWJhYi1jYXNlIGVxdWl2YWxlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZXMuIFlvdSBzaG91bGQgcHJvYmFibHkgdXNlIFxcXCJcIi5jb25jYXQoYWx0S2V5LCBcIlxcXCIgaW5zdGVhZCBvZiBcXFwiXCIpLmNvbmNhdChrZXksIFwiXFxcIi5cIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoZWNrUHJvcChyZXMsIHByb3BzLCBrZXksIGFsdEtleSwgdHJ1ZSkgfHxcclxuICAgICAgICAgICAgICAgIGNoZWNrUHJvcChyZXMsIGF0dHJzLCBrZXksIGFsdEtleSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tQcm9wKHJlcywgaGFzaCwga2V5LCBhbHRLZXksIHByZXNlcnZlKSB7XHJcbiAgICBpZiAoaXNEZWYoaGFzaCkpIHtcclxuICAgICAgICBpZiAoaGFzT3duKGhhc2gsIGtleSkpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBoYXNoW2tleV07XHJcbiAgICAgICAgICAgIGlmICghcHJlc2VydmUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBoYXNoW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGhhc093bihoYXNoLCBhbHRLZXkpKSB7XHJcbiAgICAgICAgICAgIHJlc1trZXldID0gaGFzaFthbHRLZXldO1xyXG4gICAgICAgICAgICBpZiAoIXByZXNlcnZlKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFzaFthbHRLZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxuXG4vLyBUaGUgdGVtcGxhdGUgY29tcGlsZXIgYXR0ZW1wdHMgdG8gbWluaW1pemUgdGhlIG5lZWQgZm9yIG5vcm1hbGl6YXRpb24gYnlcclxuLy8gc3RhdGljYWxseSBhbmFseXppbmcgdGhlIHRlbXBsYXRlIGF0IGNvbXBpbGUgdGltZS5cclxuLy9cclxuLy8gRm9yIHBsYWluIEhUTUwgbWFya3VwLCBub3JtYWxpemF0aW9uIGNhbiBiZSBjb21wbGV0ZWx5IHNraXBwZWQgYmVjYXVzZSB0aGVcclxuLy8gZ2VuZXJhdGVkIHJlbmRlciBmdW5jdGlvbiBpcyBndWFyYW50ZWVkIHRvIHJldHVybiBBcnJheTxWTm9kZT4uIFRoZXJlIGFyZVxyXG4vLyB0d28gY2FzZXMgd2hlcmUgZXh0cmEgbm9ybWFsaXphdGlvbiBpcyBuZWVkZWQ6XHJcbi8vIDEuIFdoZW4gdGhlIGNoaWxkcmVuIGNvbnRhaW5zIGNvbXBvbmVudHMgLSBiZWNhdXNlIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcclxuLy8gbWF5IHJldHVybiBhbiBBcnJheSBpbnN0ZWFkIG9mIGEgc2luZ2xlIHJvb3QuIEluIHRoaXMgY2FzZSwganVzdCBhIHNpbXBsZVxyXG4vLyBub3JtYWxpemF0aW9uIGlzIG5lZWRlZCAtIGlmIGFueSBjaGlsZCBpcyBhbiBBcnJheSwgd2UgZmxhdHRlbiB0aGUgd2hvbGVcclxuLy8gdGhpbmcgd2l0aCBBcnJheS5wcm90b3R5cGUuY29uY2F0LiBJdCBpcyBndWFyYW50ZWVkIHRvIGJlIG9ubHkgMS1sZXZlbCBkZWVwXHJcbi8vIGJlY2F1c2UgZnVuY3Rpb25hbCBjb21wb25lbnRzIGFscmVhZHkgbm9ybWFsaXplIHRoZWlyIG93biBjaGlsZHJlbi5cclxuZnVuY3Rpb24gc2ltcGxlTm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbltpXSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hpbGRyZW47XHJcbn1cclxuLy8gMi4gV2hlbiB0aGUgY2hpbGRyZW4gY29udGFpbnMgY29uc3RydWN0cyB0aGF0IGFsd2F5cyBnZW5lcmF0ZWQgbmVzdGVkIEFycmF5cyxcclxuLy8gZS5nLiA8dGVtcGxhdGU+LCA8c2xvdD4sIHYtZm9yLCBvciB3aGVuIHRoZSBjaGlsZHJlbiBpcyBwcm92aWRlZCBieSB1c2VyXHJcbi8vIHdpdGggaGFuZC13cml0dGVuIHJlbmRlciBmdW5jdGlvbnMgLyBKU1guIEluIHN1Y2ggY2FzZXMgYSBmdWxsIG5vcm1hbGl6YXRpb25cclxuLy8gaXMgbmVlZGVkIHRvIGNhdGVyIHRvIGFsbCBwb3NzaWJsZSB0eXBlcyBvZiBjaGlsZHJlbiB2YWx1ZXMuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gaXNQcmltaXRpdmUoY2hpbGRyZW4pXHJcbiAgICAgICAgPyBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV1cclxuICAgICAgICA6IGlzQXJyYXkoY2hpbGRyZW4pXHJcbiAgICAgICAgICAgID8gbm9ybWFsaXplQXJyYXlDaGlsZHJlbihjaGlsZHJlbilcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbn1cclxuZnVuY3Rpb24gaXNUZXh0Tm9kZShub2RlKSB7XHJcbiAgICByZXR1cm4gaXNEZWYobm9kZSkgJiYgaXNEZWYobm9kZS50ZXh0KSAmJiBpc0ZhbHNlKG5vZGUuaXNDb21tZW50KTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheUNoaWxkcmVuKGNoaWxkcmVuLCBuZXN0ZWRJbmRleCkge1xyXG4gICAgdmFyIHJlcyA9IFtdO1xyXG4gICAgdmFyIGksIGMsIGxhc3RJbmRleCwgbGFzdDtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGMgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICBpZiAoaXNVbmRlZihjKSB8fCB0eXBlb2YgYyA9PT0gJ2Jvb2xlYW4nKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBsYXN0SW5kZXggPSByZXMubGVuZ3RoIC0gMTtcclxuICAgICAgICBsYXN0ID0gcmVzW2xhc3RJbmRleF07XHJcbiAgICAgICAgLy8gIG5lc3RlZFxyXG4gICAgICAgIGlmIChpc0FycmF5KGMpKSB7XHJcbiAgICAgICAgICAgIGlmIChjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGMgPSBub3JtYWxpemVBcnJheUNoaWxkcmVuKGMsIFwiXCIuY29uY2F0KG5lc3RlZEluZGV4IHx8ICcnLCBcIl9cIikuY29uY2F0KGkpKTtcclxuICAgICAgICAgICAgICAgIC8vIG1lcmdlIGFkamFjZW50IHRleHQgbm9kZXNcclxuICAgICAgICAgICAgICAgIGlmIChpc1RleHROb2RlKGNbMF0pICYmIGlzVGV4dE5vZGUobGFzdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNbbGFzdEluZGV4XSA9IGNyZWF0ZVRleHRWTm9kZShsYXN0LnRleHQgKyBjWzBdLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoLmFwcGx5KHJlcywgYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNQcmltaXRpdmUoYykpIHtcclxuICAgICAgICAgICAgaWYgKGlzVGV4dE5vZGUobGFzdCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1lcmdlIGFkamFjZW50IHRleHQgbm9kZXNcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgbmVjZXNzYXJ5IGZvciBTU1IgaHlkcmF0aW9uIGJlY2F1c2UgdGV4dCBub2RlcyBhcmVcclxuICAgICAgICAgICAgICAgIC8vIGVzc2VudGlhbGx5IG1lcmdlZCB3aGVuIHJlbmRlcmVkIHRvIEhUTUwgc3RyaW5nc1xyXG4gICAgICAgICAgICAgICAgcmVzW2xhc3RJbmRleF0gPSBjcmVhdGVUZXh0Vk5vZGUobGFzdC50ZXh0ICsgYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYyAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgcHJpbWl0aXZlIHRvIHZub2RlXHJcbiAgICAgICAgICAgICAgICByZXMucHVzaChjcmVhdGVUZXh0Vk5vZGUoYykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaXNUZXh0Tm9kZShjKSAmJiBpc1RleHROb2RlKGxhc3QpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBtZXJnZSBhZGphY2VudCB0ZXh0IG5vZGVzXHJcbiAgICAgICAgICAgICAgICByZXNbbGFzdEluZGV4XSA9IGNyZWF0ZVRleHRWTm9kZShsYXN0LnRleHQgKyBjLnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCBrZXkgZm9yIG5lc3RlZCBhcnJheSBjaGlsZHJlbiAobGlrZWx5IGdlbmVyYXRlZCBieSB2LWZvcilcclxuICAgICAgICAgICAgICAgIGlmIChpc1RydWUoY2hpbGRyZW4uX2lzVkxpc3QpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaXNEZWYoYy50YWcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaXNVbmRlZihjLmtleSkgJiZcclxuICAgICAgICAgICAgICAgICAgICBpc0RlZihuZXN0ZWRJbmRleCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjLmtleSA9IFwiX192bGlzdFwiLmNvbmNhdChuZXN0ZWRJbmRleCwgXCJfXCIpLmNvbmNhdChpLCBcIl9fXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XG5cbnZhciBTSU1QTEVfTk9STUFMSVpFID0gMTtcclxudmFyIEFMV0FZU19OT1JNQUxJWkUgPSAyO1xyXG4vLyB3cmFwcGVyIGZ1bmN0aW9uIGZvciBwcm92aWRpbmcgYSBtb3JlIGZsZXhpYmxlIGludGVyZmFjZVxyXG4vLyB3aXRob3V0IGdldHRpbmcgeWVsbGVkIGF0IGJ5IGZsb3dcclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCQxKGNvbnRleHQsIHRhZywgZGF0YSwgY2hpbGRyZW4sIG5vcm1hbGl6YXRpb25UeXBlLCBhbHdheXNOb3JtYWxpemUpIHtcclxuICAgIGlmIChpc0FycmF5KGRhdGEpIHx8IGlzUHJpbWl0aXZlKGRhdGEpKSB7XHJcbiAgICAgICAgbm9ybWFsaXphdGlvblR5cGUgPSBjaGlsZHJlbjtcclxuICAgICAgICBjaGlsZHJlbiA9IGRhdGE7XHJcbiAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGlmIChpc1RydWUoYWx3YXlzTm9ybWFsaXplKSkge1xyXG4gICAgICAgIG5vcm1hbGl6YXRpb25UeXBlID0gQUxXQVlTX05PUk1BTElaRTtcclxuICAgIH1cclxuICAgIHJldHVybiBfY3JlYXRlRWxlbWVudChjb250ZXh0LCB0YWcsIGRhdGEsIGNoaWxkcmVuLCBub3JtYWxpemF0aW9uVHlwZSk7XHJcbn1cclxuZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnQoY29udGV4dCwgdGFnLCBkYXRhLCBjaGlsZHJlbiwgbm9ybWFsaXphdGlvblR5cGUpIHtcclxuICAgIGlmIChpc0RlZihkYXRhKSAmJiBpc0RlZihkYXRhLl9fb2JfXykpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHdhcm4kMihcIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShkYXRhKSwgXCJcXG5cIikgKyAnQWx3YXlzIGNyZWF0ZSBmcmVzaCB2bm9kZSBkYXRhIG9iamVjdHMgaW4gZWFjaCByZW5kZXIhJywgY29udGV4dCk7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKTtcclxuICAgIH1cclxuICAgIC8vIG9iamVjdCBzeW50YXggaW4gdi1iaW5kXHJcbiAgICBpZiAoaXNEZWYoZGF0YSkgJiYgaXNEZWYoZGF0YS5pcykpIHtcclxuICAgICAgICB0YWcgPSBkYXRhLmlzO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0YWcpIHtcclxuICAgICAgICAvLyBpbiBjYXNlIG9mIGNvbXBvbmVudCA6aXMgc2V0IHRvIGZhbHN5IHZhbHVlXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKTtcclxuICAgIH1cclxuICAgIC8vIHdhcm4gYWdhaW5zdCBub24tcHJpbWl0aXZlIGtleVxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNEZWYoZGF0YSkgJiYgaXNEZWYoZGF0YS5rZXkpICYmICFpc1ByaW1pdGl2ZShkYXRhLmtleSkpIHtcclxuICAgICAgICB3YXJuJDIoJ0F2b2lkIHVzaW5nIG5vbi1wcmltaXRpdmUgdmFsdWUgYXMga2V5LCAnICtcclxuICAgICAgICAgICAgJ3VzZSBzdHJpbmcvbnVtYmVyIHZhbHVlIGluc3RlYWQuJywgY29udGV4dCk7XHJcbiAgICB9XHJcbiAgICAvLyBzdXBwb3J0IHNpbmdsZSBmdW5jdGlvbiBjaGlsZHJlbiBhcyBkZWZhdWx0IHNjb3BlZCBzbG90XHJcbiAgICBpZiAoaXNBcnJheShjaGlsZHJlbikgJiYgaXNGdW5jdGlvbihjaGlsZHJlblswXSkpIHtcclxuICAgICAgICBkYXRhID0gZGF0YSB8fCB7fTtcclxuICAgICAgICBkYXRhLnNjb3BlZFNsb3RzID0geyBkZWZhdWx0OiBjaGlsZHJlblswXSB9O1xyXG4gICAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbiAgICBpZiAobm9ybWFsaXphdGlvblR5cGUgPT09IEFMV0FZU19OT1JNQUxJWkUpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG5vcm1hbGl6YXRpb25UeXBlID09PSBTSU1QTEVfTk9STUFMSVpFKSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSBzaW1wbGVOb3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICB2YXIgdm5vZGUsIG5zO1xyXG4gICAgaWYgKHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgdmFyIEN0b3IgPSB2b2lkIDA7XHJcbiAgICAgICAgbnMgPSAoY29udGV4dC4kdm5vZGUgJiYgY29udGV4dC4kdm5vZGUubnMpIHx8IGNvbmZpZy5nZXRUYWdOYW1lc3BhY2UodGFnKTtcclxuICAgICAgICBpZiAoY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkge1xyXG4gICAgICAgICAgICAvLyBwbGF0Zm9ybSBidWlsdC1pbiBlbGVtZW50c1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgaXNEZWYoZGF0YSkgJiZcclxuICAgICAgICAgICAgICAgIGlzRGVmKGRhdGEubmF0aXZlT24pICYmXHJcbiAgICAgICAgICAgICAgICBkYXRhLnRhZyAhPT0gJ2NvbXBvbmVudCcpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcIlRoZSAubmF0aXZlIG1vZGlmaWVyIGZvciB2LW9uIGlzIG9ubHkgdmFsaWQgb24gY29tcG9uZW50cyBidXQgaXQgd2FzIHVzZWQgb24gPFwiLmNvbmNhdCh0YWcsIFwiPi5cIiksIGNvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZub2RlID0gbmV3IFZOb2RlKGNvbmZpZy5wYXJzZVBsYXRmb3JtVGFnTmFtZSh0YWcpLCBkYXRhLCBjaGlsZHJlbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoIWRhdGEgfHwgIWRhdGEucHJlKSAmJlxyXG4gICAgICAgICAgICBpc0RlZigoQ3RvciA9IHJlc29sdmVBc3NldChjb250ZXh0LiRvcHRpb25zLCAnY29tcG9uZW50cycsIHRhZykpKSkge1xyXG4gICAgICAgICAgICAvLyBjb21wb25lbnRcclxuICAgICAgICAgICAgdm5vZGUgPSBjcmVhdGVDb21wb25lbnQoQ3RvciwgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4sIHRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB1bmtub3duIG9yIHVubGlzdGVkIG5hbWVzcGFjZWQgZWxlbWVudHNcclxuICAgICAgICAgICAgLy8gY2hlY2sgYXQgcnVudGltZSBiZWNhdXNlIGl0IG1heSBnZXQgYXNzaWduZWQgYSBuYW1lc3BhY2Ugd2hlbiBpdHNcclxuICAgICAgICAgICAgLy8gcGFyZW50IG5vcm1hbGl6ZXMgY2hpbGRyZW5cclxuICAgICAgICAgICAgdm5vZGUgPSBuZXcgVk5vZGUodGFnLCBkYXRhLCBjaGlsZHJlbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGRpcmVjdCBjb21wb25lbnQgb3B0aW9ucyAvIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgdm5vZGUgPSBjcmVhdGVDb21wb25lbnQodGFnLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheSh2bm9kZSkpIHtcclxuICAgICAgICByZXR1cm4gdm5vZGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0RlZih2bm9kZSkpIHtcclxuICAgICAgICBpZiAoaXNEZWYobnMpKVxyXG4gICAgICAgICAgICBhcHBseU5TKHZub2RlLCBucyk7XHJcbiAgICAgICAgaWYgKGlzRGVmKGRhdGEpKVxyXG4gICAgICAgICAgICByZWdpc3RlckRlZXBCaW5kaW5ncyhkYXRhKTtcclxuICAgICAgICByZXR1cm4gdm5vZGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRW1wdHlWTm9kZSgpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFwcGx5TlModm5vZGUsIG5zLCBmb3JjZSkge1xyXG4gICAgdm5vZGUubnMgPSBucztcclxuICAgIGlmICh2bm9kZS50YWcgPT09ICdmb3JlaWduT2JqZWN0Jykge1xyXG4gICAgICAgIC8vIHVzZSBkZWZhdWx0IG5hbWVzcGFjZSBpbnNpZGUgZm9yZWlnbk9iamVjdFxyXG4gICAgICAgIG5zID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGZvcmNlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChpc0RlZih2bm9kZS5jaGlsZHJlbikpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB2bm9kZS5jaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGNoaWxkLnRhZykgJiZcclxuICAgICAgICAgICAgICAgIChpc1VuZGVmKGNoaWxkLm5zKSB8fCAoaXNUcnVlKGZvcmNlKSAmJiBjaGlsZC50YWcgIT09ICdzdmcnKSkpIHtcclxuICAgICAgICAgICAgICAgIGFwcGx5TlMoY2hpbGQsIG5zLCBmb3JjZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gcmVmICM1MzE4XHJcbi8vIG5lY2Vzc2FyeSB0byBlbnN1cmUgcGFyZW50IHJlLXJlbmRlciB3aGVuIGRlZXAgYmluZGluZ3MgbGlrZSA6c3R5bGUgYW5kXHJcbi8vIDpjbGFzcyBhcmUgdXNlZCBvbiBzbG90IG5vZGVzXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyRGVlcEJpbmRpbmdzKGRhdGEpIHtcclxuICAgIGlmIChpc09iamVjdChkYXRhLnN0eWxlKSkge1xyXG4gICAgICAgIHRyYXZlcnNlKGRhdGEuc3R5bGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzT2JqZWN0KGRhdGEuY2xhc3MpKSB7XHJcbiAgICAgICAgdHJhdmVyc2UoZGF0YS5jbGFzcyk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgdi1mb3IgbGlzdHMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXJMaXN0KHZhbCwgcmVuZGVyKSB7XHJcbiAgICB2YXIgcmV0ID0gbnVsbCwgaSwgbCwga2V5cywga2V5O1xyXG4gICAgaWYgKGlzQXJyYXkodmFsKSB8fCB0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdmFsLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2ldLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWw7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXIoaSArIDEsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcclxuICAgICAgICBpZiAoaGFzU3ltYm9sICYmIHZhbFtTeW1ib2wuaXRlcmF0b3JdKSB7XHJcbiAgICAgICAgICAgIHJldCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSB2YWxbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICB3aGlsZSAoIXJlc3VsdC5kb25lKSB7XHJcbiAgICAgICAgICAgICAgICByZXQucHVzaChyZW5kZXIocmVzdWx0LnZhbHVlLCByZXQubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpO1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2tleV0sIGtleSwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzRGVmKHJldCkpIHtcclxuICAgICAgICByZXQgPSBbXTtcclxuICAgIH1cclxuICAgIHJldC5faXNWTGlzdCA9IHRydWU7XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XG5cbi8qKlxyXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIDxzbG90PlxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyU2xvdChuYW1lLCBmYWxsYmFja1JlbmRlciwgcHJvcHMsIGJpbmRPYmplY3QpIHtcclxuICAgIHZhciBzY29wZWRTbG90Rm4gPSB0aGlzLiRzY29wZWRTbG90c1tuYW1lXTtcclxuICAgIHZhciBub2RlcztcclxuICAgIGlmIChzY29wZWRTbG90Rm4pIHtcclxuICAgICAgICAvLyBzY29wZWQgc2xvdFxyXG4gICAgICAgIHByb3BzID0gcHJvcHMgfHwge307XHJcbiAgICAgICAgaWYgKGJpbmRPYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWlzT2JqZWN0KGJpbmRPYmplY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoJ3Nsb3Qgdi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3QnLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcm9wcyA9IGV4dGVuZChleHRlbmQoe30sIGJpbmRPYmplY3QpLCBwcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5vZGVzID1cclxuICAgICAgICAgICAgc2NvcGVkU2xvdEZuKHByb3BzKSB8fFxyXG4gICAgICAgICAgICAgICAgKGlzRnVuY3Rpb24oZmFsbGJhY2tSZW5kZXIpID8gZmFsbGJhY2tSZW5kZXIoKSA6IGZhbGxiYWNrUmVuZGVyKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG5vZGVzID1cclxuICAgICAgICAgICAgdGhpcy4kc2xvdHNbbmFtZV0gfHxcclxuICAgICAgICAgICAgICAgIChpc0Z1bmN0aW9uKGZhbGxiYWNrUmVuZGVyKSA/IGZhbGxiYWNrUmVuZGVyKCkgOiBmYWxsYmFja1JlbmRlcik7XHJcbiAgICB9XHJcbiAgICB2YXIgdGFyZ2V0ID0gcHJvcHMgJiYgcHJvcHMuc2xvdDtcclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7IHNsb3Q6IHRhcmdldCB9LCBub2Rlcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbm9kZXM7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZXNvbHZpbmcgZmlsdGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUZpbHRlcihpZCkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldCh0aGlzLiRvcHRpb25zLCAnZmlsdGVycycsIGlkLCB0cnVlKSB8fCBpZGVudGl0eTtcclxufVxuXG5mdW5jdGlvbiBpc0tleU5vdE1hdGNoKGV4cGVjdCwgYWN0dWFsKSB7XHJcbiAgICBpZiAoaXNBcnJheShleHBlY3QpKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cGVjdC5pbmRleE9mKGFjdHVhbCkgPT09IC0xO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cGVjdCAhPT0gYWN0dWFsO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgY2hlY2tpbmcga2V5Q29kZXMgZnJvbSBjb25maWcuXHJcbiAqIGV4cG9zZWQgYXMgVnVlLnByb3RvdHlwZS5fa1xyXG4gKiBwYXNzaW5nIGluIGV2ZW50S2V5TmFtZSBhcyBsYXN0IGFyZ3VtZW50IHNlcGFyYXRlbHkgZm9yIGJhY2t3YXJkcyBjb21wYXRcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrS2V5Q29kZXMoZXZlbnRLZXlDb2RlLCBrZXksIGJ1aWx0SW5LZXlDb2RlLCBldmVudEtleU5hbWUsIGJ1aWx0SW5LZXlOYW1lKSB7XHJcbiAgICB2YXIgbWFwcGVkS2V5Q29kZSA9IGNvbmZpZy5rZXlDb2Rlc1trZXldIHx8IGJ1aWx0SW5LZXlDb2RlO1xyXG4gICAgaWYgKGJ1aWx0SW5LZXlOYW1lICYmIGV2ZW50S2V5TmFtZSAmJiAhY29uZmlnLmtleUNvZGVzW2tleV0pIHtcclxuICAgICAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChidWlsdEluS2V5TmFtZSwgZXZlbnRLZXlOYW1lKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG1hcHBlZEtleUNvZGUpIHtcclxuICAgICAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChtYXBwZWRLZXlDb2RlLCBldmVudEtleUNvZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXZlbnRLZXlOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5cGhlbmF0ZShldmVudEtleU5hbWUpICE9PSBrZXk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXZlbnRLZXlDb2RlID09PSB1bmRlZmluZWQ7XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciBtZXJnaW5nIHYtYmluZD1cIm9iamVjdFwiIGludG8gYSBWTm9kZSdzIGRhdGEuXHJcbiAqL1xyXG5mdW5jdGlvbiBiaW5kT2JqZWN0UHJvcHMoZGF0YSwgdGFnLCB2YWx1ZSwgYXNQcm9wLCBpc1N5bmMpIHtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4kMigndi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3Qgb3IgQXJyYXkgdmFsdWUnLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b09iamVjdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGhhc2ggPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScgfHwgaXNSZXNlcnZlZEF0dHJpYnV0ZShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzaCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuYXR0cnMgJiYgZGF0YS5hdHRycy50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc2ggPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc1Byb3AgfHwgY29uZmlnLm11c3RVc2VQcm9wKHRhZywgdHlwZSwga2V5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkYXRhLmRvbVByb3BzIHx8IChkYXRhLmRvbVByb3BzID0ge30pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRhdGEuYXR0cnMgfHwgKGRhdGEuYXR0cnMgPSB7fSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcclxuICAgICAgICAgICAgICAgIHZhciBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShjYW1lbGl6ZWRLZXkgaW4gaGFzaCkgJiYgIShoeXBoZW5hdGVkS2V5IGluIGhhc2gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzaFtrZXldID0gdmFsdWVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTeW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbiA9IGRhdGEub24gfHwgKGRhdGEub24gPSB7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uW1widXBkYXRlOlwiLmNvbmNhdChrZXkpXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tleV0gPSAkZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIF9sb29wXzEoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XG5cbi8qKlxyXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIHN0YXRpYyB0cmVlcy5cclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlclN0YXRpYyhpbmRleCwgaXNJbkZvcikge1xyXG4gICAgdmFyIGNhY2hlZCA9IHRoaXMuX3N0YXRpY1RyZWVzIHx8ICh0aGlzLl9zdGF0aWNUcmVlcyA9IFtdKTtcclxuICAgIHZhciB0cmVlID0gY2FjaGVkW2luZGV4XTtcclxuICAgIC8vIGlmIGhhcyBhbHJlYWR5LXJlbmRlcmVkIHN0YXRpYyB0cmVlIGFuZCBub3QgaW5zaWRlIHYtZm9yLFxyXG4gICAgLy8gd2UgY2FuIHJldXNlIHRoZSBzYW1lIHRyZWUuXHJcbiAgICBpZiAodHJlZSAmJiAhaXNJbkZvcikge1xyXG4gICAgICAgIHJldHVybiB0cmVlO1xyXG4gICAgfVxyXG4gICAgLy8gb3RoZXJ3aXNlLCByZW5kZXIgYSBmcmVzaCB0cmVlLlxyXG4gICAgdHJlZSA9IGNhY2hlZFtpbmRleF0gPSB0aGlzLiRvcHRpb25zLnN0YXRpY1JlbmRlckZuc1tpbmRleF0uY2FsbCh0aGlzLl9yZW5kZXJQcm94eSwgdGhpcy5fYywgdGhpcyAvLyBmb3IgcmVuZGVyIGZucyBnZW5lcmF0ZWQgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50IHRlbXBsYXRlc1xyXG4gICAgKTtcclxuICAgIG1hcmtTdGF0aWMkMSh0cmVlLCBcIl9fc3RhdGljX19cIi5jb25jYXQoaW5kZXgpLCBmYWxzZSk7XHJcbiAgICByZXR1cm4gdHJlZTtcclxufVxyXG4vKipcclxuICogUnVudGltZSBoZWxwZXIgZm9yIHYtb25jZS5cclxuICogRWZmZWN0aXZlbHkgaXQgbWVhbnMgbWFya2luZyB0aGUgbm9kZSBhcyBzdGF0aWMgd2l0aCBhIHVuaXF1ZSBrZXkuXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXJrT25jZSh0cmVlLCBpbmRleCwga2V5KSB7XHJcbiAgICBtYXJrU3RhdGljJDEodHJlZSwgXCJfX29uY2VfX1wiLmNvbmNhdChpbmRleCkuY29uY2F0KGtleSA/IFwiX1wiLmNvbmNhdChrZXkpIDogXCJcIiksIHRydWUpO1xyXG4gICAgcmV0dXJuIHRyZWU7XHJcbn1cclxuZnVuY3Rpb24gbWFya1N0YXRpYyQxKHRyZWUsIGtleSwgaXNPbmNlKSB7XHJcbiAgICBpZiAoaXNBcnJheSh0cmVlKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodHJlZVtpXSAmJiB0eXBlb2YgdHJlZVtpXSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWVbaV0sIFwiXCIuY29uY2F0KGtleSwgXCJfXCIpLmNvbmNhdChpKSwgaXNPbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWUsIGtleSwgaXNPbmNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBtYXJrU3RhdGljTm9kZShub2RlLCBrZXksIGlzT25jZSkge1xyXG4gICAgbm9kZS5pc1N0YXRpYyA9IHRydWU7XHJcbiAgICBub2RlLmtleSA9IGtleTtcclxuICAgIG5vZGUuaXNPbmNlID0gaXNPbmNlO1xyXG59XG5cbmZ1bmN0aW9uIGJpbmRPYmplY3RMaXN0ZW5lcnMoZGF0YSwgdmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuJDIoJ3Ytb24gd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCB2YWx1ZScsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIG9uID0gKGRhdGEub24gPSBkYXRhLm9uID8gZXh0ZW5kKHt9LCBkYXRhLm9uKSA6IHt9KTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBvbltrZXldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG91cnMgPSB2YWx1ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgb25ba2V5XSA9IGV4aXN0aW5nID8gW10uY29uY2F0KGV4aXN0aW5nLCBvdXJzKSA6IG91cnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxuXG5mdW5jdGlvbiByZXNvbHZlU2NvcGVkU2xvdHMoZm5zLCByZXMsIFxyXG4vLyB0aGUgZm9sbG93aW5nIGFyZSBhZGRlZCBpbiAyLjZcclxuaGFzRHluYW1pY0tleXMsIGNvbnRlbnRIYXNoS2V5KSB7XHJcbiAgICByZXMgPSByZXMgfHwgeyAkc3RhYmxlOiAhaGFzRHluYW1pY0tleXMgfTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHNsb3QgPSBmbnNbaV07XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZVNjb3BlZFNsb3RzKHNsb3QsIHJlcywgaGFzRHluYW1pY0tleXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIC8vIG1hcmtlciBmb3IgcmV2ZXJzZSBwcm94eWluZyB2LXNsb3Qgd2l0aG91dCBzY29wZSBvbiB0aGlzLiRzbG90c1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIGlmIChzbG90LnByb3h5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICBzbG90LmZuLnByb3h5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNbc2xvdC5rZXldID0gc2xvdC5mbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY29udGVudEhhc2hLZXkpIHtcclxuICAgICAgICByZXMuJGtleSA9IGNvbnRlbnRIYXNoS2V5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxuXG4vLyBoZWxwZXIgdG8gcHJvY2VzcyBkeW5hbWljIGtleXMgZm9yIGR5bmFtaWMgYXJndW1lbnRzIGluIHYtYmluZCBhbmQgdi1vbi5cclxuZnVuY3Rpb24gYmluZER5bmFtaWNLZXlzKGJhc2VPYmosIHZhbHVlcykge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICB2YXIga2V5ID0gdmFsdWVzW2ldO1xyXG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkpIHtcclxuICAgICAgICAgICAgYmFzZU9ialt2YWx1ZXNbaV1dID0gdmFsdWVzW2kgKyAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBrZXkgIT09ICcnICYmIGtleSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBudWxsIGlzIGEgc3BlY2lhbCB2YWx1ZSBmb3IgZXhwbGljaXRseSByZW1vdmluZyBhIGJpbmRpbmdcclxuICAgICAgICAgICAgd2FybiQyKFwiSW52YWxpZCB2YWx1ZSBmb3IgZHluYW1pYyBkaXJlY3RpdmUgYXJndW1lbnQgKGV4cGVjdGVkIHN0cmluZyBvciBudWxsKTogXCIuY29uY2F0KGtleSksIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBiYXNlT2JqO1xyXG59XHJcbi8vIGhlbHBlciB0byBkeW5hbWljYWxseSBhcHBlbmQgbW9kaWZpZXIgcnVudGltZSBtYXJrZXJzIHRvIGV2ZW50IG5hbWVzLlxyXG4vLyBlbnN1cmUgb25seSBhcHBlbmQgd2hlbiB2YWx1ZSBpcyBhbHJlYWR5IHN0cmluZywgb3RoZXJ3aXNlIGl0IHdpbGwgYmUgY2FzdFxyXG4vLyB0byBzdHJpbmcgYW5kIGNhdXNlIHRoZSB0eXBlIGNoZWNrIHRvIG1pc3MuXHJcbmZ1bmN0aW9uIHByZXBlbmRNb2RpZmllcih2YWx1ZSwgc3ltYm9sKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHN5bWJvbCArIHZhbHVlIDogdmFsdWU7XHJcbn1cblxuZnVuY3Rpb24gaW5zdGFsbFJlbmRlckhlbHBlcnModGFyZ2V0KSB7XHJcbiAgICB0YXJnZXQuX28gPSBtYXJrT25jZTtcclxuICAgIHRhcmdldC5fbiA9IHRvTnVtYmVyO1xyXG4gICAgdGFyZ2V0Ll9zID0gdG9TdHJpbmc7XHJcbiAgICB0YXJnZXQuX2wgPSByZW5kZXJMaXN0O1xyXG4gICAgdGFyZ2V0Ll90ID0gcmVuZGVyU2xvdDtcclxuICAgIHRhcmdldC5fcSA9IGxvb3NlRXF1YWw7XHJcbiAgICB0YXJnZXQuX2kgPSBsb29zZUluZGV4T2Y7XHJcbiAgICB0YXJnZXQuX20gPSByZW5kZXJTdGF0aWM7XHJcbiAgICB0YXJnZXQuX2YgPSByZXNvbHZlRmlsdGVyO1xyXG4gICAgdGFyZ2V0Ll9rID0gY2hlY2tLZXlDb2RlcztcclxuICAgIHRhcmdldC5fYiA9IGJpbmRPYmplY3RQcm9wcztcclxuICAgIHRhcmdldC5fdiA9IGNyZWF0ZVRleHRWTm9kZTtcclxuICAgIHRhcmdldC5fZSA9IGNyZWF0ZUVtcHR5Vk5vZGU7XHJcbiAgICB0YXJnZXQuX3UgPSByZXNvbHZlU2NvcGVkU2xvdHM7XHJcbiAgICB0YXJnZXQuX2cgPSBiaW5kT2JqZWN0TGlzdGVuZXJzO1xyXG4gICAgdGFyZ2V0Ll9kID0gYmluZER5bmFtaWNLZXlzO1xyXG4gICAgdGFyZ2V0Ll9wID0gcHJlcGVuZE1vZGlmaWVyO1xyXG59XG5cbi8qKlxyXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVzb2x2aW5nIHJhdyBjaGlsZHJlbiBWTm9kZXMgaW50byBhIHNsb3Qgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZVNsb3RzKGNoaWxkcmVuLCBjb250ZXh0KSB7XHJcbiAgICBpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICB2YXIgc2xvdHMgPSB7fTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgdmFyIGRhdGEgPSBjaGlsZC5kYXRhO1xyXG4gICAgICAgIC8vIHJlbW92ZSBzbG90IGF0dHJpYnV0ZSBpZiB0aGUgbm9kZSBpcyByZXNvbHZlZCBhcyBhIFZ1ZSBzbG90IG5vZGVcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmF0dHJzICYmIGRhdGEuYXR0cnMuc2xvdCkge1xyXG4gICAgICAgICAgICBkZWxldGUgZGF0YS5hdHRycy5zbG90O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBuYW1lZCBzbG90cyBzaG91bGQgb25seSBiZSByZXNwZWN0ZWQgaWYgdGhlIHZub2RlIHdhcyByZW5kZXJlZCBpbiB0aGVcclxuICAgICAgICAvLyBzYW1lIGNvbnRleHQuXHJcbiAgICAgICAgaWYgKChjaGlsZC5jb250ZXh0ID09PSBjb250ZXh0IHx8IGNoaWxkLmZuQ29udGV4dCA9PT0gY29udGV4dCkgJiZcclxuICAgICAgICAgICAgZGF0YSAmJlxyXG4gICAgICAgICAgICBkYXRhLnNsb3QgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZV8xID0gZGF0YS5zbG90O1xyXG4gICAgICAgICAgICB2YXIgc2xvdCA9IHNsb3RzW25hbWVfMV0gfHwgKHNsb3RzW25hbWVfMV0gPSBbXSk7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgICAgICAgICAgIHNsb3QucHVzaC5hcHBseShzbG90LCBjaGlsZC5jaGlsZHJlbiB8fCBbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzbG90LnB1c2goY2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAoc2xvdHMuZGVmYXVsdCB8fCAoc2xvdHMuZGVmYXVsdCA9IFtdKSkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gaWdub3JlIHNsb3RzIHRoYXQgY29udGFpbnMgb25seSB3aGl0ZXNwYWNlXHJcbiAgICBmb3IgKHZhciBuYW1lXzIgaW4gc2xvdHMpIHtcclxuICAgICAgICBpZiAoc2xvdHNbbmFtZV8yXS5ldmVyeShpc1doaXRlc3BhY2UpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzbG90c1tuYW1lXzJdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzbG90cztcclxufVxyXG5mdW5jdGlvbiBpc1doaXRlc3BhY2Uobm9kZSkge1xyXG4gICAgcmV0dXJuIChub2RlLmlzQ29tbWVudCAmJiAhbm9kZS5hc3luY0ZhY3RvcnkpIHx8IG5vZGUudGV4dCA9PT0gJyAnO1xyXG59XG5cbmZ1bmN0aW9uIGlzQXN5bmNQbGFjZWhvbGRlcihub2RlKSB7XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG5vdCByZWFsbHkgYm9vbGVhbiB0eXBlXHJcbiAgICByZXR1cm4gbm9kZS5pc0NvbW1lbnQgJiYgbm9kZS5hc3luY0ZhY3Rvcnk7XHJcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU2NvcGVkU2xvdHMob3duZXJWbSwgc2NvcGVkU2xvdHMsIG5vcm1hbFNsb3RzLCBwcmV2U2NvcGVkU2xvdHMpIHtcclxuICAgIHZhciByZXM7XHJcbiAgICB2YXIgaGFzTm9ybWFsU2xvdHMgPSBPYmplY3Qua2V5cyhub3JtYWxTbG90cykubGVuZ3RoID4gMDtcclxuICAgIHZhciBpc1N0YWJsZSA9IHNjb3BlZFNsb3RzID8gISFzY29wZWRTbG90cy4kc3RhYmxlIDogIWhhc05vcm1hbFNsb3RzO1xyXG4gICAgdmFyIGtleSA9IHNjb3BlZFNsb3RzICYmIHNjb3BlZFNsb3RzLiRrZXk7XHJcbiAgICBpZiAoIXNjb3BlZFNsb3RzKSB7XHJcbiAgICAgICAgcmVzID0ge307XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzY29wZWRTbG90cy5fbm9ybWFsaXplZCkge1xyXG4gICAgICAgIC8vIGZhc3QgcGF0aCAxOiBjaGlsZCBjb21wb25lbnQgcmUtcmVuZGVyIG9ubHksIHBhcmVudCBkaWQgbm90IGNoYW5nZVxyXG4gICAgICAgIHJldHVybiBzY29wZWRTbG90cy5fbm9ybWFsaXplZDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU3RhYmxlICYmXHJcbiAgICAgICAgcHJldlNjb3BlZFNsb3RzICYmXHJcbiAgICAgICAgcHJldlNjb3BlZFNsb3RzICE9PSBlbXB0eU9iamVjdCAmJlxyXG4gICAgICAgIGtleSA9PT0gcHJldlNjb3BlZFNsb3RzLiRrZXkgJiZcclxuICAgICAgICAhaGFzTm9ybWFsU2xvdHMgJiZcclxuICAgICAgICAhcHJldlNjb3BlZFNsb3RzLiRoYXNOb3JtYWwpIHtcclxuICAgICAgICAvLyBmYXN0IHBhdGggMjogc3RhYmxlIHNjb3BlZCBzbG90cyB3LyBubyBub3JtYWwgc2xvdHMgdG8gcHJveHksXHJcbiAgICAgICAgLy8gb25seSBuZWVkIHRvIG5vcm1hbGl6ZSBvbmNlXHJcbiAgICAgICAgcmV0dXJuIHByZXZTY29wZWRTbG90cztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJlcyA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIGtleV8xIGluIHNjb3BlZFNsb3RzKSB7XHJcbiAgICAgICAgICAgIGlmIChzY29wZWRTbG90c1trZXlfMV0gJiYga2V5XzFbMF0gIT09ICckJykge1xyXG4gICAgICAgICAgICAgICAgcmVzW2tleV8xXSA9IG5vcm1hbGl6ZVNjb3BlZFNsb3Qob3duZXJWbSwgbm9ybWFsU2xvdHMsIGtleV8xLCBzY29wZWRTbG90c1trZXlfMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZXhwb3NlIG5vcm1hbCBzbG90cyBvbiBzY29wZWRTbG90c1xyXG4gICAgZm9yICh2YXIga2V5XzIgaW4gbm9ybWFsU2xvdHMpIHtcclxuICAgICAgICBpZiAoIShrZXlfMiBpbiByZXMpKSB7XHJcbiAgICAgICAgICAgIHJlc1trZXlfMl0gPSBwcm94eU5vcm1hbFNsb3Qobm9ybWFsU2xvdHMsIGtleV8yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBhdm9yaWF6IHNlZW1zIHRvIG1vY2sgYSBub24tZXh0ZW5zaWJsZSAkc2NvcGVkU2xvdHMgb2JqZWN0XHJcbiAgICAvLyBhbmQgd2hlbiB0aGF0IGlzIHBhc3NlZCBkb3duIHRoaXMgd291bGQgY2F1c2UgYW4gZXJyb3JcclxuICAgIGlmIChzY29wZWRTbG90cyAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKHNjb3BlZFNsb3RzKSkge1xyXG4gICAgICAgIHNjb3BlZFNsb3RzLl9ub3JtYWxpemVkID0gcmVzO1xyXG4gICAgfVxyXG4gICAgZGVmKHJlcywgJyRzdGFibGUnLCBpc1N0YWJsZSk7XHJcbiAgICBkZWYocmVzLCAnJGtleScsIGtleSk7XHJcbiAgICBkZWYocmVzLCAnJGhhc05vcm1hbCcsIGhhc05vcm1hbFNsb3RzKTtcclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplU2NvcGVkU2xvdCh2bSwgbm9ybWFsU2xvdHMsIGtleSwgZm4pIHtcclxuICAgIHZhciBub3JtYWxpemVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXIgPSBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKHZtKTtcclxuICAgICAgICB2YXIgcmVzID0gYXJndW1lbnRzLmxlbmd0aCA/IGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cykgOiBmbih7fSk7XHJcbiAgICAgICAgcmVzID1cclxuICAgICAgICAgICAgcmVzICYmIHR5cGVvZiByZXMgPT09ICdvYmplY3QnICYmICFpc0FycmF5KHJlcylcclxuICAgICAgICAgICAgICAgID8gW3Jlc10gLy8gc2luZ2xlIHZub2RlXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZUNoaWxkcmVuKHJlcyk7XHJcbiAgICAgICAgdmFyIHZub2RlID0gcmVzICYmIHJlc1swXTtcclxuICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoY3VyKTtcclxuICAgICAgICByZXR1cm4gcmVzICYmXHJcbiAgICAgICAgICAgICghdm5vZGUgfHxcclxuICAgICAgICAgICAgICAgIChyZXMubGVuZ3RoID09PSAxICYmIHZub2RlLmlzQ29tbWVudCAmJiAhaXNBc3luY1BsYWNlaG9sZGVyKHZub2RlKSkpIC8vICM5NjU4LCAjMTAzOTFcclxuICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgOiByZXM7XHJcbiAgICB9O1xyXG4gICAgLy8gdGhpcyBpcyBhIHNsb3QgdXNpbmcgdGhlIG5ldyB2LXNsb3Qgc3ludGF4IHdpdGhvdXQgc2NvcGUuIGFsdGhvdWdoIGl0IGlzXHJcbiAgICAvLyBjb21waWxlZCBhcyBhIHNjb3BlZCBzbG90LCByZW5kZXIgZm4gdXNlcnMgd291bGQgZXhwZWN0IGl0IHRvIGJlIHByZXNlbnRcclxuICAgIC8vIG9uIHRoaXMuJHNsb3RzIGJlY2F1c2UgdGhlIHVzYWdlIGlzIHNlbWFudGljYWxseSBhIG5vcm1hbCBzbG90LlxyXG4gICAgaWYgKGZuLnByb3h5KSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vcm1hbFNsb3RzLCBrZXksIHtcclxuICAgICAgICAgICAgZ2V0OiBub3JtYWxpemVkLFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59XHJcbmZ1bmN0aW9uIHByb3h5Tm9ybWFsU2xvdChzbG90cywga2V5KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gc2xvdHNba2V5XTsgfTtcclxufVxuXG5mdW5jdGlvbiBpbml0U2V0dXAodm0pIHtcclxuICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XHJcbiAgICB2YXIgc2V0dXAgPSBvcHRpb25zLnNldHVwO1xyXG4gICAgaWYgKHNldHVwKSB7XHJcbiAgICAgICAgdmFyIGN0eCA9ICh2bS5fc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KHZtKSk7XHJcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKHZtKTtcclxuICAgICAgICBwdXNoVGFyZ2V0KCk7XHJcbiAgICAgICAgdmFyIHNldHVwUmVzdWx0ID0gaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoc2V0dXAsIG51bGwsIFt2bS5fcHJvcHMgfHwgc2hhbGxvd1JlYWN0aXZlKHt9KSwgY3R4XSwgdm0sIFwic2V0dXBcIik7XHJcbiAgICAgICAgcG9wVGFyZ2V0KCk7XHJcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbmRlciBmdW5jdGlvblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIG9wdGlvbnMucmVuZGVyID0gc2V0dXBSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgICAgICAvLyBiaW5kaW5nc1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzZXR1cFJlc3VsdCBpbnN0YW5jZW9mIFZOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJzZXR1cCgpIHNob3VsZCBub3QgcmV0dXJuIFZOb2RlcyBkaXJlY3RseSAtIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcInJldHVybiBhIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2bS5fc2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgICAgICAvLyBfX3NmYyBpbmRpY2F0ZXMgY29tcGlsZWQgYmluZGluZ3MgZnJvbSA8c2NyaXB0IHNldHVwPlxyXG4gICAgICAgICAgICBpZiAoIXNldHVwUmVzdWx0Ll9fc2ZjKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2V0dXBSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWQoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eVdpdGhSZWZVbndyYXAodm0sIHNldHVwUmVzdWx0LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMihcIkF2b2lkIHVzaW5nIHZhcmlhYmxlcyB0aGF0IHN0YXJ0IHdpdGggXyBvciAkIGluIHNldHVwKCkuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGV4cG9zZWQgZm9yIGNvbXBpbGVkIHJlbmRlciBmblxyXG4gICAgICAgICAgICAgICAgdmFyIHByb3h5ID0gKHZtLl9zZXR1cFByb3h5ID0ge30pO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNldHVwUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ19fc2ZjJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eVdpdGhSZWZVbndyYXAocHJveHksIHNldHVwUmVzdWx0LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHNldHVwUmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2FybiQyKFwic2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6IFwiLmNvbmNhdChzZXR1cFJlc3VsdCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBzZXR1cFJlc3VsdCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQodm0pIHtcclxuICAgIHZhciBleHBvc2VDYWxsZWQgPSBmYWxzZTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICBpZiAoIXZtLl9hdHRyc1Byb3h5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJveHkgPSAodm0uX2F0dHJzUHJveHkgPSB7fSk7XHJcbiAgICAgICAgICAgICAgICBkZWYocHJveHksICdfdl9hdHRyX3Byb3h5JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBzeW5jU2V0dXBQcm94eShwcm94eSwgdm0uJGF0dHJzLCBlbXB0eU9iamVjdCwgdm0sICckYXR0cnMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdm0uX2F0dHJzUHJveHk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgbGlzdGVuZXJzKCkge1xyXG4gICAgICAgICAgICBpZiAoIXZtLl9saXN0ZW5lcnNQcm94eSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3h5ID0gKHZtLl9saXN0ZW5lcnNQcm94eSA9IHt9KTtcclxuICAgICAgICAgICAgICAgIHN5bmNTZXR1cFByb3h5KHByb3h5LCB2bS4kbGlzdGVuZXJzLCBlbXB0eU9iamVjdCwgdm0sICckbGlzdGVuZXJzJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZtLl9saXN0ZW5lcnNQcm94eTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBzbG90cygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGluaXRTbG90c1Byb3h5KHZtKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVtaXQ6IGJpbmQkMSh2bS4kZW1pdCwgdm0pLFxyXG4gICAgICAgIGV4cG9zZTogZnVuY3Rpb24gKGV4cG9zZWQpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChleHBvc2VDYWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuJDIoXCJleHBvc2UoKSBzaG91bGQgYmUgY2FsbGVkIG9ubHkgb25jZSBwZXIgc2V0dXAoKS5cIiwgdm0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXhwb3NlQ2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXhwb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZXhwb3NlZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5V2l0aFJlZlVud3JhcCh2bSwgZXhwb3NlZCwga2V5KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBzeW5jU2V0dXBQcm94eSh0bywgZnJvbSwgcHJldiwgaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xyXG4gICAgICAgIGlmICghKGtleSBpbiB0bykpIHtcclxuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGRlZmluZVByb3h5QXR0cih0bywga2V5LCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZyb21ba2V5XSAhPT0gcHJldltrZXldKSB7XHJcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAodmFyIGtleSBpbiB0bykge1xyXG4gICAgICAgIGlmICghKGtleSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZGVsZXRlIHRvW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoYW5nZWQ7XHJcbn1cclxuZnVuY3Rpb24gZGVmaW5lUHJveHlBdHRyKHByb3h5LCBrZXksIGluc3RhbmNlLCB0eXBlKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksIGtleSwge1xyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VbdHlwZV1ba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBpbml0U2xvdHNQcm94eSh2bSkge1xyXG4gICAgaWYgKCF2bS5fc2xvdHNQcm94eSkge1xyXG4gICAgICAgIHN5bmNTZXR1cFNsb3RzKCh2bS5fc2xvdHNQcm94eSA9IHt9KSwgdm0uJHNjb3BlZFNsb3RzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bS5fc2xvdHNQcm94eTtcclxufVxyXG5mdW5jdGlvbiBzeW5jU2V0dXBTbG90cyh0bywgZnJvbSkge1xyXG4gICAgZm9yICh2YXIga2V5IGluIGZyb20pIHtcclxuICAgICAgICB0b1trZXldID0gZnJvbVtrZXldO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIga2V5IGluIHRvKSB7XHJcbiAgICAgICAgaWYgKCEoa2V5IGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0b1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGludGVybmFsIHVzZSBtYW51YWwgdHlwZSBkZWYgYmVjYXVzZSBwdWJsaWMgc2V0dXAgY29udGV4dCB0eXBlIHJlbGllcyBvblxyXG4gKiBsZWdhY3kgVk5vZGUgdHlwZXNcclxuICovXHJcbmZ1bmN0aW9uIHVzZVNsb3RzKCkge1xyXG4gICAgcmV0dXJuIGdldENvbnRleHQoKS5zbG90cztcclxufVxyXG4vKipcclxuICogQGludGVybmFsIHVzZSBtYW51YWwgdHlwZSBkZWYgYmVjYXVzZSBwdWJsaWMgc2V0dXAgY29udGV4dCB0eXBlIHJlbGllcyBvblxyXG4gKiBsZWdhY3kgVk5vZGUgdHlwZXNcclxuICovXHJcbmZ1bmN0aW9uIHVzZUF0dHJzKCkge1xyXG4gICAgcmV0dXJuIGdldENvbnRleHQoKS5hdHRycztcclxufVxyXG4vKipcclxuICogVnVlIDIgb25seVxyXG4gKiBAaW50ZXJuYWwgdXNlIG1hbnVhbCB0eXBlIGRlZiBiZWNhdXNlIHB1YmxpYyBzZXR1cCBjb250ZXh0IHR5cGUgcmVsaWVzIG9uXHJcbiAqIGxlZ2FjeSBWTm9kZSB0eXBlc1xyXG4gKi9cclxuZnVuY3Rpb24gdXNlTGlzdGVuZXJzKCkge1xyXG4gICAgcmV0dXJuIGdldENvbnRleHQoKS5saXN0ZW5lcnM7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICB3YXJuJDIoXCJ1c2VDb250ZXh0KCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLlwiKTtcclxuICAgIH1cclxuICAgIHZhciB2bSA9IGN1cnJlbnRJbnN0YW5jZTtcclxuICAgIHJldHVybiB2bS5fc2V0dXBDb250ZXh0IHx8ICh2bS5fc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KHZtKSk7XHJcbn1cclxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciBtZXJnaW5nIGRlZmF1bHQgZGVjbGFyYXRpb25zLiBJbXBvcnRlZCBieSBjb21waWxlZCBjb2RlXHJcbiAqIG9ubHkuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gbWVyZ2VEZWZhdWx0cyhyYXcsIGRlZmF1bHRzKSB7XHJcbiAgICB2YXIgcHJvcHMgPSBpc0FycmF5KHJhdylcclxuICAgICAgICA/IHJhdy5yZWR1Y2UoZnVuY3Rpb24gKG5vcm1hbGl6ZWQsIHApIHsgcmV0dXJuICgobm9ybWFsaXplZFtwXSA9IHt9KSwgbm9ybWFsaXplZCk7IH0sIHt9KVxyXG4gICAgICAgIDogcmF3O1xyXG4gICAgZm9yICh2YXIga2V5IGluIGRlZmF1bHRzKSB7XHJcbiAgICAgICAgdmFyIG9wdCA9IHByb3BzW2tleV07XHJcbiAgICAgICAgaWYgKG9wdCkge1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHsgdHlwZTogb3B0LCBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHQuZGVmYXVsdCA9IGRlZmF1bHRzW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob3B0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB7IGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICB3YXJuJDIoXCJwcm9wcyBkZWZhdWx0IGtleSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGhhcyBubyBjb3JyZXNwb25kaW5nIGRlY2xhcmF0aW9uLlwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByb3BzO1xyXG59XG5cbmZ1bmN0aW9uIGluaXRSZW5kZXIodm0pIHtcclxuICAgIHZtLl92bm9kZSA9IG51bGw7IC8vIHRoZSByb290IG9mIHRoZSBjaGlsZCB0cmVlXHJcbiAgICB2bS5fc3RhdGljVHJlZXMgPSBudWxsOyAvLyB2LW9uY2UgY2FjaGVkIHRyZWVzXHJcbiAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zO1xyXG4gICAgdmFyIHBhcmVudFZub2RlID0gKHZtLiR2bm9kZSA9IG9wdGlvbnMuX3BhcmVudFZub2RlKTsgLy8gdGhlIHBsYWNlaG9sZGVyIG5vZGUgaW4gcGFyZW50IHRyZWVcclxuICAgIHZhciByZW5kZXJDb250ZXh0ID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuY29udGV4dDtcclxuICAgIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyhvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiwgcmVuZGVyQ29udGV4dCk7XHJcbiAgICB2bS4kc2NvcGVkU2xvdHMgPSBwYXJlbnRWbm9kZVxyXG4gICAgICAgID8gbm9ybWFsaXplU2NvcGVkU2xvdHModm0uJHBhcmVudCwgcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cywgdm0uJHNsb3RzKVxyXG4gICAgICAgIDogZW1wdHlPYmplY3Q7XHJcbiAgICAvLyBiaW5kIHRoZSBjcmVhdGVFbGVtZW50IGZuIHRvIHRoaXMgaW5zdGFuY2VcclxuICAgIC8vIHNvIHRoYXQgd2UgZ2V0IHByb3BlciByZW5kZXIgY29udGV4dCBpbnNpZGUgaXQuXHJcbiAgICAvLyBhcmdzIG9yZGVyOiB0YWcsIGRhdGEsIGNoaWxkcmVuLCBub3JtYWxpemF0aW9uVHlwZSwgYWx3YXlzTm9ybWFsaXplXHJcbiAgICAvLyBpbnRlcm5hbCB2ZXJzaW9uIGlzIHVzZWQgYnkgcmVuZGVyIGZ1bmN0aW9ucyBjb21waWxlZCBmcm9tIHRlbXBsYXRlc1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgdm0uX2MgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudCQxKHZtLCBhLCBiLCBjLCBkLCBmYWxzZSk7IH07XHJcbiAgICAvLyBub3JtYWxpemF0aW9uIGlzIGFsd2F5cyBhcHBsaWVkIGZvciB0aGUgcHVibGljIHZlcnNpb24sIHVzZWQgaW5cclxuICAgIC8vIHVzZXItd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zLlxyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgdm0uJGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudCQxKHZtLCBhLCBiLCBjLCBkLCB0cnVlKTsgfTtcclxuICAgIC8vICRhdHRycyAmICRsaXN0ZW5lcnMgYXJlIGV4cG9zZWQgZm9yIGVhc2llciBIT0MgY3JlYXRpb24uXHJcbiAgICAvLyB0aGV5IG5lZWQgdG8gYmUgcmVhY3RpdmUgc28gdGhhdCBIT0NzIHVzaW5nIHRoZW0gYXJlIGFsd2F5cyB1cGRhdGVkXHJcbiAgICB2YXIgcGFyZW50RGF0YSA9IHBhcmVudFZub2RlICYmIHBhcmVudFZub2RlLmRhdGE7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBkZWZpbmVSZWFjdGl2ZSh2bSwgJyRhdHRycycsIChwYXJlbnREYXRhICYmIHBhcmVudERhdGEuYXR0cnMpIHx8IGVtcHR5T2JqZWN0LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybiQyKFwiJGF0dHJzIGlzIHJlYWRvbmx5LlwiLCB2bSk7XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgZGVmaW5lUmVhY3RpdmUodm0sICckbGlzdGVuZXJzJywgb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybiQyKFwiJGxpc3RlbmVycyBpcyByZWFkb25seS5cIiwgdm0pO1xyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZGVmaW5lUmVhY3RpdmUodm0sICckYXR0cnMnLCAocGFyZW50RGF0YSAmJiBwYXJlbnREYXRhLmF0dHJzKSB8fCBlbXB0eU9iamVjdCwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgZGVmaW5lUmVhY3RpdmUodm0sICckbGlzdGVuZXJzJywgb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0LCBudWxsLCB0cnVlKTtcclxuICAgIH1cclxufVxyXG52YXIgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcclxuZnVuY3Rpb24gcmVuZGVyTWl4aW4oVnVlKSB7XHJcbiAgICAvLyBpbnN0YWxsIHJ1bnRpbWUgY29udmVuaWVuY2UgaGVscGVyc1xyXG4gICAgaW5zdGFsbFJlbmRlckhlbHBlcnMoVnVlLnByb3RvdHlwZSk7XHJcbiAgICBWdWUucHJvdG90eXBlLiRuZXh0VGljayA9IGZ1bmN0aW9uIChmbikge1xyXG4gICAgICAgIHJldHVybiBuZXh0VGljayhmbiwgdGhpcyk7XHJcbiAgICB9O1xyXG4gICAgVnVlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIF9hID0gdm0uJG9wdGlvbnMsIHJlbmRlciA9IF9hLnJlbmRlciwgX3BhcmVudFZub2RlID0gX2EuX3BhcmVudFZub2RlO1xyXG4gICAgICAgIGlmIChfcGFyZW50Vm5vZGUgJiYgdm0uX2lzTW91bnRlZCkge1xyXG4gICAgICAgICAgICB2bS4kc2NvcGVkU2xvdHMgPSBub3JtYWxpemVTY29wZWRTbG90cyh2bS4kcGFyZW50LCBfcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cywgdm0uJHNsb3RzLCB2bS4kc2NvcGVkU2xvdHMpO1xyXG4gICAgICAgICAgICBpZiAodm0uX3Nsb3RzUHJveHkpIHtcclxuICAgICAgICAgICAgICAgIHN5bmNTZXR1cFNsb3RzKHZtLl9zbG90c1Byb3h5LCB2bS4kc2NvcGVkU2xvdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldCBwYXJlbnQgdm5vZGUuIHRoaXMgYWxsb3dzIHJlbmRlciBmdW5jdGlvbnMgdG8gaGF2ZSBhY2Nlc3NcclxuICAgICAgICAvLyB0byB0aGUgZGF0YSBvbiB0aGUgcGxhY2Vob2xkZXIgbm9kZS5cclxuICAgICAgICB2bS4kdm5vZGUgPSBfcGFyZW50Vm5vZGU7XHJcbiAgICAgICAgLy8gcmVuZGVyIHNlbGZcclxuICAgICAgICB2YXIgdm5vZGU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVGhlcmUncyBubyBuZWVkIHRvIG1haW50YWluIGEgc3RhY2sgYmVjYXVzZSBhbGwgcmVuZGVyIGZucyBhcmUgY2FsbGVkXHJcbiAgICAgICAgICAgIC8vIHNlcGFyYXRlbHkgZnJvbSBvbmUgYW5vdGhlci4gTmVzdGVkIGNvbXBvbmVudCdzIHJlbmRlciBmbnMgYXJlIGNhbGxlZFxyXG4gICAgICAgICAgICAvLyB3aGVuIHBhcmVudCBjb21wb25lbnQgaXMgcGF0Y2hlZC5cclxuICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKHZtKTtcclxuICAgICAgICAgICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gdm07XHJcbiAgICAgICAgICAgIHZub2RlID0gcmVuZGVyLmNhbGwodm0uX3JlbmRlclByb3h5LCB2bS4kY3JlYXRlRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGUsIHZtLCBcInJlbmRlclwiKTtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIGVycm9yIHJlbmRlciByZXN1bHQsXHJcbiAgICAgICAgICAgIC8vIG9yIHByZXZpb3VzIHZub2RlIHRvIHByZXZlbnQgcmVuZGVyIGVycm9yIGNhdXNpbmcgYmxhbmsgY29tcG9uZW50XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHZtLiRvcHRpb25zLnJlbmRlckVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlID0gdm0uJG9wdGlvbnMucmVuZGVyRXJyb3IuY2FsbCh2bS5fcmVuZGVyUHJveHksIHZtLiRjcmVhdGVFbGVtZW50LCBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sIFwicmVuZGVyRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUgPSB2bS5fdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZSA9IHZtLl92bm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcclxuICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIHRoZSByZXR1cm5lZCBhcnJheSBjb250YWlucyBvbmx5IGEgc2luZ2xlIG5vZGUsIGFsbG93IGl0XHJcbiAgICAgICAgaWYgKGlzQXJyYXkodm5vZGUpICYmIHZub2RlLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICB2bm9kZSA9IHZub2RlWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXR1cm4gZW1wdHkgdm5vZGUgaW4gY2FzZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGVycm9yZWQgb3V0XHJcbiAgICAgICAgaWYgKCEodm5vZGUgaW5zdGFuY2VvZiBWTm9kZSkpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNBcnJheSh2bm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMignTXVsdGlwbGUgcm9vdCBub2RlcyByZXR1cm5lZCBmcm9tIHJlbmRlciBmdW5jdGlvbi4gUmVuZGVyIGZ1bmN0aW9uICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdzaG91bGQgcmV0dXJuIGEgc2luZ2xlIHJvb3Qgbm9kZS4nLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdm5vZGUgPSBjcmVhdGVFbXB0eVZOb2RlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldCBwYXJlbnRcclxuICAgICAgICB2bm9kZS5wYXJlbnQgPSBfcGFyZW50Vm5vZGU7XHJcbiAgICAgICAgcmV0dXJuIHZub2RlO1xyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBlbnN1cmVDdG9yKGNvbXAsIGJhc2UpIHtcclxuICAgIGlmIChjb21wLl9fZXNNb2R1bGUgfHwgKGhhc1N5bWJvbCAmJiBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKSkge1xyXG4gICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNPYmplY3QoY29tcCkgPyBiYXNlLmV4dGVuZChjb21wKSA6IGNvbXA7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQXN5bmNQbGFjZWhvbGRlcihmYWN0b3J5LCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbiwgdGFnKSB7XHJcbiAgICB2YXIgbm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTtcclxuICAgIG5vZGUuYXN5bmNGYWN0b3J5ID0gZmFjdG9yeTtcclxuICAgIG5vZGUuYXN5bmNNZXRhID0geyBkYXRhOiBkYXRhLCBjb250ZXh0OiBjb250ZXh0LCBjaGlsZHJlbjogY2hpbGRyZW4sIHRhZzogdGFnIH07XHJcbiAgICByZXR1cm4gbm9kZTtcclxufVxyXG5mdW5jdGlvbiByZXNvbHZlQXN5bmNDb21wb25lbnQoZmFjdG9yeSwgYmFzZUN0b3IpIHtcclxuICAgIGlmIChpc1RydWUoZmFjdG9yeS5lcnJvcikgJiYgaXNEZWYoZmFjdG9yeS5lcnJvckNvbXApKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkuZXJyb3JDb21wO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzRGVmKGZhY3RvcnkucmVzb2x2ZWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkucmVzb2x2ZWQ7XHJcbiAgICB9XHJcbiAgICB2YXIgb3duZXIgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAob3duZXIgJiYgaXNEZWYoZmFjdG9yeS5vd25lcnMpICYmIGZhY3Rvcnkub3duZXJzLmluZGV4T2Yob3duZXIpID09PSAtMSkge1xyXG4gICAgICAgIC8vIGFscmVhZHkgcGVuZGluZ1xyXG4gICAgICAgIGZhY3Rvcnkub3duZXJzLnB1c2gob3duZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzVHJ1ZShmYWN0b3J5LmxvYWRpbmcpICYmIGlzRGVmKGZhY3RvcnkubG9hZGluZ0NvbXApKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkubG9hZGluZ0NvbXA7XHJcbiAgICB9XHJcbiAgICBpZiAob3duZXIgJiYgIWlzRGVmKGZhY3Rvcnkub3duZXJzKSkge1xyXG4gICAgICAgIHZhciBvd25lcnNfMSA9IChmYWN0b3J5Lm93bmVycyA9IFtvd25lcl0pO1xyXG4gICAgICAgIHZhciBzeW5jXzEgPSB0cnVlO1xyXG4gICAgICAgIHZhciB0aW1lckxvYWRpbmdfMSA9IG51bGw7XHJcbiAgICAgICAgdmFyIHRpbWVyVGltZW91dF8xID0gbnVsbDtcclxuICAgICAgICBvd25lci4kb24oJ2hvb2s6ZGVzdHJveWVkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlJDIob3duZXJzXzEsIG93bmVyKTsgfSk7XHJcbiAgICAgICAgdmFyIGZvcmNlUmVuZGVyXzEgPSBmdW5jdGlvbiAocmVuZGVyQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gb3duZXJzXzEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBvd25lcnNfMVtpXS4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVuZGVyQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICBvd25lcnNfMS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVyTG9hZGluZ18xICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyTG9hZGluZ18xKTtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lckxvYWRpbmdfMSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGltZXJUaW1lb3V0XzEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJUaW1lb3V0XzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVyVGltZW91dF8xID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHJlc29sdmUgPSBvbmNlKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgLy8gY2FjaGUgcmVzb2x2ZWRcclxuICAgICAgICAgICAgZmFjdG9yeS5yZXNvbHZlZCA9IGVuc3VyZUN0b3IocmVzLCBiYXNlQ3Rvcik7XHJcbiAgICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFja3Mgb25seSBpZiB0aGlzIGlzIG5vdCBhIHN5bmNocm9ub3VzIHJlc29sdmVcclxuICAgICAgICAgICAgLy8gKGFzeW5jIHJlc29sdmVzIGFyZSBzaGltbWVkIGFzIHN5bmNocm9ub3VzIGR1cmluZyBTU1IpXHJcbiAgICAgICAgICAgIGlmICghc3luY18xKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcl8xKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3duZXJzXzEubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciByZWplY3RfMSA9IG9uY2UoZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJGYWlsZWQgdG8gcmVzb2x2ZSBhc3luYyBjb21wb25lbnQ6IFwiLmNvbmNhdChTdHJpbmcoZmFjdG9yeSkpICtcclxuICAgICAgICAgICAgICAgICAgICAocmVhc29uID8gXCJcXG5SZWFzb246IFwiLmNvbmNhdChyZWFzb24pIDogJycpKTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGZhY3RvcnkuZXJyb3JDb21wKSkge1xyXG4gICAgICAgICAgICAgICAgZmFjdG9yeS5lcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcl8xKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHJlc18xID0gZmFjdG9yeShyZXNvbHZlLCByZWplY3RfMSk7XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHJlc18xKSkge1xyXG4gICAgICAgICAgICBpZiAoaXNQcm9taXNlKHJlc18xKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gKCkgPT4gUHJvbWlzZVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNfMS50aGVuKHJlc29sdmUsIHJlamVjdF8xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1Byb21pc2UocmVzXzEuY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmVzXzEuY29tcG9uZW50LnRoZW4ocmVzb2x2ZSwgcmVqZWN0XzEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKHJlc18xLmVycm9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhY3RvcnkuZXJyb3JDb21wID0gZW5zdXJlQ3RvcihyZXNfMS5lcnJvciwgYmFzZUN0b3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKHJlc18xLmxvYWRpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFjdG9yeS5sb2FkaW5nQ29tcCA9IGVuc3VyZUN0b3IocmVzXzEubG9hZGluZywgYmFzZUN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNfMS5kZWxheSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWN0b3J5LmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBOb2RlSlMgdGltZW91dCB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyTG9hZGluZ18xID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lckxvYWRpbmdfMSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZihmYWN0b3J5LnJlc29sdmVkKSAmJiBpc1VuZGVmKGZhY3RvcnkuZXJyb3IpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjdG9yeS5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcl8xKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVzXzEuZGVsYXkgfHwgMjAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYocmVzXzEudGltZW91dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE5vZGVKUyB0aW1lb3V0IHR5cGVcclxuICAgICAgICAgICAgICAgICAgICB0aW1lclRpbWVvdXRfMSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lclRpbWVvdXRfMSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1VuZGVmKGZhY3RvcnkucmVzb2x2ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3RfMShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gXCJ0aW1lb3V0IChcIi5jb25jYXQocmVzXzEudGltZW91dCwgXCJtcylcIikgOiBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHJlc18xLnRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN5bmNfMSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHJldHVybiBpbiBjYXNlIHJlc29sdmVkIHN5bmNocm9ub3VzbHlcclxuICAgICAgICByZXR1cm4gZmFjdG9yeS5sb2FkaW5nID8gZmFjdG9yeS5sb2FkaW5nQ29tcCA6IGZhY3RvcnkucmVzb2x2ZWQ7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZChjaGlsZHJlbikge1xyXG4gICAgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYoYykgJiYgKGlzRGVmKGMuY29tcG9uZW50T3B0aW9ucykgfHwgaXNBc3luY1BsYWNlaG9sZGVyKGMpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gaW5pdEV2ZW50cyh2bSkge1xyXG4gICAgdm0uX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICB2bS5faGFzSG9va0V2ZW50ID0gZmFsc2U7XHJcbiAgICAvLyBpbml0IHBhcmVudCBhdHRhY2hlZCBldmVudHNcclxuICAgIHZhciBsaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xyXG4gICAgaWYgKGxpc3RlbmVycykge1xyXG4gICAgICAgIHVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyh2bSwgbGlzdGVuZXJzKTtcclxuICAgIH1cclxufVxyXG52YXIgdGFyZ2V0JDE7XHJcbmZ1bmN0aW9uIGFkZCQxKGV2ZW50LCBmbikge1xyXG4gICAgdGFyZ2V0JDEuJG9uKGV2ZW50LCBmbik7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlJDEoZXZlbnQsIGZuKSB7XHJcbiAgICB0YXJnZXQkMS4kb2ZmKGV2ZW50LCBmbik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlT25jZUhhbmRsZXIkMShldmVudCwgZm4pIHtcclxuICAgIHZhciBfdGFyZ2V0ID0gdGFyZ2V0JDE7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gb25jZUhhbmRsZXIoKSB7XHJcbiAgICAgICAgdmFyIHJlcyA9IGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgaWYgKHJlcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBfdGFyZ2V0LiRvZmYoZXZlbnQsIG9uY2VIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyh2bSwgbGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMpIHtcclxuICAgIHRhcmdldCQxID0gdm07XHJcbiAgICB1cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMgfHwge30sIGFkZCQxLCByZW1vdmUkMSwgY3JlYXRlT25jZUhhbmRsZXIkMSwgdm0pO1xyXG4gICAgdGFyZ2V0JDEgPSB1bmRlZmluZWQ7XHJcbn1cclxuZnVuY3Rpb24gZXZlbnRzTWl4aW4oVnVlKSB7XHJcbiAgICB2YXIgaG9va1JFID0gL15ob29rOi87XHJcbiAgICBWdWUucHJvdG90eXBlLiRvbiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIGlmIChpc0FycmF5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGV2ZW50Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdm0uJG9uKGV2ZW50W2ldLCBmbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICh2bS5fZXZlbnRzW2V2ZW50XSB8fCAodm0uX2V2ZW50c1tldmVudF0gPSBbXSkpLnB1c2goZm4pO1xyXG4gICAgICAgICAgICAvLyBvcHRpbWl6ZSBob29rOmV2ZW50IGNvc3QgYnkgdXNpbmcgYSBib29sZWFuIGZsYWcgbWFya2VkIGF0IHJlZ2lzdHJhdGlvblxyXG4gICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGEgaGFzaCBsb29rdXBcclxuICAgICAgICAgICAgaWYgKGhvb2tSRS50ZXN0KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgdm0uX2hhc0hvb2tFdmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZtO1xyXG4gICAgfTtcclxuICAgIFZ1ZS5wcm90b3R5cGUuJG9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICBmdW5jdGlvbiBvbigpIHtcclxuICAgICAgICAgICAgdm0uJG9mZihldmVudCwgb24pO1xyXG4gICAgICAgICAgICBmbi5hcHBseSh2bSwgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb24uZm4gPSBmbjtcclxuICAgICAgICB2bS4kb24oZXZlbnQsIG9uKTtcclxuICAgICAgICByZXR1cm4gdm07XHJcbiAgICB9O1xyXG4gICAgVnVlLnByb3RvdHlwZS4kb2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgLy8gYWxsXHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdm07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFycmF5IG9mIGV2ZW50c1xyXG4gICAgICAgIGlmIChpc0FycmF5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwLCBsID0gZXZlbnQubGVuZ3RoOyBpXzEgPCBsOyBpXzErKykge1xyXG4gICAgICAgICAgICAgICAgdm0uJG9mZihldmVudFtpXzFdLCBmbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzcGVjaWZpYyBldmVudFxyXG4gICAgICAgIHZhciBjYnMgPSB2bS5fZXZlbnRzW2V2ZW50XTtcclxuICAgICAgICBpZiAoIWNicykge1xyXG4gICAgICAgICAgICByZXR1cm4gdm07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZm4pIHtcclxuICAgICAgICAgICAgdm0uX2V2ZW50c1tldmVudF0gPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gdm07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNwZWNpZmljIGhhbmRsZXJcclxuICAgICAgICB2YXIgY2I7XHJcbiAgICAgICAgdmFyIGkgPSBjYnMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgY2IgPSBjYnNbaV07XHJcbiAgICAgICAgICAgIGlmIChjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSB7XHJcbiAgICAgICAgICAgICAgICBjYnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZtO1xyXG4gICAgfTtcclxuICAgIFZ1ZS5wcm90b3R5cGUuJGVtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHZhciBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgdm0uX2V2ZW50c1tsb3dlckNhc2VFdmVudF0pIHtcclxuICAgICAgICAgICAgICAgIHRpcChcIkV2ZW50IFxcXCJcIi5jb25jYXQobG93ZXJDYXNlRXZlbnQsIFwiXFxcIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCBcIikgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiXCIuY29uY2F0KGZvcm1hdENvbXBvbmVudE5hbWUodm0pLCBcIiBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXFxcIlwiKS5jb25jYXQoZXZlbnQsIFwiXFxcIi4gXCIpICtcclxuICAgICAgICAgICAgICAgICAgICBcIk5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcInYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcXFwiXCIuY29uY2F0KGh5cGhlbmF0ZShldmVudCksIFwiXFxcIiBpbnN0ZWFkIG9mIFxcXCJcIikuY29uY2F0KGV2ZW50LCBcIlxcXCIuXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2JzID0gdm0uX2V2ZW50c1tldmVudF07XHJcbiAgICAgICAgaWYgKGNicykge1xyXG4gICAgICAgICAgICBjYnMgPSBjYnMubGVuZ3RoID4gMSA/IHRvQXJyYXkoY2JzKSA6IGNicztcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XHJcbiAgICAgICAgICAgIHZhciBpbmZvID0gXCJldmVudCBoYW5kbGVyIGZvciBcXFwiXCIuY29uY2F0KGV2ZW50LCBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoY2JzW2ldLCB2bSwgYXJncywgdm0sIGluZm8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2bTtcclxuICAgIH07XHJcbn1cblxudmFyIGFjdGl2ZUluc3RhbmNlID0gbnVsbDtcclxudmFyIGlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBzZXRBY3RpdmVJbnN0YW5jZSh2bSkge1xyXG4gICAgdmFyIHByZXZBY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlO1xyXG4gICAgYWN0aXZlSW5zdGFuY2UgPSB2bTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWN0aXZlSW5zdGFuY2UgPSBwcmV2QWN0aXZlSW5zdGFuY2U7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGluaXRMaWZlY3ljbGUodm0pIHtcclxuICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XHJcbiAgICAvLyBsb2NhdGUgZmlyc3Qgbm9uLWFic3RyYWN0IHBhcmVudFxyXG4gICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xyXG4gICAgaWYgKHBhcmVudCAmJiAhb3B0aW9ucy5hYnN0cmFjdCkge1xyXG4gICAgICAgIHdoaWxlIChwYXJlbnQuJG9wdGlvbnMuYWJzdHJhY3QgJiYgcGFyZW50LiRwYXJlbnQpIHtcclxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LiRwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcmVudC4kY2hpbGRyZW4ucHVzaCh2bSk7XHJcbiAgICB9XHJcbiAgICB2bS4kcGFyZW50ID0gcGFyZW50O1xyXG4gICAgdm0uJHJvb3QgPSBwYXJlbnQgPyBwYXJlbnQuJHJvb3QgOiB2bTtcclxuICAgIHZtLiRjaGlsZHJlbiA9IFtdO1xyXG4gICAgdm0uJHJlZnMgPSB7fTtcclxuICAgIHZtLl9wcm92aWRlZCA9IHBhcmVudCA/IHBhcmVudC5fcHJvdmlkZWQgOiBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgdm0uX3dhdGNoZXIgPSBudWxsO1xyXG4gICAgdm0uX2luYWN0aXZlID0gbnVsbDtcclxuICAgIHZtLl9kaXJlY3RJbmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgdm0uX2lzTW91bnRlZCA9IGZhbHNlO1xyXG4gICAgdm0uX2lzRGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGxpZmVjeWNsZU1peGluKFZ1ZSkge1xyXG4gICAgVnVlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKHZub2RlLCBoeWRyYXRpbmcpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZhciBwcmV2RWwgPSB2bS4kZWw7XHJcbiAgICAgICAgdmFyIHByZXZWbm9kZSA9IHZtLl92bm9kZTtcclxuICAgICAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2Uodm0pO1xyXG4gICAgICAgIHZtLl92bm9kZSA9IHZub2RlO1xyXG4gICAgICAgIC8vIFZ1ZS5wcm90b3R5cGUuX19wYXRjaF9fIGlzIGluamVjdGVkIGluIGVudHJ5IHBvaW50c1xyXG4gICAgICAgIC8vIGJhc2VkIG9uIHRoZSByZW5kZXJpbmcgYmFja2VuZCB1c2VkLlxyXG4gICAgICAgIGlmICghcHJldlZub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIGluaXRpYWwgcmVuZGVyXHJcbiAgICAgICAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyh2bS4kZWwsIHZub2RlLCBoeWRyYXRpbmcsIGZhbHNlIC8qIHJlbW92ZU9ubHkgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlc1xyXG4gICAgICAgICAgICB2bS4kZWwgPSB2bS5fX3BhdGNoX18ocHJldlZub2RlLCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSgpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxyXG4gICAgICAgIGlmIChwcmV2RWwpIHtcclxuICAgICAgICAgICAgcHJldkVsLl9fdnVlX18gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodm0uJGVsKSB7XHJcbiAgICAgICAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gdm07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIHBhcmVudCBpcyBhbiBIT0MsIHVwZGF0ZSBpdHMgJGVsIGFzIHdlbGxcclxuICAgICAgICBpZiAodm0uJHZub2RlICYmIHZtLiRwYXJlbnQgJiYgdm0uJHZub2RlID09PSB2bS4kcGFyZW50Ll92bm9kZSkge1xyXG4gICAgICAgICAgICB2bS4kcGFyZW50LiRlbCA9IHZtLiRlbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdXBkYXRlZCBob29rIGlzIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyIHRvIGVuc3VyZSB0aGF0IGNoaWxkcmVuIGFyZVxyXG4gICAgICAgIC8vIHVwZGF0ZWQgaW4gYSBwYXJlbnQncyB1cGRhdGVkIGhvb2suXHJcbiAgICB9O1xyXG4gICAgVnVlLnByb3RvdHlwZS4kZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICBpZiAodm0uX3dhdGNoZXIpIHtcclxuICAgICAgICAgICAgdm0uX3dhdGNoZXIudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFZ1ZS5wcm90b3R5cGUuJGRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICBpZiAodm0uX2lzQmVpbmdEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsSG9vayQxKHZtLCAnYmVmb3JlRGVzdHJveScpO1xyXG4gICAgICAgIHZtLl9pc0JlaW5nRGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgICAvLyByZW1vdmUgc2VsZiBmcm9tIHBhcmVudFxyXG4gICAgICAgIHZhciBwYXJlbnQgPSB2bS4kcGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQgJiYgIXBhcmVudC5faXNCZWluZ0Rlc3Ryb3llZCAmJiAhdm0uJG9wdGlvbnMuYWJzdHJhY3QpIHtcclxuICAgICAgICAgICAgcmVtb3ZlJDIocGFyZW50LiRjaGlsZHJlbiwgdm0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0ZWFyZG93biBzY29wZS4gdGhpcyBpbmNsdWRlcyBib3RoIHRoZSByZW5kZXIgd2F0Y2hlciBhbmQgb3RoZXJcclxuICAgICAgICAvLyB3YXRjaGVycyBjcmVhdGVkXHJcbiAgICAgICAgdm0uX3Njb3BlLnN0b3AoKTtcclxuICAgICAgICAvLyByZW1vdmUgcmVmZXJlbmNlIGZyb20gZGF0YSBvYlxyXG4gICAgICAgIC8vIGZyb3plbiBvYmplY3QgbWF5IG5vdCBoYXZlIG9ic2VydmVyLlxyXG4gICAgICAgIGlmICh2bS5fZGF0YS5fX29iX18pIHtcclxuICAgICAgICAgICAgdm0uX2RhdGEuX19vYl9fLnZtQ291bnQtLTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2FsbCB0aGUgbGFzdCBob29rLi4uXHJcbiAgICAgICAgdm0uX2lzRGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBpbnZva2UgZGVzdHJveSBob29rcyBvbiBjdXJyZW50IHJlbmRlcmVkIHRyZWVcclxuICAgICAgICB2bS5fX3BhdGNoX18odm0uX3Zub2RlLCBudWxsKTtcclxuICAgICAgICAvLyBmaXJlIGRlc3Ryb3llZCBob29rXHJcbiAgICAgICAgY2FsbEhvb2skMSh2bSwgJ2Rlc3Ryb3llZCcpO1xyXG4gICAgICAgIC8vIHR1cm4gb2ZmIGFsbCBpbnN0YW5jZSBsaXN0ZW5lcnMuXHJcbiAgICAgICAgdm0uJG9mZigpO1xyXG4gICAgICAgIC8vIHJlbW92ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxyXG4gICAgICAgIGlmICh2bS4kZWwpIHtcclxuICAgICAgICAgICAgdm0uJGVsLl9fdnVlX18gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZWxlYXNlIGNpcmN1bGFyIHJlZmVyZW5jZSAoIzY3NTkpXHJcbiAgICAgICAgaWYgKHZtLiR2bm9kZSkge1xyXG4gICAgICAgICAgICB2bS4kdm5vZGUucGFyZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIG1vdW50Q29tcG9uZW50KHZtLCBlbCwgaHlkcmF0aW5nKSB7XHJcbiAgICB2bS4kZWwgPSBlbDtcclxuICAgIGlmICghdm0uJG9wdGlvbnMucmVuZGVyKSB7XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpbnZhbGlkIHR5cGVcclxuICAgICAgICB2bS4kb3B0aW9ucy5yZW5kZXIgPSBjcmVhdGVFbXB0eVZOb2RlO1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoKHZtLiRvcHRpb25zLnRlbXBsYXRlICYmIHZtLiRvcHRpb25zLnRlbXBsYXRlLmNoYXJBdCgwKSAhPT0gJyMnKSB8fFxyXG4gICAgICAgICAgICAgICAgdm0uJG9wdGlvbnMuZWwgfHxcclxuICAgICAgICAgICAgICAgIGVsKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoJ1lvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCBvZiBWdWUgd2hlcmUgdGhlIHRlbXBsYXRlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdjb21waWxlciBpcyBub3QgYXZhaWxhYmxlLiBFaXRoZXIgcHJlLWNvbXBpbGUgdGhlIHRlbXBsYXRlcyBpbnRvICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdyZW5kZXIgZnVuY3Rpb25zLCBvciB1c2UgdGhlIGNvbXBpbGVyLWluY2x1ZGVkIGJ1aWxkLicsIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMignRmFpbGVkIHRvIG1vdW50IGNvbXBvbmVudDogdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uIG5vdCBkZWZpbmVkLicsIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhbGxIb29rJDEodm0sICdiZWZvcmVNb3VudCcpO1xyXG4gICAgdmFyIHVwZGF0ZUNvbXBvbmVudDtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcclxuICAgICAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gdm0uX25hbWU7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHZtLl91aWQ7XHJcbiAgICAgICAgICAgIHZhciBzdGFydFRhZyA9IFwidnVlLXBlcmYtc3RhcnQ6XCIuY29uY2F0KGlkKTtcclxuICAgICAgICAgICAgdmFyIGVuZFRhZyA9IFwidnVlLXBlcmYtZW5kOlwiLmNvbmNhdChpZCk7XHJcbiAgICAgICAgICAgIG1hcmsoc3RhcnRUYWcpO1xyXG4gICAgICAgICAgICB2YXIgdm5vZGUgPSB2bS5fcmVuZGVyKCk7XHJcbiAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcclxuICAgICAgICAgICAgbWVhc3VyZShcInZ1ZSBcIi5jb25jYXQobmFtZSwgXCIgcmVuZGVyXCIpLCBzdGFydFRhZywgZW5kVGFnKTtcclxuICAgICAgICAgICAgbWFyayhzdGFydFRhZyk7XHJcbiAgICAgICAgICAgIHZtLl91cGRhdGUodm5vZGUsIGh5ZHJhdGluZyk7XHJcbiAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcclxuICAgICAgICAgICAgbWVhc3VyZShcInZ1ZSBcIi5jb25jYXQobmFtZSwgXCIgcGF0Y2hcIiksIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZtLl91cGRhdGUodm0uX3JlbmRlcigpLCBoeWRyYXRpbmcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICB2YXIgd2F0Y2hlck9wdGlvbnMgPSB7XHJcbiAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh2bS5faXNNb3VudGVkICYmICF2bS5faXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxIb29rJDEodm0sICdiZWZvcmVVcGRhdGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIHdhdGNoZXJPcHRpb25zLm9uVHJhY2sgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gY2FsbEhvb2skMSh2bSwgJ3JlbmRlclRyYWNrZWQnLCBbZV0pOyB9O1xyXG4gICAgICAgIHdhdGNoZXJPcHRpb25zLm9uVHJpZ2dlciA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBjYWxsSG9vayQxKHZtLCAncmVuZGVyVHJpZ2dlcmVkJywgW2VdKTsgfTtcclxuICAgIH1cclxuICAgIC8vIHdlIHNldCB0aGlzIHRvIHZtLl93YXRjaGVyIGluc2lkZSB0aGUgd2F0Y2hlcidzIGNvbnN0cnVjdG9yXHJcbiAgICAvLyBzaW5jZSB0aGUgd2F0Y2hlcidzIGluaXRpYWwgcGF0Y2ggbWF5IGNhbGwgJGZvcmNlVXBkYXRlIChlLmcuIGluc2lkZSBjaGlsZFxyXG4gICAgLy8gY29tcG9uZW50J3MgbW91bnRlZCBob29rKSwgd2hpY2ggcmVsaWVzIG9uIHZtLl93YXRjaGVyIGJlaW5nIGFscmVhZHkgZGVmaW5lZFxyXG4gICAgbmV3IFdhdGNoZXIodm0sIHVwZGF0ZUNvbXBvbmVudCwgbm9vcCwgd2F0Y2hlck9wdGlvbnMsIHRydWUgLyogaXNSZW5kZXJXYXRjaGVyICovKTtcclxuICAgIGh5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgLy8gZmx1c2ggYnVmZmVyIGZvciBmbHVzaDogXCJwcmVcIiB3YXRjaGVycyBxdWV1ZWQgaW4gc2V0dXAoKVxyXG4gICAgdmFyIHByZVdhdGNoZXJzID0gdm0uX3ByZVdhdGNoZXJzO1xyXG4gICAgaWYgKHByZVdhdGNoZXJzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVXYXRjaGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBwcmVXYXRjaGVyc1tpXS5ydW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlLCBjYWxsIG1vdW50ZWQgb24gc2VsZlxyXG4gICAgLy8gbW91bnRlZCBpcyBjYWxsZWQgZm9yIHJlbmRlci1jcmVhdGVkIGNoaWxkIGNvbXBvbmVudHMgaW4gaXRzIGluc2VydGVkIGhvb2tcclxuICAgIGlmICh2bS4kdm5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgIHZtLl9pc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgIGNhbGxIb29rJDEodm0sICdtb3VudGVkJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm07XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlQ2hpbGRDb21wb25lbnQodm0sIHByb3BzRGF0YSwgbGlzdGVuZXJzLCBwYXJlbnRWbm9kZSwgcmVuZGVyQ2hpbGRyZW4pIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIGRldGVybWluZSB3aGV0aGVyIGNvbXBvbmVudCBoYXMgc2xvdCBjaGlsZHJlblxyXG4gICAgLy8gd2UgbmVlZCB0byBkbyB0aGlzIGJlZm9yZSBvdmVyd3JpdGluZyAkb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4uXHJcbiAgICAvLyBjaGVjayBpZiB0aGVyZSBhcmUgZHluYW1pYyBzY29wZWRTbG90cyAoaGFuZC13cml0dGVuIG9yIGNvbXBpbGVkIGJ1dCB3aXRoXHJcbiAgICAvLyBkeW5hbWljIHNsb3QgbmFtZXMpLiBTdGF0aWMgc2NvcGVkIHNsb3RzIGNvbXBpbGVkIGZyb20gdGVtcGxhdGUgaGFzIHRoZVxyXG4gICAgLy8gXCIkc3RhYmxlXCIgbWFya2VyLlxyXG4gICAgdmFyIG5ld1Njb3BlZFNsb3RzID0gcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cztcclxuICAgIHZhciBvbGRTY29wZWRTbG90cyA9IHZtLiRzY29wZWRTbG90cztcclxuICAgIHZhciBoYXNEeW5hbWljU2NvcGVkU2xvdCA9ICEhKChuZXdTY29wZWRTbG90cyAmJiAhbmV3U2NvcGVkU2xvdHMuJHN0YWJsZSkgfHxcclxuICAgICAgICAob2xkU2NvcGVkU2xvdHMgIT09IGVtcHR5T2JqZWN0ICYmICFvbGRTY29wZWRTbG90cy4kc3RhYmxlKSB8fFxyXG4gICAgICAgIChuZXdTY29wZWRTbG90cyAmJiB2bS4kc2NvcGVkU2xvdHMuJGtleSAhPT0gbmV3U2NvcGVkU2xvdHMuJGtleSkgfHxcclxuICAgICAgICAoIW5ld1Njb3BlZFNsb3RzICYmIHZtLiRzY29wZWRTbG90cy4ka2V5KSk7XHJcbiAgICAvLyBBbnkgc3RhdGljIHNsb3QgY2hpbGRyZW4gZnJvbSB0aGUgcGFyZW50IG1heSBoYXZlIGNoYW5nZWQgZHVyaW5nIHBhcmVudCdzXHJcbiAgICAvLyB1cGRhdGUuIER5bmFtaWMgc2NvcGVkIHNsb3RzIG1heSBhbHNvIGhhdmUgY2hhbmdlZC4gSW4gc3VjaCBjYXNlcywgYSBmb3JjZWRcclxuICAgIC8vIHVwZGF0ZSBpcyBuZWNlc3NhcnkgdG8gZW5zdXJlIGNvcnJlY3RuZXNzLlxyXG4gICAgdmFyIG5lZWRzRm9yY2VVcGRhdGUgPSAhIShyZW5kZXJDaGlsZHJlbiB8fCAvLyBoYXMgbmV3IHN0YXRpYyBzbG90c1xyXG4gICAgICAgIHZtLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiB8fCAvLyBoYXMgb2xkIHN0YXRpYyBzbG90c1xyXG4gICAgICAgIGhhc0R5bmFtaWNTY29wZWRTbG90KTtcclxuICAgIHZhciBwcmV2Vk5vZGUgPSB2bS4kdm5vZGU7XHJcbiAgICB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTtcclxuICAgIHZtLiR2bm9kZSA9IHBhcmVudFZub2RlOyAvLyB1cGRhdGUgdm0ncyBwbGFjZWhvbGRlciBub2RlIHdpdGhvdXQgcmUtcmVuZGVyXHJcbiAgICBpZiAodm0uX3Zub2RlKSB7XHJcbiAgICAgICAgLy8gdXBkYXRlIGNoaWxkIHRyZWUncyBwYXJlbnRcclxuICAgICAgICB2bS5fdm5vZGUucGFyZW50ID0gcGFyZW50Vm5vZGU7XHJcbiAgICB9XHJcbiAgICB2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gPSByZW5kZXJDaGlsZHJlbjtcclxuICAgIC8vIHVwZGF0ZSAkYXR0cnMgYW5kICRsaXN0ZW5lcnMgaGFzaFxyXG4gICAgLy8gdGhlc2UgYXJlIGFsc28gcmVhY3RpdmUgc28gdGhleSBtYXkgdHJpZ2dlciBjaGlsZCB1cGRhdGUgaWYgdGhlIGNoaWxkXHJcbiAgICAvLyB1c2VkIHRoZW0gZHVyaW5nIHJlbmRlclxyXG4gICAgdmFyIGF0dHJzID0gcGFyZW50Vm5vZGUuZGF0YS5hdHRycyB8fCBlbXB0eU9iamVjdDtcclxuICAgIGlmICh2bS5fYXR0cnNQcm94eSkge1xyXG4gICAgICAgIC8vIGZvcmNlIHVwZGF0ZSBpZiBhdHRycyBhcmUgYWNjZXNzZWQgYW5kIGhhcyBjaGFuZ2VkIHNpbmNlIGl0IG1heSBiZVxyXG4gICAgICAgIC8vIHBhc3NlZCB0byBhIGNoaWxkIGNvbXBvbmVudC5cclxuICAgICAgICBpZiAoc3luY1NldHVwUHJveHkodm0uX2F0dHJzUHJveHksIGF0dHJzLCAocHJldlZOb2RlLmRhdGEgJiYgcHJldlZOb2RlLmRhdGEuYXR0cnMpIHx8IGVtcHR5T2JqZWN0LCB2bSwgJyRhdHRycycpKSB7XHJcbiAgICAgICAgICAgIG5lZWRzRm9yY2VVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZtLiRhdHRycyA9IGF0dHJzO1xyXG4gICAgLy8gdXBkYXRlIGxpc3RlbmVyc1xyXG4gICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0O1xyXG4gICAgdmFyIHByZXZMaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xyXG4gICAgaWYgKHZtLl9saXN0ZW5lcnNQcm94eSkge1xyXG4gICAgICAgIHN5bmNTZXR1cFByb3h5KHZtLl9saXN0ZW5lcnNQcm94eSwgbGlzdGVuZXJzLCBwcmV2TGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0LCB2bSwgJyRsaXN0ZW5lcnMnKTtcclxuICAgIH1cclxuICAgIHZtLiRsaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzID0gbGlzdGVuZXJzO1xyXG4gICAgdXBkYXRlQ29tcG9uZW50TGlzdGVuZXJzKHZtLCBsaXN0ZW5lcnMsIHByZXZMaXN0ZW5lcnMpO1xyXG4gICAgLy8gdXBkYXRlIHByb3BzXHJcbiAgICBpZiAocHJvcHNEYXRhICYmIHZtLiRvcHRpb25zLnByb3BzKSB7XHJcbiAgICAgICAgdG9nZ2xlT2JzZXJ2aW5nKGZhbHNlKTtcclxuICAgICAgICB2YXIgcHJvcHMgPSB2bS5fcHJvcHM7XHJcbiAgICAgICAgdmFyIHByb3BLZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzIHx8IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IHByb3BLZXlzW2ldO1xyXG4gICAgICAgICAgICB2YXIgcHJvcE9wdGlvbnMgPSB2bS4kb3B0aW9ucy5wcm9wczsgLy8gd3RmIGZsb3c/XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhLCB2bSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcclxuICAgICAgICAvLyBrZWVwIGEgY29weSBvZiByYXcgcHJvcHNEYXRhXHJcbiAgICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhO1xyXG4gICAgfVxyXG4gICAgLy8gcmVzb2x2ZSBzbG90cyArIGZvcmNlIHVwZGF0ZSBpZiBoYXMgY2hpbGRyZW5cclxuICAgIGlmIChuZWVkc0ZvcmNlVXBkYXRlKSB7XHJcbiAgICAgICAgdm0uJHNsb3RzID0gcmVzb2x2ZVNsb3RzKHJlbmRlckNoaWxkcmVuLCBwYXJlbnRWbm9kZS5jb250ZXh0KTtcclxuICAgICAgICB2bS4kZm9yY2VVcGRhdGUoKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNJbkluYWN0aXZlVHJlZSh2bSkge1xyXG4gICAgd2hpbGUgKHZtICYmICh2bSA9IHZtLiRwYXJlbnQpKSB7XHJcbiAgICAgICAgaWYgKHZtLl9pbmFjdGl2ZSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gYWN0aXZhdGVDaGlsZENvbXBvbmVudCh2bSwgZGlyZWN0KSB7XHJcbiAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgdm0uX2RpcmVjdEluYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGlzSW5JbmFjdGl2ZVRyZWUodm0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh2bS5fZGlyZWN0SW5hY3RpdmUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodm0uX2luYWN0aXZlIHx8IHZtLl9pbmFjdGl2ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIHZtLl9pbmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uJGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFjdGl2YXRlQ2hpbGRDb21wb25lbnQodm0uJGNoaWxkcmVuW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsbEhvb2skMSh2bSwgJ2FjdGl2YXRlZCcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGRlYWN0aXZhdGVDaGlsZENvbXBvbmVudCh2bSwgZGlyZWN0KSB7XHJcbiAgICBpZiAoZGlyZWN0KSB7XHJcbiAgICAgICAgdm0uX2RpcmVjdEluYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoaXNJbkluYWN0aXZlVHJlZSh2bSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghdm0uX2luYWN0aXZlKSB7XHJcbiAgICAgICAgdm0uX2luYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLiRjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQodm0uJGNoaWxkcmVuW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsbEhvb2skMSh2bSwgJ2RlYWN0aXZhdGVkJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2FsbEhvb2skMSh2bSwgaG9vaywgYXJncywgc2V0Q29udGV4dCkge1xyXG4gICAgaWYgKHNldENvbnRleHQgPT09IHZvaWQgMCkgeyBzZXRDb250ZXh0ID0gdHJ1ZTsgfVxyXG4gICAgLy8gIzc1NzMgZGlzYWJsZSBkZXAgY29sbGVjdGlvbiB3aGVuIGludm9raW5nIGxpZmVjeWNsZSBob29rc1xyXG4gICAgcHVzaFRhcmdldCgpO1xyXG4gICAgdmFyIHByZXYgPSBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICBzZXRDb250ZXh0ICYmIHNldEN1cnJlbnRJbnN0YW5jZSh2bSk7XHJcbiAgICB2YXIgaGFuZGxlcnMgPSB2bS4kb3B0aW9uc1tob29rXTtcclxuICAgIHZhciBpbmZvID0gXCJcIi5jb25jYXQoaG9vaywgXCIgaG9va1wiKTtcclxuICAgIGlmIChoYW5kbGVycykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XHJcbiAgICAgICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGhhbmRsZXJzW2ldLCB2bSwgYXJncyB8fCBudWxsLCB2bSwgaW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHZtLl9oYXNIb29rRXZlbnQpIHtcclxuICAgICAgICB2bS4kZW1pdCgnaG9vazonICsgaG9vayk7XHJcbiAgICB9XHJcbiAgICBzZXRDb250ZXh0ICYmIHNldEN1cnJlbnRJbnN0YW5jZShwcmV2KTtcclxuICAgIHBvcFRhcmdldCgpO1xyXG59XG5cbnZhciBNQVhfVVBEQVRFX0NPVU5UID0gMTAwO1xyXG52YXIgcXVldWUgPSBbXTtcclxudmFyIGFjdGl2YXRlZENoaWxkcmVuID0gW107XHJcbnZhciBoYXMgPSB7fTtcclxudmFyIGNpcmN1bGFyID0ge307XHJcbnZhciB3YWl0aW5nID0gZmFsc2U7XHJcbnZhciBmbHVzaGluZyA9IGZhbHNlO1xyXG52YXIgaW5kZXgkMSA9IDA7XHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgc2NoZWR1bGVyJ3Mgc3RhdGUuXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNldFNjaGVkdWxlclN0YXRlKCkge1xyXG4gICAgaW5kZXgkMSA9IHF1ZXVlLmxlbmd0aCA9IGFjdGl2YXRlZENoaWxkcmVuLmxlbmd0aCA9IDA7XHJcbiAgICBoYXMgPSB7fTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgY2lyY3VsYXIgPSB7fTtcclxuICAgIH1cclxuICAgIHdhaXRpbmcgPSBmbHVzaGluZyA9IGZhbHNlO1xyXG59XHJcbi8vIEFzeW5jIGVkZ2UgY2FzZSAjNjU2NiByZXF1aXJlcyBzYXZpbmcgdGhlIHRpbWVzdGFtcCB3aGVuIGV2ZW50IGxpc3RlbmVycyBhcmVcclxuLy8gYXR0YWNoZWQuIEhvd2V2ZXIsIGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCkgaGFzIGEgcGVyZiBvdmVyaGVhZCBlc3BlY2lhbGx5XHJcbi8vIGlmIHRoZSBwYWdlIGhhcyB0aG91c2FuZHMgb2YgZXZlbnQgbGlzdGVuZXJzLiBJbnN0ZWFkLCB3ZSB0YWtlIGEgdGltZXN0YW1wXHJcbi8vIGV2ZXJ5IHRpbWUgdGhlIHNjaGVkdWxlciBmbHVzaGVzIGFuZCB1c2UgdGhhdCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVyc1xyXG4vLyBhdHRhY2hlZCBkdXJpbmcgdGhhdCBmbHVzaC5cclxudmFyIGN1cnJlbnRGbHVzaFRpbWVzdGFtcCA9IDA7XHJcbi8vIEFzeW5jIGVkZ2UgY2FzZSBmaXggcmVxdWlyZXMgc3RvcmluZyBhbiBldmVudCBsaXN0ZW5lcidzIGF0dGFjaCB0aW1lc3RhbXAuXHJcbnZhciBnZXROb3cgPSBEYXRlLm5vdztcclxuLy8gRGV0ZXJtaW5lIHdoYXQgZXZlbnQgdGltZXN0YW1wIHRoZSBicm93c2VyIGlzIHVzaW5nLiBBbm5veWluZ2x5LCB0aGVcclxuLy8gdGltZXN0YW1wIGNhbiBlaXRoZXIgYmUgaGktcmVzIChyZWxhdGl2ZSB0byBwYWdlIGxvYWQpIG9yIGxvdy1yZXNcclxuLy8gKHJlbGF0aXZlIHRvIFVOSVggZXBvY2gpLCBzbyBpbiBvcmRlciB0byBjb21wYXJlIHRpbWUgd2UgaGF2ZSB0byB1c2UgdGhlXHJcbi8vIHNhbWUgdGltZXN0YW1wIHR5cGUgd2hlbiBzYXZpbmcgdGhlIGZsdXNoIHRpbWVzdGFtcC5cclxuLy8gQWxsIElFIHZlcnNpb25zIHVzZSBsb3ctcmVzIGV2ZW50IHRpbWVzdGFtcHMsIGFuZCBoYXZlIHByb2JsZW1hdGljIGNsb2NrXHJcbi8vIGltcGxlbWVudGF0aW9ucyAoIzk2MzIpXHJcbmlmIChpbkJyb3dzZXIgJiYgIWlzSUUpIHtcclxuICAgIHZhciBwZXJmb3JtYW5jZV8xID0gd2luZG93LnBlcmZvcm1hbmNlO1xyXG4gICAgaWYgKHBlcmZvcm1hbmNlXzEgJiZcclxuICAgICAgICB0eXBlb2YgcGVyZm9ybWFuY2VfMS5ub3cgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICBnZXROb3coKSA+IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpLnRpbWVTdGFtcCkge1xyXG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB0aW1lc3RhbXAsIGFsdGhvdWdoIGV2YWx1YXRlZCBBRlRFUiB0aGUgRGF0ZS5ub3coKSwgaXNcclxuICAgICAgICAvLyBzbWFsbGVyIHRoYW4gaXQsIGl0IG1lYW5zIHRoZSBldmVudCBpcyB1c2luZyBhIGhpLXJlcyB0aW1lc3RhbXAsXHJcbiAgICAgICAgLy8gYW5kIHdlIG5lZWQgdG8gdXNlIHRoZSBoaS1yZXMgdmVyc2lvbiBmb3IgZXZlbnQgbGlzdGVuZXIgdGltZXN0YW1wcyBhc1xyXG4gICAgICAgIC8vIHdlbGwuXHJcbiAgICAgICAgZ2V0Tm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcGVyZm9ybWFuY2VfMS5ub3coKTsgfTtcclxuICAgIH1cclxufVxyXG52YXIgc29ydENvbXBhcmVGbiA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICBpZiAoYS5wb3N0KSB7XHJcbiAgICAgICAgaWYgKCFiLnBvc3QpXHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYi5wb3N0KSB7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGEuaWQgLSBiLmlkO1xyXG59O1xyXG4vKipcclxuICogRmx1c2ggYm90aCBxdWV1ZXMgYW5kIHJ1biB0aGUgd2F0Y2hlcnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBmbHVzaFNjaGVkdWxlclF1ZXVlKCkge1xyXG4gICAgY3VycmVudEZsdXNoVGltZXN0YW1wID0gZ2V0Tm93KCk7XHJcbiAgICBmbHVzaGluZyA9IHRydWU7XHJcbiAgICB2YXIgd2F0Y2hlciwgaWQ7XHJcbiAgICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cclxuICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxyXG4gICAgLy8gMS4gQ29tcG9uZW50cyBhcmUgdXBkYXRlZCBmcm9tIHBhcmVudCB0byBjaGlsZC4gKGJlY2F1c2UgcGFyZW50IGlzIGFsd2F5c1xyXG4gICAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkKVxyXG4gICAgLy8gMi4gQSBjb21wb25lbnQncyB1c2VyIHdhdGNoZXJzIGFyZSBydW4gYmVmb3JlIGl0cyByZW5kZXIgd2F0Y2hlciAoYmVjYXVzZVxyXG4gICAgLy8gICAgdXNlciB3YXRjaGVycyBhcmUgY3JlYXRlZCBiZWZvcmUgdGhlIHJlbmRlciB3YXRjaGVyKVxyXG4gICAgLy8gMy4gSWYgYSBjb21wb25lbnQgaXMgZGVzdHJveWVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB3YXRjaGVyIHJ1bixcclxuICAgIC8vICAgIGl0cyB3YXRjaGVycyBjYW4gYmUgc2tpcHBlZC5cclxuICAgIHF1ZXVlLnNvcnQoc29ydENvbXBhcmVGbik7XHJcbiAgICAvLyBkbyBub3QgY2FjaGUgbGVuZ3RoIGJlY2F1c2UgbW9yZSB3YXRjaGVycyBtaWdodCBiZSBwdXNoZWRcclxuICAgIC8vIGFzIHdlIHJ1biBleGlzdGluZyB3YXRjaGVyc1xyXG4gICAgZm9yIChpbmRleCQxID0gMDsgaW5kZXgkMSA8IHF1ZXVlLmxlbmd0aDsgaW5kZXgkMSsrKSB7XHJcbiAgICAgICAgd2F0Y2hlciA9IHF1ZXVlW2luZGV4JDFdO1xyXG4gICAgICAgIGlmICh3YXRjaGVyLmJlZm9yZSkge1xyXG4gICAgICAgICAgICB3YXRjaGVyLmJlZm9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZCA9IHdhdGNoZXIuaWQ7XHJcbiAgICAgICAgaGFzW2lkXSA9IG51bGw7XHJcbiAgICAgICAgd2F0Y2hlci5ydW4oKTtcclxuICAgICAgICAvLyBpbiBkZXYgYnVpbGQsIGNoZWNrIGFuZCBzdG9wIGNpcmN1bGFyIHVwZGF0ZXMuXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaGFzW2lkXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNpcmN1bGFyW2lkXSA9IChjaXJjdWxhcltpZF0gfHwgMCkgKyAxO1xyXG4gICAgICAgICAgICBpZiAoY2lyY3VsYXJbaWRdID4gTUFYX1VQREFURV9DT1VOVCkge1xyXG4gICAgICAgICAgICAgICAgd2FybiQyKCdZb3UgbWF5IGhhdmUgYW4gaW5maW5pdGUgdXBkYXRlIGxvb3AgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgKHdhdGNoZXIudXNlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiaW4gd2F0Y2hlciB3aXRoIGV4cHJlc3Npb24gXFxcIlwiLmNvbmNhdCh3YXRjaGVyLmV4cHJlc3Npb24sIFwiXFxcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiaW4gYSBjb21wb25lbnQgcmVuZGVyIGZ1bmN0aW9uLlwiKSwgd2F0Y2hlci52bSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGtlZXAgY29waWVzIG9mIHBvc3QgcXVldWVzIGJlZm9yZSByZXNldHRpbmcgc3RhdGVcclxuICAgIHZhciBhY3RpdmF0ZWRRdWV1ZSA9IGFjdGl2YXRlZENoaWxkcmVuLnNsaWNlKCk7XHJcbiAgICB2YXIgdXBkYXRlZFF1ZXVlID0gcXVldWUuc2xpY2UoKTtcclxuICAgIHJlc2V0U2NoZWR1bGVyU3RhdGUoKTtcclxuICAgIC8vIGNhbGwgY29tcG9uZW50IHVwZGF0ZWQgYW5kIGFjdGl2YXRlZCBob29rc1xyXG4gICAgY2FsbEFjdGl2YXRlZEhvb2tzKGFjdGl2YXRlZFF1ZXVlKTtcclxuICAgIGNhbGxVcGRhdGVkSG9va3ModXBkYXRlZFF1ZXVlKTtcclxuICAgIC8vIGRldnRvb2wgaG9va1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoZGV2dG9vbHMgJiYgY29uZmlnLmRldnRvb2xzKSB7XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdCgnZmx1c2gnKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjYWxsVXBkYXRlZEhvb2tzKHF1ZXVlKSB7XHJcbiAgICB2YXIgaSA9IHF1ZXVlLmxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICB2YXIgd2F0Y2hlciA9IHF1ZXVlW2ldO1xyXG4gICAgICAgIHZhciB2bSA9IHdhdGNoZXIudm07XHJcbiAgICAgICAgaWYgKHZtICYmIHZtLl93YXRjaGVyID09PSB3YXRjaGVyICYmIHZtLl9pc01vdW50ZWQgJiYgIXZtLl9pc0Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICBjYWxsSG9vayQxKHZtLCAndXBkYXRlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogUXVldWUgYSBrZXB0LWFsaXZlIGNvbXBvbmVudCB0aGF0IHdhcyBhY3RpdmF0ZWQgZHVyaW5nIHBhdGNoLlxyXG4gKiBUaGUgcXVldWUgd2lsbCBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhlIGVudGlyZSB0cmVlIGhhcyBiZWVuIHBhdGNoZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWV1ZUFjdGl2YXRlZENvbXBvbmVudCh2bSkge1xyXG4gICAgLy8gc2V0dGluZyBfaW5hY3RpdmUgdG8gZmFsc2UgaGVyZSBzbyB0aGF0IGEgcmVuZGVyIGZ1bmN0aW9uIGNhblxyXG4gICAgLy8gcmVseSBvbiBjaGVja2luZyB3aGV0aGVyIGl0J3MgaW4gYW4gaW5hY3RpdmUgdHJlZSAoZS5nLiByb3V0ZXItdmlldylcclxuICAgIHZtLl9pbmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgYWN0aXZhdGVkQ2hpbGRyZW4ucHVzaCh2bSk7XHJcbn1cclxuZnVuY3Rpb24gY2FsbEFjdGl2YXRlZEhvb2tzKHF1ZXVlKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgcXVldWVbaV0uX2luYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHF1ZXVlW2ldLCB0cnVlIC8qIHRydWUgKi8pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBQdXNoIGEgd2F0Y2hlciBpbnRvIHRoZSB3YXRjaGVyIHF1ZXVlLlxyXG4gKiBKb2JzIHdpdGggZHVwbGljYXRlIElEcyB3aWxsIGJlIHNraXBwZWQgdW5sZXNzIGl0J3NcclxuICogcHVzaGVkIHdoZW4gdGhlIHF1ZXVlIGlzIGJlaW5nIGZsdXNoZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWV1ZVdhdGNoZXIod2F0Y2hlcikge1xyXG4gICAgdmFyIGlkID0gd2F0Y2hlci5pZDtcclxuICAgIGlmIChoYXNbaWRdICE9IG51bGwpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAod2F0Y2hlciA9PT0gRGVwLnRhcmdldCAmJiB3YXRjaGVyLm5vUmVjdXJzZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGhhc1tpZF0gPSB0cnVlO1xyXG4gICAgaWYgKCFmbHVzaGluZykge1xyXG4gICAgICAgIHF1ZXVlLnB1c2god2F0Y2hlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpZiBhbHJlYWR5IGZsdXNoaW5nLCBzcGxpY2UgdGhlIHdhdGNoZXIgYmFzZWQgb24gaXRzIGlkXHJcbiAgICAgICAgLy8gaWYgYWxyZWFkeSBwYXN0IGl0cyBpZCwgaXQgd2lsbCBiZSBydW4gbmV4dCBpbW1lZGlhdGVseS5cclxuICAgICAgICB2YXIgaSA9IHF1ZXVlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgd2hpbGUgKGkgPiBpbmRleCQxICYmIHF1ZXVlW2ldLmlkID4gd2F0Y2hlci5pZCkge1xyXG4gICAgICAgICAgICBpLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlLnNwbGljZShpICsgMSwgMCwgd2F0Y2hlcik7XHJcbiAgICB9XHJcbiAgICAvLyBxdWV1ZSB0aGUgZmx1c2hcclxuICAgIGlmICghd2FpdGluZykge1xyXG4gICAgICAgIHdhaXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFjb25maWcuYXN5bmMpIHtcclxuICAgICAgICAgICAgZmx1c2hTY2hlZHVsZXJRdWV1ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5leHRUaWNrKGZsdXNoU2NoZWR1bGVyUXVldWUpO1xyXG4gICAgfVxyXG59XG5cbnZhciBXQVRDSEVSID0gXCJ3YXRjaGVyXCI7XHJcbnZhciBXQVRDSEVSX0NCID0gXCJcIi5jb25jYXQoV0FUQ0hFUiwgXCIgY2FsbGJhY2tcIik7XHJcbnZhciBXQVRDSEVSX0dFVFRFUiA9IFwiXCIuY29uY2F0KFdBVENIRVIsIFwiIGdldHRlclwiKTtcclxudmFyIFdBVENIRVJfQ0xFQU5VUCA9IFwiXCIuY29uY2F0KFdBVENIRVIsIFwiIGNsZWFudXBcIik7XHJcbi8vIFNpbXBsZSBlZmZlY3QuXHJcbmZ1bmN0aW9uIHdhdGNoRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiB3YXRjaFBvc3RFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nXHJcbiAgICAgICAgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgZmx1c2g6ICdwb3N0JyB9KSA6IHsgZmx1c2g6ICdwb3N0JyB9KSk7XHJcbn1cclxuZnVuY3Rpb24gd2F0Y2hTeW5jRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xyXG4gICAgICAgID8gX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGZsdXNoOiAnc3luYycgfSkgOiB7IGZsdXNoOiAnc3luYycgfSkpO1xyXG59XHJcbi8vIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzIHRvIHRyaWdnZXIgb24gdW5kZWZpbmVkIGluaXRpYWwgdmFsdWVzXHJcbnZhciBJTklUSUFMX1dBVENIRVJfVkFMVUUgPSB7fTtcclxuLy8gaW1wbGVtZW50YXRpb25cclxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgd2FybiQyKFwiYHdhdGNoKGZuLCBvcHRpb25zPylgIHNpZ25hdHVyZSBoYXMgYmVlbiBtb3ZlZCB0byBhIHNlcGFyYXRlIEFQSS4gXCIgK1xyXG4gICAgICAgICAgICBcIlVzZSBgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KWAgaW5zdGVhZC4gYHdhdGNoYCBub3cgb25seSBcIiArXHJcbiAgICAgICAgICAgIFwic3VwcG9ydHMgYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCBfYSkge1xyXG4gICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IGVtcHR5T2JqZWN0IDogX2EsIGltbWVkaWF0ZSA9IF9iLmltbWVkaWF0ZSwgZGVlcCA9IF9iLmRlZXAsIF9jID0gX2IuZmx1c2gsIGZsdXNoID0gX2MgPT09IHZvaWQgMCA/ICdwcmUnIDogX2MsIG9uVHJhY2sgPSBfYi5vblRyYWNrLCBvblRyaWdnZXIgPSBfYi5vblRyaWdnZXI7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY2IpIHtcclxuICAgICAgICBpZiAoaW1tZWRpYXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2FybiQyKFwid2F0Y2goKSBcXFwiaW1tZWRpYXRlXFxcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJ3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlZXAgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3YXJuJDIoXCJ3YXRjaCgpIFxcXCJkZWVwXFxcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJ3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgd2FybkludmFsaWRTb3VyY2UgPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgIHdhcm4kMihcIkludmFsaWQgd2F0Y2ggc291cmNlOiBcIi5jb25jYXQocywgXCIuIEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBcIikgK1xyXG4gICAgICAgICAgICBcImZ1bmN0aW9uLCBhIHJlZiwgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLlwiKTtcclxuICAgIH07XHJcbiAgICB2YXIgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICB2YXIgY2FsbCA9IGZ1bmN0aW9uIChmbiwgdHlwZSwgYXJncykge1xyXG4gICAgICAgIGlmIChhcmdzID09PSB2b2lkIDApIHsgYXJncyA9IG51bGw7IH1cclxuICAgICAgICByZXR1cm4gaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoZm4sIG51bGwsIGFyZ3MsIGluc3RhbmNlLCB0eXBlKTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0dGVyO1xyXG4gICAgdmFyIGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xyXG4gICAgdmFyIGlzTXVsdGlTb3VyY2UgPSBmYWxzZTtcclxuICAgIGlmIChpc1JlZihzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlLnZhbHVlOyB9O1xyXG4gICAgICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzb3VyY2UuX19vYl9fLmRlcC5kZXBlbmQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRlZXAgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XHJcbiAgICAgICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XHJcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gc291cmNlLnNvbWUoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIGlzUmVhY3RpdmUocykgfHwgaXNTaGFsbG93KHMpOyB9KTtcclxuICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubWFwKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWYocykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhdmVyc2Uocyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGwocywgV0FUQ0hFUl9HRVRURVIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAvLyBnZXR0ZXIgd2l0aCBjYlxyXG4gICAgICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsKHNvdXJjZSwgV0FUQ0hFUl9HRVRURVIpOyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbm8gY2IgLT4gc2ltcGxlIGVmZmVjdFxyXG4gICAgICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuX2lzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbChzb3VyY2UsIFdBVENIRVIsIFtvbkNsZWFudXBdKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnZXR0ZXIgPSBub29wO1xyXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcclxuICAgIH1cclxuICAgIGlmIChjYiAmJiBkZWVwKSB7XHJcbiAgICAgICAgdmFyIGJhc2VHZXR0ZXJfMSA9IGdldHRlcjtcclxuICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cmF2ZXJzZShiYXNlR2V0dGVyXzEoKSk7IH07XHJcbiAgICB9XHJcbiAgICB2YXIgY2xlYW51cDtcclxuICAgIHZhciBvbkNsZWFudXAgPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICBjbGVhbnVwID0gd2F0Y2hlci5vblN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhbGwoZm4sIFdBVENIRVJfQ0xFQU5VUCk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvLyBpbiBTU1IgdGhlcmUgaXMgbm8gbmVlZCB0byBzZXR1cCBhbiBhY3R1YWwgZWZmZWN0LCBhbmQgaXQgc2hvdWxkIGJlIG5vb3BcclxuICAgIC8vIHVubGVzcyBpdCdzIGVhZ2VyXHJcbiAgICBpZiAoaXNTZXJ2ZXJSZW5kZXJpbmcoKSkge1xyXG4gICAgICAgIC8vIHdlIHdpbGwgYWxzbyBub3QgY2FsbCB0aGUgaW52YWxpZGF0ZSBjYWxsYmFjayAoKyBydW5uZXIgaXMgbm90IHNldCB1cClcclxuICAgICAgICBvbkNsZWFudXAgPSBub29wO1xyXG4gICAgICAgIGlmICghY2IpIHtcclxuICAgICAgICAgICAgZ2V0dGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICBjYWxsKGNiLCBXQVRDSEVSX0NCLCBbXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXIoKSxcclxuICAgICAgICAgICAgICAgIGlzTXVsdGlTb3VyY2UgPyBbXSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vb3A7XHJcbiAgICB9XHJcbiAgICB2YXIgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKGN1cnJlbnRJbnN0YW5jZSwgZ2V0dGVyLCBub29wLCB7XHJcbiAgICAgICAgbGF6eTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICB3YXRjaGVyLm5vUmVjdXJzZSA9ICFjYjtcclxuICAgIHZhciBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBbXSA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcclxuICAgIC8vIG92ZXJ3cml0ZSBkZWZhdWx0IHJ1blxyXG4gICAgd2F0Y2hlci5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF3YXRjaGVyLmFjdGl2ZSAmJlxyXG4gICAgICAgICAgICAhKGZsdXNoID09PSAncHJlJyAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5faXNCZWluZ0Rlc3Ryb3llZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2goc291cmNlLCBjYilcclxuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gd2F0Y2hlci5nZXQoKTtcclxuICAgICAgICAgICAgaWYgKGRlZXAgfHxcclxuICAgICAgICAgICAgICAgIGZvcmNlVHJpZ2dlciB8fFxyXG4gICAgICAgICAgICAgICAgKGlzTXVsdGlTb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICA/IG5ld1ZhbHVlLnNvbWUoZnVuY3Rpb24gKHYsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc0NoYW5nZWQodiwgb2xkVmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGJlZm9yZSBydW5uaW5nIGNiIGFnYWluXHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGwoY2IsIFdBVENIRVJfQ0IsIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyB1bmRlZmluZWQgOiBvbGRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBvbkNsZWFudXBcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2hFZmZlY3RcclxuICAgICAgICAgICAgd2F0Y2hlci5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKGZsdXNoID09PSAnc3luYycpIHtcclxuICAgICAgICB3YXRjaGVyLnVwZGF0ZSA9IHdhdGNoZXIucnVuO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHdhdGNoZXIucG9zdCA9IHRydWU7XHJcbiAgICAgICAgd2F0Y2hlci51cGRhdGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBxdWV1ZVdhdGNoZXIod2F0Y2hlcik7IH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBwcmVcclxuICAgICAgICB3YXRjaGVyLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlID09PSBjdXJyZW50SW5zdGFuY2UgJiYgIWluc3RhbmNlLl9pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIHByZS13YXRjaGVyIHRyaWdnZXJlZCBiZWZvcmVcclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBpbnN0YW5jZS5fcHJlV2F0Y2hlcnMgfHwgKGluc3RhbmNlLl9wcmVXYXRjaGVycyA9IFtdKTtcclxuICAgICAgICAgICAgICAgIGlmIChidWZmZXIuaW5kZXhPZih3YXRjaGVyKSA8IDApXHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2god2F0Y2hlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZVdhdGNoZXIod2F0Y2hlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICB3YXRjaGVyLm9uVHJhY2sgPSBvblRyYWNrO1xyXG4gICAgICAgIHdhdGNoZXIub25UcmlnZ2VyID0gb25UcmlnZ2VyO1xyXG4gICAgfVxyXG4gICAgLy8gaW5pdGlhbCBydW5cclxuICAgIGlmIChjYikge1xyXG4gICAgICAgIGlmIChpbW1lZGlhdGUpIHtcclxuICAgICAgICAgICAgd2F0Y2hlci5ydW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlID0gd2F0Y2hlci5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbHVzaCA9PT0gJ3Bvc3QnICYmIGluc3RhbmNlKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuJG9uY2UoJ2hvb2s6bW91bnRlZCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdhdGNoZXIuZ2V0KCk7IH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgd2F0Y2hlci5nZXQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgd2F0Y2hlci50ZWFyZG93bigpO1xyXG4gICAgfTtcclxufVxuXG52YXIgYWN0aXZlRWZmZWN0U2NvcGU7XHJcbnZhciBFZmZlY3RTY29wZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEVmZmVjdFNjb3BlKGRldGFjaGVkKSB7XHJcbiAgICAgICAgaWYgKGRldGFjaGVkID09PSB2b2lkIDApIHsgZGV0YWNoZWQgPSBmYWxzZTsgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAaW50ZXJuYWxcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmVmZmVjdHMgPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAaW50ZXJuYWxcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNsZWFudXBzID0gW107XHJcbiAgICAgICAgaWYgKCFkZXRhY2hlZCAmJiBhY3RpdmVFZmZlY3RTY29wZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID1cclxuICAgICAgICAgICAgICAgIChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgfHwgKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyA9IFtdKSkucHVzaCh0aGlzKSAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgRWZmZWN0U2NvcGUucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChmbikge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gY3VycmVudEVmZmVjdFNjb3BlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgd2FybiQyKFwiY2Fubm90IHJ1biBhbiBpbmFjdGl2ZSBlZmZlY3Qgc2NvcGUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBFZmZlY3RTY29wZS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gbm9uLWRldGFjaGVkIHNjb3Blc1xyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIEVmZmVjdFNjb3BlLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzLnBhcmVudDtcclxuICAgIH07XHJcbiAgICBFZmZlY3RTY29wZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIChmcm9tUGFyZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gdm9pZCAwLCBsID0gdm9pZCAwO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnRlYXJkb3duKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuY2xlYW51cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBzW2ldKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29wZXNbaV0uc3RvcCh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBuZXN0ZWQgc2NvcGUsIGRlcmVmZXJlbmNlIGZyb20gcGFyZW50IHRvIGF2b2lkIG1lbW9yeSBsZWFrc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQgJiYgIWZyb21QYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIG9wdGltaXplZCBPKDEpIHJlbW92YWxcclxuICAgICAgICAgICAgICAgIHZhciBsYXN0ID0gdGhpcy5wYXJlbnQuc2NvcGVzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdCAhPT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjb3Blc1t0aGlzLmluZGV4XSA9IGxhc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdC5pbmRleCA9IHRoaXMuaW5kZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEVmZmVjdFNjb3BlO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBlZmZlY3RTY29wZShkZXRhY2hlZCkge1xyXG4gICAgcmV0dXJuIG5ldyBFZmZlY3RTY29wZShkZXRhY2hlZCk7XHJcbn1cclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gcmVjb3JkRWZmZWN0U2NvcGUoZWZmZWN0LCBzY29wZSkge1xyXG4gICAgaWYgKHNjb3BlID09PSB2b2lkIDApIHsgc2NvcGUgPSBhY3RpdmVFZmZlY3RTY29wZTsgfVxyXG4gICAgaWYgKHNjb3BlICYmIHNjb3BlLmFjdGl2ZSkge1xyXG4gICAgICAgIHNjb3BlLmVmZmVjdHMucHVzaChlZmZlY3QpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcclxuICAgIHJldHVybiBhY3RpdmVFZmZlY3RTY29wZTtcclxufVxyXG5mdW5jdGlvbiBvblNjb3BlRGlzcG9zZShmbikge1xyXG4gICAgaWYgKGFjdGl2ZUVmZmVjdFNjb3BlKSB7XHJcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUuY2xlYW51cHMucHVzaChmbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgd2FybiQyKFwib25TY29wZURpc3Bvc2UoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgZWZmZWN0IHNjb3BlXCIgK1xyXG4gICAgICAgICAgICBcIiB0byBiZSBhc3NvY2lhdGVkIHdpdGguXCIpO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICB3YXJuJDIoXCJwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gVFMgZG9lc24ndCBhbGxvdyBzeW1ib2wgYXMgaW5kZXggdHlwZVxyXG4gICAgICAgIHJlc29sdmVQcm92aWRlZChjdXJyZW50SW5zdGFuY2UpW2tleV0gPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXNvbHZlUHJvdmlkZWQodm0pIHtcclxuICAgIC8vIGJ5IGRlZmF1bHQgYW4gaW5zdGFuY2UgaW5oZXJpdHMgaXRzIHBhcmVudCdzIHByb3ZpZGVzIG9iamVjdFxyXG4gICAgLy8gYnV0IHdoZW4gaXQgbmVlZHMgdG8gcHJvdmlkZSB2YWx1ZXMgb2YgaXRzIG93biwgaXQgY3JlYXRlcyBpdHNcclxuICAgIC8vIG93biBwcm92aWRlcyBvYmplY3QgdXNpbmcgcGFyZW50IHByb3ZpZGVzIG9iamVjdCBhcyBwcm90b3R5cGUuXHJcbiAgICAvLyB0aGlzIHdheSBpbiBgaW5qZWN0YCB3ZSBjYW4gc2ltcGx5IGxvb2sgdXAgaW5qZWN0aW9ucyBmcm9tIGRpcmVjdFxyXG4gICAgLy8gcGFyZW50IGFuZCBsZXQgdGhlIHByb3RvdHlwZSBjaGFpbiBkbyB0aGUgd29yay5cclxuICAgIHZhciBleGlzdGluZyA9IHZtLl9wcm92aWRlZDtcclxuICAgIHZhciBwYXJlbnRQcm92aWRlcyA9IHZtLiRwYXJlbnQgJiYgdm0uJHBhcmVudC5fcHJvdmlkZWQ7XHJcbiAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IGV4aXN0aW5nKSB7XHJcbiAgICAgICAgcmV0dXJuICh2bS5fcHJvdmlkZWQgPSBPYmplY3QuY3JlYXRlKHBhcmVudFByb3ZpZGVzKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkpIHtcclxuICAgIGlmICh0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPT09IHZvaWQgMCkgeyB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZTsgfVxyXG4gICAgLy8gZmFsbGJhY2sgdG8gYGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZWAgc28gdGhhdCB0aGlzIGNhbiBiZSBjYWxsZWQgaW5cclxuICAgIC8vIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcclxuICAgIHZhciBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIC8vICMyNDAwXHJcbiAgICAgICAgLy8gdG8gc3VwcG9ydCBgYXBwLnVzZWAgcGx1Z2lucyxcclxuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHBDb250ZXh0J3MgYHByb3ZpZGVzYCBpZiB0aGUgaW5zdGFuY2UgaXMgYXQgcm9vdFxyXG4gICAgICAgIHZhciBwcm92aWRlcyA9IGluc3RhbmNlLiRwYXJlbnQgJiYgaW5zdGFuY2UuJHBhcmVudC5fcHJvdmlkZWQ7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xyXG4gICAgICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJlYXREZWZhdWx0QXNGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZSlcclxuICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHdhcm4kMihcImluamVjdGlvbiBcXFwiXCIuY29uY2F0KFN0cmluZyhrZXkpLCBcIlxcXCIgbm90IGZvdW5kLlwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIHdhcm4kMihcImluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLlwiKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGludGVybmFsIHRoaXMgZnVuY3Rpb24gbmVlZHMgbWFudWFsIHB1YmxpYyB0eXBlIGRlY2xhcmF0aW9uIGJlY2F1c2UgaXQgcmVsaWVzXHJcbiAqIG9uIHByZXZpb3VzbHkgbWFudWFsbHkgYXV0aG9yZWQgdHlwZXMgZnJvbSBWdWUgMlxyXG4gKi9cclxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wcywgY2hpbGRyZW4pIHtcclxuICAgIGlmICghY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICB3YXJuJDIoXCJnbG9iYWxseSBpbXBvcnRlZCBoKCkgY2FuIG9ubHkgYmUgaW52b2tlZCB3aGVuIHRoZXJlIGlzIGFuIGFjdGl2ZSBcIiArXHJcbiAgICAgICAgICAgICAgICBcImNvbXBvbmVudCBpbnN0YW5jZSwgZS5nLiBzeW5jaHJvbm91c2x5IGluIGEgY29tcG9uZW50J3MgcmVuZGVyIG9yIHNldHVwIGZ1bmN0aW9uLlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50JDEoY3VycmVudEluc3RhbmNlLCB0eXBlLCBwcm9wcywgY2hpbGRyZW4sIDIsIHRydWUpO1xyXG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGVyciwgdm0sIGluZm8pIHtcclxuICAgIC8vIERlYWN0aXZhdGUgZGVwcyB0cmFja2luZyB3aGlsZSBwcm9jZXNzaW5nIGVycm9yIGhhbmRsZXIgdG8gYXZvaWQgcG9zc2libGUgaW5maW5pdGUgcmVuZGVyaW5nLlxyXG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVleC9pc3N1ZXMvMTUwNVxyXG4gICAgcHVzaFRhcmdldCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAodm0pIHtcclxuICAgICAgICAgICAgdmFyIGN1ciA9IHZtO1xyXG4gICAgICAgICAgICB3aGlsZSAoKGN1ciA9IGN1ci4kcGFyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhvb2tzID0gY3VyLiRvcHRpb25zLmVycm9yQ2FwdHVyZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FwdHVyZSA9IGhvb2tzW2ldLmNhbGwoY3VyLCBlcnIsIHZtLCBpbmZvKSA9PT0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FwdHVyZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEhhbmRsZUVycm9yKGUsIGN1ciwgJ2Vycm9yQ2FwdHVyZWQgaG9vaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsb2JhbEhhbmRsZUVycm9yKGVyciwgdm0sIGluZm8pO1xyXG4gICAgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgcG9wVGFyZ2V0KCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoaGFuZGxlciwgY29udGV4dCwgYXJncywgdm0sIGluZm8pIHtcclxuICAgIHZhciByZXM7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJlcyA9IGFyZ3MgPyBoYW5kbGVyLmFwcGx5KGNvbnRleHQsIGFyZ3MpIDogaGFuZGxlci5jYWxsKGNvbnRleHQpO1xyXG4gICAgICAgIGlmIChyZXMgJiYgIXJlcy5faXNWdWUgJiYgaXNQcm9taXNlKHJlcykgJiYgIXJlcy5faGFuZGxlZCkge1xyXG4gICAgICAgICAgICByZXMuY2F0Y2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGUsIHZtLCBpbmZvICsgXCIgKFByb21pc2UvYXN5bmMpXCIpOyB9KTtcclxuICAgICAgICAgICAgcmVzLl9oYW5kbGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKGUsIHZtLCBpbmZvKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gZ2xvYmFsSGFuZGxlRXJyb3IoZXJyLCB2bSwgaW5mbykge1xyXG4gICAgaWYgKGNvbmZpZy5lcnJvckhhbmRsZXIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnLmVycm9ySGFuZGxlci5jYWxsKG51bGwsIGVyciwgdm0sIGluZm8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgdXNlciBpbnRlbnRpb25hbGx5IHRocm93cyB0aGUgb3JpZ2luYWwgZXJyb3IgaW4gdGhlIGhhbmRsZXIsXHJcbiAgICAgICAgICAgIC8vIGRvIG5vdCBsb2cgaXQgdHdpY2VcclxuICAgICAgICAgICAgaWYgKGUgIT09IGVycikge1xyXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZSwgbnVsbCwgJ2NvbmZpZy5lcnJvckhhbmRsZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvZ0Vycm9yKGVyciwgdm0sIGluZm8pO1xyXG59XHJcbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdm0sIGluZm8pIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgd2FybiQyKFwiRXJyb3IgaW4gXCIuY29uY2F0KGluZm8sIFwiOiBcXFwiXCIpLmNvbmNhdChlcnIudG9TdHJpbmcoKSwgXCJcXFwiXCIpLCB2bSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgaWYgKGluQnJvd3NlciAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcbn1cblxuLyogZ2xvYmFscyBNdXRhdGlvbk9ic2VydmVyICovXHJcbnZhciBpc1VzaW5nTWljcm9UYXNrID0gZmFsc2U7XHJcbnZhciBjYWxsYmFja3MgPSBbXTtcclxudmFyIHBlbmRpbmcgPSBmYWxzZTtcclxuZnVuY3Rpb24gZmx1c2hDYWxsYmFja3MoKSB7XHJcbiAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICB2YXIgY29waWVzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xyXG4gICAgY2FsbGJhY2tzLmxlbmd0aCA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvcGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvcGllc1tpXSgpO1xyXG4gICAgfVxyXG59XHJcbi8vIEhlcmUgd2UgaGF2ZSBhc3luYyBkZWZlcnJpbmcgd3JhcHBlcnMgdXNpbmcgbWljcm90YXNrcy5cclxuLy8gSW4gMi41IHdlIHVzZWQgKG1hY3JvKSB0YXNrcyAoaW4gY29tYmluYXRpb24gd2l0aCBtaWNyb3Rhc2tzKS5cclxuLy8gSG93ZXZlciwgaXQgaGFzIHN1YnRsZSBwcm9ibGVtcyB3aGVuIHN0YXRlIGlzIGNoYW5nZWQgcmlnaHQgYmVmb3JlIHJlcGFpbnRcclxuLy8gKGUuZy4gIzY4MTMsIG91dC1pbiB0cmFuc2l0aW9ucykuXHJcbi8vIEFsc28sIHVzaW5nIChtYWNybykgdGFza3MgaW4gZXZlbnQgaGFuZGxlciB3b3VsZCBjYXVzZSBzb21lIHdlaXJkIGJlaGF2aW9yc1xyXG4vLyB0aGF0IGNhbm5vdCBiZSBjaXJjdW12ZW50ZWQgKGUuZy4gIzcxMDksICM3MTUzLCAjNzU0NiwgIzc4MzQsICM4MTA5KS5cclxuLy8gU28gd2Ugbm93IHVzZSBtaWNyb3Rhc2tzIGV2ZXJ5d2hlcmUsIGFnYWluLlxyXG4vLyBBIG1ham9yIGRyYXdiYWNrIG9mIHRoaXMgdHJhZGVvZmYgaXMgdGhhdCB0aGVyZSBhcmUgc29tZSBzY2VuYXJpb3NcclxuLy8gd2hlcmUgbWljcm90YXNrcyBoYXZlIHRvbyBoaWdoIGEgcHJpb3JpdHkgYW5kIGZpcmUgaW4gYmV0d2VlbiBzdXBwb3NlZGx5XHJcbi8vIHNlcXVlbnRpYWwgZXZlbnRzIChlLmcuICM0NTIxLCAjNjY5MCwgd2hpY2ggaGF2ZSB3b3JrYXJvdW5kcylcclxuLy8gb3IgZXZlbiBiZXR3ZWVuIGJ1YmJsaW5nIG9mIHRoZSBzYW1lIGV2ZW50ICgjNjU2NikuXHJcbnZhciB0aW1lckZ1bmM7XHJcbi8vIFRoZSBuZXh0VGljayBiZWhhdmlvciBsZXZlcmFnZXMgdGhlIG1pY3JvdGFzayBxdWV1ZSwgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkXHJcbi8vIHZpYSBlaXRoZXIgbmF0aXZlIFByb21pc2UudGhlbiBvciBNdXRhdGlvbk9ic2VydmVyLlxyXG4vLyBNdXRhdGlvbk9ic2VydmVyIGhhcyB3aWRlciBzdXBwb3J0LCBob3dldmVyIGl0IGlzIHNlcmlvdXNseSBidWdnZWQgaW5cclxuLy8gVUlXZWJWaWV3IGluIGlPUyA+PSA5LjMuMyB3aGVuIHRyaWdnZXJlZCBpbiB0b3VjaCBldmVudCBoYW5kbGVycy4gSXRcclxuLy8gY29tcGxldGVseSBzdG9wcyB3b3JraW5nIGFmdGVyIHRyaWdnZXJpbmcgYSBmZXcgdGltZXMuLi4gc28sIGlmIG5hdGl2ZVxyXG4vLyBQcm9taXNlIGlzIGF2YWlsYWJsZSwgd2Ugd2lsbCB1c2UgaXQ6XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0LCAkZmxvdy1kaXNhYmxlLWxpbmUgKi9cclxuaWYgKHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShQcm9taXNlKSkge1xyXG4gICAgdmFyIHBfMSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBfMS50aGVuKGZsdXNoQ2FsbGJhY2tzKTtcclxuICAgICAgICAvLyBJbiBwcm9ibGVtYXRpYyBVSVdlYlZpZXdzLCBQcm9taXNlLnRoZW4gZG9lc24ndCBjb21wbGV0ZWx5IGJyZWFrLCBidXRcclxuICAgICAgICAvLyBpdCBjYW4gZ2V0IHN0dWNrIGluIGEgd2VpcmQgc3RhdGUgd2hlcmUgY2FsbGJhY2tzIGFyZSBwdXNoZWQgaW50byB0aGVcclxuICAgICAgICAvLyBtaWNyb3Rhc2sgcXVldWUgYnV0IHRoZSBxdWV1ZSBpc24ndCBiZWluZyBmbHVzaGVkLCB1bnRpbCB0aGUgYnJvd3NlclxyXG4gICAgICAgIC8vIG5lZWRzIHRvIGRvIHNvbWUgb3RoZXIgd29yaywgZS5nLiBoYW5kbGUgYSB0aW1lci4gVGhlcmVmb3JlIHdlIGNhblxyXG4gICAgICAgIC8vIFwiZm9yY2VcIiB0aGUgbWljcm90YXNrIHF1ZXVlIHRvIGJlIGZsdXNoZWQgYnkgYWRkaW5nIGFuIGVtcHR5IHRpbWVyLlxyXG4gICAgICAgIGlmIChpc0lPUylcclxuICAgICAgICAgICAgc2V0VGltZW91dChub29wKTtcclxuICAgIH07XHJcbiAgICBpc1VzaW5nTWljcm9UYXNrID0gdHJ1ZTtcclxufVxyXG5lbHNlIGlmICghaXNJRSAmJlxyXG4gICAgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAoaXNOYXRpdmUoTXV0YXRpb25PYnNlcnZlcikgfHxcclxuICAgICAgICAvLyBQaGFudG9tSlMgYW5kIGlPUyA3LnhcclxuICAgICAgICBNdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nKSkge1xyXG4gICAgLy8gVXNlIE11dGF0aW9uT2JzZXJ2ZXIgd2hlcmUgbmF0aXZlIFByb21pc2UgaXMgbm90IGF2YWlsYWJsZSxcclxuICAgIC8vIGUuZy4gUGhhbnRvbUpTLCBpT1M3LCBBbmRyb2lkIDQuNFxyXG4gICAgLy8gKCM2NDY2IE11dGF0aW9uT2JzZXJ2ZXIgaXMgdW5yZWxpYWJsZSBpbiBJRTExKVxyXG4gICAgdmFyIGNvdW50ZXJfMSA9IDE7XHJcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaENhbGxiYWNrcyk7XHJcbiAgICB2YXIgdGV4dE5vZGVfMSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyhjb3VudGVyXzEpKTtcclxuICAgIG9ic2VydmVyLm9ic2VydmUodGV4dE5vZGVfMSwge1xyXG4gICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWVcclxuICAgIH0pO1xyXG4gICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvdW50ZXJfMSA9IChjb3VudGVyXzEgKyAxKSAlIDI7XHJcbiAgICAgICAgdGV4dE5vZGVfMS5kYXRhID0gU3RyaW5nKGNvdW50ZXJfMSk7XHJcbiAgICB9O1xyXG4gICAgaXNVc2luZ01pY3JvVGFzayA9IHRydWU7XHJcbn1cclxuZWxzZSBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoc2V0SW1tZWRpYXRlKSkge1xyXG4gICAgLy8gRmFsbGJhY2sgdG8gc2V0SW1tZWRpYXRlLlxyXG4gICAgLy8gVGVjaG5pY2FsbHkgaXQgbGV2ZXJhZ2VzIHRoZSAobWFjcm8pIHRhc2sgcXVldWUsXHJcbiAgICAvLyBidXQgaXQgaXMgc3RpbGwgYSBiZXR0ZXIgY2hvaWNlIHRoYW4gc2V0VGltZW91dC5cclxuICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZXRJbW1lZGlhdGUoZmx1c2hDYWxsYmFja3MpO1xyXG4gICAgfTtcclxufVxyXG5lbHNlIHtcclxuICAgIC8vIEZhbGxiYWNrIHRvIHNldFRpbWVvdXQuXHJcbiAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmbHVzaENhbGxiYWNrcywgMCk7XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIG5leHRUaWNrKGNiLCBjdHgpIHtcclxuICAgIHZhciBfcmVzb2x2ZTtcclxuICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNiLmNhbGwoY3R4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgY3R4LCAnbmV4dFRpY2snKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfcmVzb2x2ZSkge1xyXG4gICAgICAgICAgICBfcmVzb2x2ZShjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKCFwZW5kaW5nKSB7XHJcbiAgICAgICAgcGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgdGltZXJGdW5jKCk7XHJcbiAgICB9XHJcbiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcclxuICAgIGlmICghY2IgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiB1c2VDc3NNb2R1bGUobmFtZSkge1xyXG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJyRzdHlsZSc7IH1cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuJDIoXCJ1c2VDc3NNb2R1bGUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIHNldHVwKClcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBlbXB0eU9iamVjdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1vZCA9IGN1cnJlbnRJbnN0YW5jZVtuYW1lXTtcclxuICAgICAgICBpZiAoIW1vZCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIi5cIikpO1xyXG4gICAgICAgICAgICByZXR1cm4gZW1wdHlPYmplY3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb2Q7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciBTRkMncyBDU1MgdmFyaWFibGUgaW5qZWN0aW9uIGZlYXR1cmUuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlcikge1xyXG4gICAgaWYgKCFpbkJyb3dzZXIgJiYgIWZhbHNlKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHdhcm4kMihcInVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLlwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB3YXRjaFBvc3RFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlbCA9IGluc3RhbmNlLiRlbDtcclxuICAgICAgICB2YXIgdmFycyA9IGdldHRlcihpbnN0YW5jZSwgaW5zdGFuY2UuX3NldHVwUHJveHkpO1xyXG4gICAgICAgIGlmIChlbCAmJiBlbC5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBlbC5zdHlsZTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHZhcnMpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFwiLS1cIi5jb25jYXQoa2V5KSwgdmFyc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XG5cbi8qKlxyXG4gKiB2My1jb21wYXRpYmxlIGFzeW5jIGNvbXBvbmVudCBBUEkuXHJcbiAqIEBpbnRlcm5hbCB0aGUgdHlwZSBpcyBtYW51YWxseSBkZWNsYXJlZCBpbiA8cm9vdD4vdHlwZXMvdjMtZGVmaW5lLWFzeW5jLWNvbXBvbmVudC5kLnRzXHJcbiAqIGJlY2F1c2UgaXQgcmVsaWVzIG9uIGV4aXN0aW5nIG1hbnVhbCB0eXBlc1xyXG4gKi9cclxuZnVuY3Rpb24gZGVmaW5lQXN5bmNDb21wb25lbnQoc291cmNlKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XHJcbiAgICAgICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xyXG4gICAgfVxyXG4gICAgdmFyIGxvYWRlciA9IHNvdXJjZS5sb2FkZXIsIGxvYWRpbmdDb21wb25lbnQgPSBzb3VyY2UubG9hZGluZ0NvbXBvbmVudCwgZXJyb3JDb21wb25lbnQgPSBzb3VyY2UuZXJyb3JDb21wb25lbnQsIF9hID0gc291cmNlLmRlbGF5LCBkZWxheSA9IF9hID09PSB2b2lkIDAgPyAyMDAgOiBfYSwgdGltZW91dCA9IHNvdXJjZS50aW1lb3V0LCAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcclxuICAgIF9iID0gc291cmNlLnN1c3BlbnNpYmxlLCAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcclxuICAgIHN1c3BlbnNpYmxlID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2IsIC8vIGluIFZ1ZSAzIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgdXNlck9uRXJyb3IgPSBzb3VyY2Uub25FcnJvcjtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHN1c3BlbnNpYmxlKSB7XHJcbiAgICAgICAgd2FybiQyKFwiVGhlIHN1c3BlbnNpYmxiZSBvcHRpb24gZm9yIGFzeW5jIGNvbXBvbmVudHMgaXMgbm90IHN1cHBvcnRlZCBpbiBWdWUyLiBJdCBpcyBpZ25vcmVkLlwiKTtcclxuICAgIH1cclxuICAgIHZhciBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XHJcbiAgICB2YXIgcmV0cmllcyA9IDA7XHJcbiAgICB2YXIgcmV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0cmllcysrO1xyXG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gbG9hZCgpO1xyXG4gICAgfTtcclxuICAgIHZhciBsb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGlzUmVxdWVzdDtcclxuICAgICAgICByZXR1cm4gKHBlbmRpbmdSZXF1ZXN0IHx8XHJcbiAgICAgICAgICAgICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID1cclxuICAgICAgICAgICAgICAgIGxvYWRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnIgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlclJldHJ5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZShyZXRyeSgpKTsgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyRmFpbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck9uRXJyb3IoZXJyLCB1c2VyUmV0cnksIHVzZXJGYWlsLCByZXRyaWVzICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWNvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQyKFwiQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcm9wIG1vZHVsZSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbXAuX19lc01vZHVsZSB8fCBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogXCIuY29uY2F0KGNvbXApKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXA7XHJcbiAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IGxvYWQoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcclxuICAgICAgICAgICAgZGVsYXk6IGRlbGF5LFxyXG4gICAgICAgICAgICB0aW1lb3V0OiB0aW1lb3V0LFxyXG4gICAgICAgICAgICBlcnJvcjogZXJyb3JDb21wb25lbnQsXHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGxvYWRpbmdDb21wb25lbnRcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBjcmVhdGVMaWZlQ3ljbGUoaG9va05hbWUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZm4sIHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgeyB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2U7IH1cclxuICAgICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJcIi5jb25jYXQoZm9ybWF0TmFtZShob29rTmFtZSksIFwiIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgXCIpICtcclxuICAgICAgICAgICAgICAgICAgICBcImFzc29jaWF0ZWQgd2l0aC4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5qZWN0SG9vayh0YXJnZXQsIGhvb2tOYW1lLCBmbik7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdE5hbWUobmFtZSkge1xyXG4gICAgaWYgKG5hbWUgPT09ICdiZWZvcmVEZXN0cm95Jykge1xyXG4gICAgICAgIG5hbWUgPSAnYmVmb3JlVW5tb3VudCc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChuYW1lID09PSAnZGVzdHJveWVkJykge1xyXG4gICAgICAgIG5hbWUgPSAndW5tb3VudGVkJztcclxuICAgIH1cclxuICAgIHJldHVybiBcIm9uXCIuY29uY2F0KG5hbWVbMF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSkpO1xyXG59XHJcbmZ1bmN0aW9uIGluamVjdEhvb2soaW5zdGFuY2UsIGhvb2tOYW1lLCBmbikge1xyXG4gICAgdmFyIG9wdGlvbnMgPSBpbnN0YW5jZS4kb3B0aW9ucztcclxuICAgIG9wdGlvbnNbaG9va05hbWVdID0gbWVyZ2VMaWZlY3ljbGVIb29rKG9wdGlvbnNbaG9va05hbWVdLCBmbik7XHJcbn1cclxudmFyIG9uQmVmb3JlTW91bnQgPSBjcmVhdGVMaWZlQ3ljbGUoJ2JlZm9yZU1vdW50Jyk7XHJcbnZhciBvbk1vdW50ZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ21vdW50ZWQnKTtcclxudmFyIG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlTGlmZUN5Y2xlKCdiZWZvcmVVcGRhdGUnKTtcclxudmFyIG9uVXBkYXRlZCA9IGNyZWF0ZUxpZmVDeWNsZSgndXBkYXRlZCcpO1xyXG52YXIgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlTGlmZUN5Y2xlKCdiZWZvcmVEZXN0cm95Jyk7XHJcbnZhciBvblVubW91bnRlZCA9IGNyZWF0ZUxpZmVDeWNsZSgnZGVzdHJveWVkJyk7XHJcbnZhciBvbkVycm9yQ2FwdHVyZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ2Vycm9yQ2FwdHVyZWQnKTtcclxudmFyIG9uQWN0aXZhdGVkID0gY3JlYXRlTGlmZUN5Y2xlKCdhY3RpdmF0ZWQnKTtcclxudmFyIG9uRGVhY3RpdmF0ZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ2RlYWN0aXZhdGVkJyk7XHJcbnZhciBvblNlcnZlclByZWZldGNoID0gY3JlYXRlTGlmZUN5Y2xlKCdzZXJ2ZXJQcmVmZXRjaCcpO1xyXG52YXIgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlTGlmZUN5Y2xlKCdyZW5kZXJUcmFja2VkJyk7XHJcbnZhciBvblJlbmRlclRyaWdnZXJlZCA9IGNyZWF0ZUxpZmVDeWNsZSgncmVuZGVyVHJpZ2dlcmVkJyk7XG5cbi8qKlxyXG4gKiBOb3RlOiBhbHNvIHVwZGF0ZSBkaXN0L3Z1ZS5ydW50aW1lLm1qcyB3aGVuIGFkZGluZyBuZXcgZXhwb3J0cyB0byB0aGlzIGZpbGUuXHJcbiAqL1xyXG52YXIgdmVyc2lvbiA9ICcyLjcuOCc7XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWwgdHlwZSBpcyBtYW51YWxseSBkZWNsYXJlZCBpbiA8cm9vdD4vdHlwZXMvdjMtZGVmaW5lLWNvbXBvbmVudC5kLnRzXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWZpbmVDb21wb25lbnQob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG9wdGlvbnM7XHJcbn1cblxudmFyIHNlZW5PYmplY3RzID0gbmV3IF9TZXQoKTtcclxuLyoqXHJcbiAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFuIG9iamVjdCB0byBldm9rZSBhbGwgY29udmVydGVkXHJcbiAqIGdldHRlcnMsIHNvIHRoYXQgZXZlcnkgbmVzdGVkIHByb3BlcnR5IGluc2lkZSB0aGUgb2JqZWN0XHJcbiAqIGlzIGNvbGxlY3RlZCBhcyBhIFwiZGVlcFwiIGRlcGVuZGVuY3kuXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmF2ZXJzZSh2YWwpIHtcclxuICAgIF90cmF2ZXJzZSh2YWwsIHNlZW5PYmplY3RzKTtcclxuICAgIHNlZW5PYmplY3RzLmNsZWFyKCk7XHJcbiAgICByZXR1cm4gdmFsO1xyXG59XHJcbmZ1bmN0aW9uIF90cmF2ZXJzZSh2YWwsIHNlZW4pIHtcclxuICAgIHZhciBpLCBrZXlzO1xyXG4gICAgdmFyIGlzQSA9IGlzQXJyYXkodmFsKTtcclxuICAgIGlmICgoIWlzQSAmJiAhaXNPYmplY3QodmFsKSkgfHxcclxuICAgICAgICBPYmplY3QuaXNGcm96ZW4odmFsKSB8fFxyXG4gICAgICAgIHZhbCBpbnN0YW5jZW9mIFZOb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbC5fX29iX18pIHtcclxuICAgICAgICB2YXIgZGVwSWQgPSB2YWwuX19vYl9fLmRlcC5pZDtcclxuICAgICAgICBpZiAoc2Vlbi5oYXMoZGVwSWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2Vlbi5hZGQoZGVwSWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQSkge1xyXG4gICAgICAgIGkgPSB2YWwubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pXHJcbiAgICAgICAgICAgIF90cmF2ZXJzZSh2YWxbaV0sIHNlZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWYodmFsKSkge1xyXG4gICAgICAgIF90cmF2ZXJzZSh2YWwudmFsdWUsIHNlZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XHJcbiAgICAgICAgaSA9IGtleXMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pXHJcbiAgICAgICAgICAgIF90cmF2ZXJzZSh2YWxba2V5c1tpXV0sIHNlZW4pO1xyXG4gICAgfVxyXG59XG5cbnZhciB1aWQkMSA9IDA7XHJcbi8qKlxyXG4gKiBBIHdhdGNoZXIgcGFyc2VzIGFuIGV4cHJlc3Npb24sIGNvbGxlY3RzIGRlcGVuZGVuY2llcyxcclxuICogYW5kIGZpcmVzIGNhbGxiYWNrIHdoZW4gdGhlIGV4cHJlc3Npb24gdmFsdWUgY2hhbmdlcy5cclxuICogVGhpcyBpcyB1c2VkIGZvciBib3RoIHRoZSAkd2F0Y2goKSBhcGkgYW5kIGRpcmVjdGl2ZXMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxudmFyIFdhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBXYXRjaGVyKHZtLCBleHBPckZuLCBjYiwgb3B0aW9ucywgaXNSZW5kZXJXYXRjaGVyKSB7XHJcbiAgICAgICAgcmVjb3JkRWZmZWN0U2NvcGUodGhpcywgYWN0aXZlRWZmZWN0U2NvcGUgfHwgKHZtID8gdm0uX3Njb3BlIDogdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgaWYgKCh0aGlzLnZtID0gdm0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1JlbmRlcldhdGNoZXIpIHtcclxuICAgICAgICAgICAgICAgIHZtLl93YXRjaGVyID0gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBvcHRpb25zXHJcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWVwID0gISFvcHRpb25zLmRlZXA7XHJcbiAgICAgICAgICAgIHRoaXMudXNlciA9ICEhb3B0aW9ucy51c2VyO1xyXG4gICAgICAgICAgICB0aGlzLmxhenkgPSAhIW9wdGlvbnMubGF6eTtcclxuICAgICAgICAgICAgdGhpcy5zeW5jID0gISFvcHRpb25zLnN5bmM7XHJcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlID0gb3B0aW9ucy5iZWZvcmU7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uVHJhY2sgPSBvcHRpb25zLm9uVHJhY2s7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uVHJpZ2dlciA9IG9wdGlvbnMub25UcmlnZ2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlZXAgPSB0aGlzLnVzZXIgPSB0aGlzLmxhenkgPSB0aGlzLnN5bmMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYiA9IGNiO1xyXG4gICAgICAgIHRoaXMuaWQgPSArK3VpZCQxOyAvLyB1aWQgZm9yIGJhdGNoaW5nXHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucG9zdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSB0aGlzLmxhenk7IC8vIGZvciBsYXp5IHdhdGNoZXJzXHJcbiAgICAgICAgdGhpcy5kZXBzID0gW107XHJcbiAgICAgICAgdGhpcy5uZXdEZXBzID0gW107XHJcbiAgICAgICAgdGhpcy5kZXBJZHMgPSBuZXcgX1NldCgpO1xyXG4gICAgICAgIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTtcclxuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gZXhwT3JGbi50b1N0cmluZygpIDogJyc7XHJcbiAgICAgICAgLy8gcGFyc2UgZXhwcmVzc2lvbiBmb3IgZ2V0dGVyXHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZXhwT3JGbikpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXR0ZXIgPSBleHBPckZuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5nZXR0ZXIgPSBwYXJzZVBhdGgoZXhwT3JGbik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0dGVyID0gbm9vcDtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgICAgICB3YXJuJDIoXCJGYWlsZWQgd2F0Y2hpbmcgcGF0aDogXFxcIlwiLmNvbmNhdChleHBPckZuLCBcIlxcXCIgXCIpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1dhdGNoZXIgb25seSBhY2NlcHRzIHNpbXBsZSBkb3QtZGVsaW1pdGVkIHBhdGhzLiAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ0ZvciBmdWxsIGNvbnRyb2wsIHVzZSBhIGZ1bmN0aW9uIGluc3RlYWQuJywgdm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmxhenkgPyB1bmRlZmluZWQgOiB0aGlzLmdldCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFdmFsdWF0ZSB0aGUgZ2V0dGVyLCBhbmQgcmUtY29sbGVjdCBkZXBlbmRlbmNpZXMuXHJcbiAgICAgKi9cclxuICAgIFdhdGNoZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwdXNoVGFyZ2V0KHRoaXMpO1xyXG4gICAgICAgIHZhciB2YWx1ZTtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzLnZtO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5nZXR0ZXIuY2FsbCh2bSwgdm0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlLCB2bSwgXCJnZXR0ZXIgZm9yIHdhdGNoZXIgXFxcIlwiLmNvbmNhdCh0aGlzLmV4cHJlc3Npb24sIFwiXFxcIlwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAvLyBcInRvdWNoXCIgZXZlcnkgcHJvcGVydHkgc28gdGhleSBhcmUgYWxsIHRyYWNrZWQgYXNcclxuICAgICAgICAgICAgLy8gZGVwZW5kZW5jaWVzIGZvciBkZWVwIHdhdGNoaW5nXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRlZXApIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwb3BUYXJnZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5jbGVhbnVwRGVwcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBkZXBlbmRlbmN5IHRvIHRoaXMgZGlyZWN0aXZlLlxyXG4gICAgICovXHJcbiAgICBXYXRjaGVyLnByb3RvdHlwZS5hZGREZXAgPSBmdW5jdGlvbiAoZGVwKSB7XHJcbiAgICAgICAgdmFyIGlkID0gZGVwLmlkO1xyXG4gICAgICAgIGlmICghdGhpcy5uZXdEZXBJZHMuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICB0aGlzLm5ld0RlcElkcy5hZGQoaWQpO1xyXG4gICAgICAgICAgICB0aGlzLm5ld0RlcHMucHVzaChkZXApO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGVwSWRzLmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgICAgIGRlcC5hZGRTdWIodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhbiB1cCBmb3IgZGVwZW5kZW5jeSBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBXYXRjaGVyLnByb3RvdHlwZS5jbGVhbnVwRGVwcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICB2YXIgZGVwID0gdGhpcy5kZXBzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMubmV3RGVwSWRzLmhhcyhkZXAuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICBkZXAucmVtb3ZlU3ViKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0bXAgPSB0aGlzLmRlcElkcztcclxuICAgICAgICB0aGlzLmRlcElkcyA9IHRoaXMubmV3RGVwSWRzO1xyXG4gICAgICAgIHRoaXMubmV3RGVwSWRzID0gdG1wO1xyXG4gICAgICAgIHRoaXMubmV3RGVwSWRzLmNsZWFyKCk7XHJcbiAgICAgICAgdG1wID0gdGhpcy5kZXBzO1xyXG4gICAgICAgIHRoaXMuZGVwcyA9IHRoaXMubmV3RGVwcztcclxuICAgICAgICB0aGlzLm5ld0RlcHMgPSB0bXA7XHJcbiAgICAgICAgdGhpcy5uZXdEZXBzLmxlbmd0aCA9IDA7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmVyIGludGVyZmFjZS5cclxuICAgICAqIFdpbGwgYmUgY2FsbGVkIHdoZW4gYSBkZXBlbmRlbmN5IGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIFdhdGNoZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmICh0aGlzLmxhenkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3luYykge1xyXG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcXVldWVXYXRjaGVyKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNjaGVkdWxlciBqb2IgaW50ZXJmYWNlLlxyXG4gICAgICogV2lsbCBiZSBjYWxsZWQgYnkgdGhlIHNjaGVkdWxlci5cclxuICAgICAqL1xyXG4gICAgV2F0Y2hlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldCgpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMudmFsdWUgfHxcclxuICAgICAgICAgICAgICAgIC8vIERlZXAgd2F0Y2hlcnMgYW5kIHdhdGNoZXJzIG9uIE9iamVjdC9BcnJheXMgc2hvdWxkIGZpcmUgZXZlblxyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgdmFsdWUgaXMgdGhlIHNhbWUsIGJlY2F1c2UgdGhlIHZhbHVlIG1heVxyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBtdXRhdGVkLlxyXG4gICAgICAgICAgICAgICAgaXNPYmplY3QodmFsdWUpIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlZXApIHtcclxuICAgICAgICAgICAgICAgIC8vIHNldCBuZXcgdmFsdWVcclxuICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBcImNhbGxiYWNrIGZvciB3YXRjaGVyIFxcXCJcIi5jb25jYXQodGhpcy5leHByZXNzaW9uLCBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlV2l0aEVycm9ySGFuZGxpbmcodGhpcy5jYiwgdGhpcy52bSwgW3ZhbHVlLCBvbGRWYWx1ZV0sIHRoaXMudm0sIGluZm8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMudm0sIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFdmFsdWF0ZSB0aGUgdmFsdWUgb2YgdGhlIHdhdGNoZXIuXHJcbiAgICAgKiBUaGlzIG9ubHkgZ2V0cyBjYWxsZWQgZm9yIGxhenkgd2F0Y2hlcnMuXHJcbiAgICAgKi9cclxuICAgIFdhdGNoZXIucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmdldCgpO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlcGVuZCBvbiBhbGwgZGVwcyBjb2xsZWN0ZWQgYnkgdGhpcyB3YXRjaGVyLlxyXG4gICAgICovXHJcbiAgICBXYXRjaGVyLnByb3RvdHlwZS5kZXBlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdGhpcy5kZXBzW2ldLmRlcGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBzZWxmIGZyb20gYWxsIGRlcGVuZGVuY2llcycgc3Vic2NyaWJlciBsaXN0LlxyXG4gICAgICovXHJcbiAgICBXYXRjaGVyLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy52bSAmJiAhdGhpcy52bS5faXNCZWluZ0Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICByZW1vdmUkMih0aGlzLnZtLl9zY29wZS5lZmZlY3RzLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDtcclxuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXBzW2ldLnJlbW92ZVN1Yih0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vblN0b3ApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25TdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFdhdGNoZXI7XHJcbn0oKSk7XG5cbnZhciBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24gPSB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgZ2V0OiBub29wLFxyXG4gICAgc2V0OiBub29wXHJcbn07XHJcbmZ1bmN0aW9uIHByb3h5KHRhcmdldCwgc291cmNlS2V5LCBrZXkpIHtcclxuICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSBmdW5jdGlvbiBwcm94eUdldHRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1tzb3VyY2VLZXldW2tleV07XHJcbiAgICB9O1xyXG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uIHByb3h5U2V0dGVyKHZhbCkge1xyXG4gICAgICAgIHRoaXNbc291cmNlS2V5XVtrZXldID0gdmFsO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uKTtcclxufVxyXG5mdW5jdGlvbiBpbml0U3RhdGUodm0pIHtcclxuICAgIHZhciBvcHRzID0gdm0uJG9wdGlvbnM7XHJcbiAgICBpZiAob3B0cy5wcm9wcylcclxuICAgICAgICBpbml0UHJvcHMkMSh2bSwgb3B0cy5wcm9wcyk7XHJcbiAgICAvLyBDb21wb3NpdGlvbiBBUElcclxuICAgIGluaXRTZXR1cCh2bSk7XHJcbiAgICBpZiAob3B0cy5tZXRob2RzKVxyXG4gICAgICAgIGluaXRNZXRob2RzKHZtLCBvcHRzLm1ldGhvZHMpO1xyXG4gICAgaWYgKG9wdHMuZGF0YSkge1xyXG4gICAgICAgIGluaXREYXRhKHZtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBvYiA9IG9ic2VydmUoKHZtLl9kYXRhID0ge30pKTtcclxuICAgICAgICBvYiAmJiBvYi52bUNvdW50Kys7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0cy5jb21wdXRlZClcclxuICAgICAgICBpbml0Q29tcHV0ZWQkMSh2bSwgb3B0cy5jb21wdXRlZCk7XHJcbiAgICBpZiAob3B0cy53YXRjaCAmJiBvcHRzLndhdGNoICE9PSBuYXRpdmVXYXRjaCkge1xyXG4gICAgICAgIGluaXRXYXRjaCh2bSwgb3B0cy53YXRjaCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5pdFByb3BzJDEodm0sIHByb3BzT3B0aW9ucykge1xyXG4gICAgdmFyIHByb3BzRGF0YSA9IHZtLiRvcHRpb25zLnByb3BzRGF0YSB8fCB7fTtcclxuICAgIHZhciBwcm9wcyA9ICh2bS5fcHJvcHMgPSBzaGFsbG93UmVhY3RpdmUoe30pKTtcclxuICAgIC8vIGNhY2hlIHByb3Aga2V5cyBzbyB0aGF0IGZ1dHVyZSBwcm9wcyB1cGRhdGVzIGNhbiBpdGVyYXRlIHVzaW5nIEFycmF5XHJcbiAgICAvLyBpbnN0ZWFkIG9mIGR5bmFtaWMgb2JqZWN0IGtleSBlbnVtZXJhdGlvbi5cclxuICAgIHZhciBrZXlzID0gKHZtLiRvcHRpb25zLl9wcm9wS2V5cyA9IFtdKTtcclxuICAgIHZhciBpc1Jvb3QgPSAhdm0uJHBhcmVudDtcclxuICAgIC8vIHJvb3QgaW5zdGFuY2UgcHJvcHMgc2hvdWxkIGJlIGNvbnZlcnRlZFxyXG4gICAgaWYgKCFpc1Jvb3QpIHtcclxuICAgICAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gdmFsaWRhdGVQcm9wKGtleSwgcHJvcHNPcHRpb25zLCBwcm9wc0RhdGEsIHZtKTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHZhciBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkQXR0cmlidXRlKGh5cGhlbmF0ZWRLZXkpIHx8XHJcbiAgICAgICAgICAgICAgICBjb25maWcuaXNSZXNlcnZlZEF0dHIoaHlwaGVuYXRlZEtleSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcIlxcXCJcIi5jb25jYXQoaHlwaGVuYXRlZEtleSwgXCJcXFwiIGlzIGEgcmVzZXJ2ZWQgYXR0cmlidXRlIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBjb21wb25lbnQgcHJvcC5cIiksIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZpbmVSZWFjdGl2ZShwcm9wcywga2V5LCB2YWx1ZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Jvb3QgJiYgIWlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMihcIkF2b2lkIG11dGF0aW5nIGEgcHJvcCBkaXJlY3RseSBzaW5jZSB0aGUgdmFsdWUgd2lsbCBiZSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib3ZlcndyaXR0ZW4gd2hlbmV2ZXIgdGhlIHBhcmVudCBjb21wb25lbnQgcmUtcmVuZGVycy4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkluc3RlYWQsIHVzZSBhIGRhdGEgb3IgY29tcHV0ZWQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHByb3AncyBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWUuIFByb3AgYmVpbmcgbXV0YXRlZDogXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIlwiKSwgdm0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlZmluZVJlYWN0aXZlKHByb3BzLCBrZXksIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc3RhdGljIHByb3BzIGFyZSBhbHJlYWR5IHByb3hpZWQgb24gdGhlIGNvbXBvbmVudCdzIHByb3RvdHlwZVxyXG4gICAgICAgIC8vIGR1cmluZyBWdWUuZXh0ZW5kKCkuIFdlIG9ubHkgbmVlZCB0byBwcm94eSBwcm9wcyBkZWZpbmVkIGF0XHJcbiAgICAgICAgLy8gaW5zdGFudGlhdGlvbiBoZXJlLlxyXG4gICAgICAgIGlmICghKGtleSBpbiB2bSkpIHtcclxuICAgICAgICAgICAgcHJveHkodm0sIFwiX3Byb3BzXCIsIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZvciAodmFyIGtleSBpbiBwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICBfbG9vcF8xKGtleSk7XHJcbiAgICB9XHJcbiAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7XHJcbn1cclxuZnVuY3Rpb24gaW5pdERhdGEodm0pIHtcclxuICAgIHZhciBkYXRhID0gdm0uJG9wdGlvbnMuZGF0YTtcclxuICAgIGRhdGEgPSB2bS5fZGF0YSA9IGlzRnVuY3Rpb24oZGF0YSkgPyBnZXREYXRhKGRhdGEsIHZtKSA6IGRhdGEgfHwge307XHJcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoZGF0YSkpIHtcclxuICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICB3YXJuJDIoJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0OlxcbicgK1xyXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vdnVlanMub3JnL3YyL2d1aWRlL2NvbXBvbmVudHMuaHRtbCNkYXRhLU11c3QtQmUtYS1GdW5jdGlvbicsIHZtKTtcclxuICAgIH1cclxuICAgIC8vIHByb3h5IGRhdGEgb24gaW5zdGFuY2VcclxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XHJcbiAgICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcclxuICAgIHZhciBtZXRob2RzID0gdm0uJG9wdGlvbnMubWV0aG9kcztcclxuICAgIHZhciBpID0ga2V5cy5sZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKG1ldGhvZHMgJiYgaGFzT3duKG1ldGhvZHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcIk1ldGhvZCBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZCBhcyBhIGRhdGEgcHJvcGVydHkuXCIpLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb3BzICYmIGhhc093bihwcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJUaGUgZGF0YSBwcm9wZXJ0eSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGlzIGFscmVhZHkgZGVjbGFyZWQgYXMgYSBwcm9wLiBcIikgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiVXNlIHByb3AgZGVmYXVsdCB2YWx1ZSBpbnN0ZWFkLlwiLCB2bSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpc1Jlc2VydmVkKGtleSkpIHtcclxuICAgICAgICAgICAgcHJveHkodm0sIFwiX2RhdGFcIiwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBvYnNlcnZlIGRhdGFcclxuICAgIHZhciBvYiA9IG9ic2VydmUoZGF0YSk7XHJcbiAgICBvYiAmJiBvYi52bUNvdW50Kys7XHJcbn1cclxuZnVuY3Rpb24gZ2V0RGF0YShkYXRhLCB2bSkge1xyXG4gICAgLy8gIzc1NzMgZGlzYWJsZSBkZXAgY29sbGVjdGlvbiB3aGVuIGludm9raW5nIGRhdGEgZ2V0dGVyc1xyXG4gICAgcHVzaFRhcmdldCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gZGF0YS5jYWxsKHZtLCB2bSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKGUsIHZtLCBcImRhdGEoKVwiKTtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICBwb3BUYXJnZXQoKTtcclxuICAgIH1cclxufVxyXG52YXIgY29tcHV0ZWRXYXRjaGVyT3B0aW9ucyA9IHsgbGF6eTogdHJ1ZSB9O1xyXG5mdW5jdGlvbiBpbml0Q29tcHV0ZWQkMSh2bSwgY29tcHV0ZWQpIHtcclxuICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxyXG4gICAgdmFyIHdhdGNoZXJzID0gKHZtLl9jb21wdXRlZFdhdGNoZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKSk7XHJcbiAgICAvLyBjb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSBqdXN0IGdldHRlcnMgZHVyaW5nIFNTUlxyXG4gICAgdmFyIGlzU1NSID0gaXNTZXJ2ZXJSZW5kZXJpbmcoKTtcclxuICAgIGZvciAodmFyIGtleSBpbiBjb21wdXRlZCkge1xyXG4gICAgICAgIHZhciB1c2VyRGVmID0gY29tcHV0ZWRba2V5XTtcclxuICAgICAgICB2YXIgZ2V0dGVyID0gaXNGdW5jdGlvbih1c2VyRGVmKSA/IHVzZXJEZWYgOiB1c2VyRGVmLmdldDtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBnZXR0ZXIgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB3YXJuJDIoXCJHZXR0ZXIgaXMgbWlzc2luZyBmb3IgY29tcHV0ZWQgcHJvcGVydHkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIi5cIiksIHZtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1NTUikge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgaW50ZXJuYWwgd2F0Y2hlciBmb3IgdGhlIGNvbXB1dGVkIHByb3BlcnR5LlxyXG4gICAgICAgICAgICB3YXRjaGVyc1trZXldID0gbmV3IFdhdGNoZXIodm0sIGdldHRlciB8fCBub29wLCBub29wLCBjb21wdXRlZFdhdGNoZXJPcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29tcG9uZW50LWRlZmluZWQgY29tcHV0ZWQgcHJvcGVydGllcyBhcmUgYWxyZWFkeSBkZWZpbmVkIG9uIHRoZVxyXG4gICAgICAgIC8vIGNvbXBvbmVudCBwcm90b3R5cGUuIFdlIG9ubHkgbmVlZCB0byBkZWZpbmUgY29tcHV0ZWQgcHJvcGVydGllcyBkZWZpbmVkXHJcbiAgICAgICAgLy8gYXQgaW5zdGFudGlhdGlvbiBoZXJlLlxyXG4gICAgICAgIGlmICghKGtleSBpbiB2bSkpIHtcclxuICAgICAgICAgICAgZGVmaW5lQ29tcHV0ZWQodm0sIGtleSwgdXNlckRlZik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKGtleSBpbiB2bS4kZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgd2FybiQyKFwiVGhlIGNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgaXMgYWxyZWFkeSBkZWZpbmVkIGluIGRhdGEuXCIpLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodm0uJG9wdGlvbnMucHJvcHMgJiYga2V5IGluIHZtLiRvcHRpb25zLnByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJUaGUgY29tcHV0ZWQgcHJvcGVydHkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiBpcyBhbHJlYWR5IGRlZmluZWQgYXMgYSBwcm9wLlwiKSwgdm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZtLiRvcHRpb25zLm1ldGhvZHMgJiYga2V5IGluIHZtLiRvcHRpb25zLm1ldGhvZHMpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcIlRoZSBjb21wdXRlZCBwcm9wZXJ0eSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGlzIGFscmVhZHkgZGVmaW5lZCBhcyBhIG1ldGhvZC5cIiksIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBkZWZpbmVDb21wdXRlZCh0YXJnZXQsIGtleSwgdXNlckRlZikge1xyXG4gICAgdmFyIHNob3VsZENhY2hlID0gIWlzU2VydmVyUmVuZGVyaW5nKCk7XHJcbiAgICBpZiAoaXNGdW5jdGlvbih1c2VyRGVmKSkge1xyXG4gICAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSBzaG91bGRDYWNoZVxyXG4gICAgICAgICAgICA/IGNyZWF0ZUNvbXB1dGVkR2V0dGVyKGtleSlcclxuICAgICAgICAgICAgOiBjcmVhdGVHZXR0ZXJJbnZva2VyKHVzZXJEZWYpO1xyXG4gICAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPSBub29wO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLmdldCA9IHVzZXJEZWYuZ2V0XHJcbiAgICAgICAgICAgID8gc2hvdWxkQ2FjaGUgJiYgdXNlckRlZi5jYWNoZSAhPT0gZmFsc2VcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tcHV0ZWRHZXR0ZXIoa2V5KVxyXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVHZXR0ZXJJbnZva2VyKHVzZXJEZWYuZ2V0KVxyXG4gICAgICAgICAgICA6IG5vb3A7XHJcbiAgICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IHVzZXJEZWYuc2V0IHx8IG5vb3A7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uc2V0ID09PSBub29wKSB7XHJcbiAgICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2FybiQyKFwiQ29tcHV0ZWQgcHJvcGVydHkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiB3YXMgYXNzaWduZWQgdG8gYnV0IGl0IGhhcyBubyBzZXR0ZXIuXCIpLCB0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24pO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbXB1dGVkR2V0dGVyKGtleSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyKCkge1xyXG4gICAgICAgIHZhciB3YXRjaGVyID0gdGhpcy5fY29tcHV0ZWRXYXRjaGVycyAmJiB0aGlzLl9jb21wdXRlZFdhdGNoZXJzW2tleV07XHJcbiAgICAgICAgaWYgKHdhdGNoZXIpIHtcclxuICAgICAgICAgICAgaWYgKHdhdGNoZXIuZGlydHkpIHtcclxuICAgICAgICAgICAgICAgIHdhdGNoZXIuZXZhbHVhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoRGVwLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgRGVwLnRhcmdldC5vblRyYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVwLnRhcmdldC5vblRyYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiBEZXAudGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdhdGNoZXIuZGVwZW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHdhdGNoZXIudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVHZXR0ZXJJbnZva2VyKGZuKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgdGhpcyk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGluaXRNZXRob2RzKHZtLCBtZXRob2RzKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcclxuICAgIGZvciAodmFyIGtleSBpbiBtZXRob2RzKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXRob2RzW2tleV0gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMihcIk1ldGhvZCBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGhhcyB0eXBlIFxcXCJcIikuY29uY2F0KHR5cGVvZiBtZXRob2RzW2tleV0sIFwiXFxcIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIFwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P1wiLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHByb3BzICYmIGhhc093bihwcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybiQyKFwiTWV0aG9kIFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIGFzIGEgcHJvcC5cIiksIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoa2V5IGluIHZtICYmIGlzUmVzZXJ2ZWQoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybiQyKFwiTWV0aG9kIFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgY29uZmxpY3RzIHdpdGggYW4gZXhpc3RpbmcgVnVlIGluc3RhbmNlIG1ldGhvZC4gXCIpICtcclxuICAgICAgICAgICAgICAgICAgICBcIkF2b2lkIGRlZmluaW5nIGNvbXBvbmVudCBtZXRob2RzIHRoYXQgc3RhcnQgd2l0aCBfIG9yICQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZtW2tleV0gPSB0eXBlb2YgbWV0aG9kc1trZXldICE9PSAnZnVuY3Rpb24nID8gbm9vcCA6IGJpbmQkMShtZXRob2RzW2tleV0sIHZtKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbml0V2F0Y2godm0sIHdhdGNoKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gd2F0Y2gpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9IHdhdGNoW2tleV07XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoaGFuZGxlcikpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXJbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHZtLCBleHBPckZuLCBoYW5kbGVyLCBvcHRpb25zKSB7XHJcbiAgICBpZiAoaXNQbGFpbk9iamVjdChoYW5kbGVyKSkge1xyXG4gICAgICAgIG9wdGlvbnMgPSBoYW5kbGVyO1xyXG4gICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyLmhhbmRsZXI7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaGFuZGxlciA9IHZtW2hhbmRsZXJdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZtLiR3YXRjaChleHBPckZuLCBoYW5kbGVyLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiBzdGF0ZU1peGluKFZ1ZSkge1xyXG4gICAgLy8gZmxvdyBzb21laG93IGhhcyBwcm9ibGVtcyB3aXRoIGRpcmVjdGx5IGRlY2xhcmVkIGRlZmluaXRpb24gb2JqZWN0XHJcbiAgICAvLyB3aGVuIHVzaW5nIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgc28gd2UgaGF2ZSB0byBwcm9jZWR1cmFsbHkgYnVpbGQgdXBcclxuICAgIC8vIHRoZSBvYmplY3QgaGVyZS5cclxuICAgIHZhciBkYXRhRGVmID0ge307XHJcbiAgICBkYXRhRGVmLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcclxuICAgIH07XHJcbiAgICB2YXIgcHJvcHNEZWYgPSB7fTtcclxuICAgIHByb3BzRGVmLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcHM7XHJcbiAgICB9O1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBkYXRhRGVmLnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2FybiQyKCdBdm9pZCByZXBsYWNpbmcgaW5zdGFuY2Ugcm9vdCAkZGF0YS4gJyArXHJcbiAgICAgICAgICAgICAgICAnVXNlIG5lc3RlZCBkYXRhIHByb3BlcnRpZXMgaW5zdGVhZC4nLCB0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHByb3BzRGVmLnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2FybiQyKFwiJHByb3BzIGlzIHJlYWRvbmx5LlwiLCB0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckZGF0YScsIGRhdGFEZWYpO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckcHJvcHMnLCBwcm9wc0RlZik7XHJcbiAgICBWdWUucHJvdG90eXBlLiRzZXQgPSBzZXQ7XHJcbiAgICBWdWUucHJvdG90eXBlLiRkZWxldGUgPSBkZWw7XHJcbiAgICBWdWUucHJvdG90eXBlLiR3YXRjaCA9IGZ1bmN0aW9uIChleHBPckZuLCBjYiwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QoY2IpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVXYXRjaGVyKHZtLCBleHBPckZuLCBjYiwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIG9wdGlvbnMudXNlciA9IHRydWU7XHJcbiAgICAgICAgdmFyIHdhdGNoZXIgPSBuZXcgV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5mbyA9IFwiY2FsbGJhY2sgZm9yIGltbWVkaWF0ZSB3YXRjaGVyIFxcXCJcIi5jb25jYXQod2F0Y2hlci5leHByZXNzaW9uLCBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgIHB1c2hUYXJnZXQoKTtcclxuICAgICAgICAgICAgaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoY2IsIHZtLCBbd2F0Y2hlci52YWx1ZV0sIHZtLCBpbmZvKTtcclxuICAgICAgICAgICAgcG9wVGFyZ2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB1bndhdGNoRm4oKSB7XHJcbiAgICAgICAgICAgIHdhdGNoZXIudGVhcmRvd24oKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBpbml0UHJvdmlkZSh2bSkge1xyXG4gICAgdmFyIHByb3ZpZGVPcHRpb24gPSB2bS4kb3B0aW9ucy5wcm92aWRlO1xyXG4gICAgaWYgKHByb3ZpZGVPcHRpb24pIHtcclxuICAgICAgICB2YXIgcHJvdmlkZWQgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb24pXHJcbiAgICAgICAgICAgID8gcHJvdmlkZU9wdGlvbi5jYWxsKHZtKVxyXG4gICAgICAgICAgICA6IHByb3ZpZGVPcHRpb247XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm92aWRlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc291cmNlID0gcmVzb2x2ZVByb3ZpZGVkKHZtKTtcclxuICAgICAgICAvLyBJRTkgZG9lc24ndCBzdXBwb3J0IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIHNvIHdlIGhhdmUgdG9cclxuICAgICAgICAvLyBpdGVyYXRlIHRoZSBrZXlzIG91cnNlbHZlcy5cclxuICAgICAgICB2YXIga2V5cyA9IGhhc1N5bWJvbCA/IFJlZmxlY3Qub3duS2V5cyhwcm92aWRlZCkgOiBPYmplY3Qua2V5cyhwcm92aWRlZCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc291cmNlLCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdmlkZWQsIGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbml0SW5qZWN0aW9ucyh2bSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHJlc29sdmVJbmplY3Qodm0uJG9wdGlvbnMuaW5qZWN0LCB2bSk7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgdG9nZ2xlT2JzZXJ2aW5nKGZhbHNlKTtcclxuICAgICAgICBPYmplY3Qua2V5cyhyZXN1bHQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgZGVmaW5lUmVhY3RpdmUodm0sIGtleSwgcmVzdWx0W2tleV0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuJDIoXCJBdm9pZCBtdXRhdGluZyBhbiBpbmplY3RlZCB2YWx1ZSBkaXJlY3RseSBzaW5jZSB0aGUgY2hhbmdlcyB3aWxsIGJlIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcHJvdmlkZWQgY29tcG9uZW50IHJlLXJlbmRlcnMuIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmplY3Rpb24gYmVpbmcgbXV0YXRlZDogXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIlwiKSwgdm0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZWZpbmVSZWFjdGl2ZSh2bSwga2V5LCByZXN1bHRba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZUluamVjdChpbmplY3QsIHZtKSB7XHJcbiAgICBpZiAoaW5qZWN0KSB7XHJcbiAgICAgICAgLy8gaW5qZWN0IGlzIDphbnkgYmVjYXVzZSBmbG93IGlzIG5vdCBzbWFydCBlbm91Z2ggdG8gZmlndXJlIG91dCBjYWNoZWRcclxuICAgICAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICB2YXIga2V5cyA9IGhhc1N5bWJvbCA/IFJlZmxlY3Qub3duS2V5cyhpbmplY3QpIDogT2JqZWN0LmtleXMoaW5qZWN0KTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgIC8vICM2NTc0IGluIGNhc2UgdGhlIGluamVjdCBvYmplY3QgaXMgb2JzZXJ2ZWQuLi5cclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ19fb2JfXycpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgdmFyIHByb3ZpZGVLZXkgPSBpbmplY3Rba2V5XS5mcm9tO1xyXG4gICAgICAgICAgICBpZiAocHJvdmlkZUtleSBpbiB2bS5fcHJvdmlkZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdm0uX3Byb3ZpZGVkW3Byb3ZpZGVLZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCdkZWZhdWx0JyBpbiBpbmplY3Rba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVEZWZhdWx0ID0gaW5qZWN0W2tleV0uZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gaXNGdW5jdGlvbihwcm92aWRlRGVmYXVsdClcclxuICAgICAgICAgICAgICAgICAgICA/IHByb3ZpZGVEZWZhdWx0LmNhbGwodm0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm92aWRlRGVmYXVsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoXCJJbmplY3Rpb24gXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiBub3QgZm91bmRcIiksIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XG5cbnZhciB1aWQgPSAwO1xyXG5mdW5jdGlvbiBpbml0TWl4aW4kMShWdWUpIHtcclxuICAgIFZ1ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgLy8gYSB1aWRcclxuICAgICAgICB2bS5fdWlkID0gdWlkKys7XHJcbiAgICAgICAgdmFyIHN0YXJ0VGFnLCBlbmRUYWc7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcclxuICAgICAgICAgICAgc3RhcnRUYWcgPSBcInZ1ZS1wZXJmLXN0YXJ0OlwiLmNvbmNhdCh2bS5fdWlkKTtcclxuICAgICAgICAgICAgZW5kVGFnID0gXCJ2dWUtcGVyZi1lbmQ6XCIuY29uY2F0KHZtLl91aWQpO1xyXG4gICAgICAgICAgICBtYXJrKHN0YXJ0VGFnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYSBmbGFnIHRvIG1hcmsgdGhpcyBhcyBhIFZ1ZSBpbnN0YW5jZSB3aXRob3V0IGhhdmluZyB0byBkbyBpbnN0YW5jZW9mXHJcbiAgICAgICAgLy8gY2hlY2tcclxuICAgICAgICB2bS5faXNWdWUgPSB0cnVlO1xyXG4gICAgICAgIC8vIGF2b2lkIGluc3RhbmNlcyBmcm9tIGJlaW5nIG9ic2VydmVkXHJcbiAgICAgICAgdm0uX192X3NraXAgPSB0cnVlO1xyXG4gICAgICAgIC8vIGVmZmVjdCBzY29wZVxyXG4gICAgICAgIHZtLl9zY29wZSA9IG5ldyBFZmZlY3RTY29wZSh0cnVlIC8qIGRldGFjaGVkICovKTtcclxuICAgICAgICAvLyBtZXJnZSBvcHRpb25zXHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5faXNDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgLy8gb3B0aW1pemUgaW50ZXJuYWwgY29tcG9uZW50IGluc3RhbnRpYXRpb25cclxuICAgICAgICAgICAgLy8gc2luY2UgZHluYW1pYyBvcHRpb25zIG1lcmdpbmcgaXMgcHJldHR5IHNsb3csIGFuZCBub25lIG9mIHRoZVxyXG4gICAgICAgICAgICAvLyBpbnRlcm5hbCBjb21wb25lbnQgb3B0aW9ucyBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudC5cclxuICAgICAgICAgICAgaW5pdEludGVybmFsQ29tcG9uZW50KHZtLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZtLiRvcHRpb25zID0gbWVyZ2VPcHRpb25zKHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnModm0uY29uc3RydWN0b3IpLCBvcHRpb25zIHx8IHt9LCB2bSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5pdFByb3h5KHZtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZtLl9yZW5kZXJQcm94eSA9IHZtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBleHBvc2UgcmVhbCBzZWxmXHJcbiAgICAgICAgdm0uX3NlbGYgPSB2bTtcclxuICAgICAgICBpbml0TGlmZWN5Y2xlKHZtKTtcclxuICAgICAgICBpbml0RXZlbnRzKHZtKTtcclxuICAgICAgICBpbml0UmVuZGVyKHZtKTtcclxuICAgICAgICBjYWxsSG9vayQxKHZtLCAnYmVmb3JlQ3JlYXRlJywgdW5kZWZpbmVkLCBmYWxzZSAvKiBzZXRDb250ZXh0ICovKTtcclxuICAgICAgICBpbml0SW5qZWN0aW9ucyh2bSk7IC8vIHJlc29sdmUgaW5qZWN0aW9ucyBiZWZvcmUgZGF0YS9wcm9wc1xyXG4gICAgICAgIGluaXRTdGF0ZSh2bSk7XHJcbiAgICAgICAgaW5pdFByb3ZpZGUodm0pOyAvLyByZXNvbHZlIHByb3ZpZGUgYWZ0ZXIgZGF0YS9wcm9wc1xyXG4gICAgICAgIGNhbGxIb29rJDEodm0sICdjcmVhdGVkJyk7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcclxuICAgICAgICAgICAgdm0uX25hbWUgPSBmb3JtYXRDb21wb25lbnROYW1lKHZtLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcclxuICAgICAgICAgICAgbWVhc3VyZShcInZ1ZSBcIi5jb25jYXQodm0uX25hbWUsIFwiIGluaXRcIiksIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodm0uJG9wdGlvbnMuZWwpIHtcclxuICAgICAgICAgICAgdm0uJG1vdW50KHZtLiRvcHRpb25zLmVsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGluaXRJbnRlcm5hbENvbXBvbmVudCh2bSwgb3B0aW9ucykge1xyXG4gICAgdmFyIG9wdHMgPSAodm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpKTtcclxuICAgIC8vIGRvaW5nIHRoaXMgYmVjYXVzZSBpdCdzIGZhc3RlciB0aGFuIGR5bmFtaWMgZW51bWVyYXRpb24uXHJcbiAgICB2YXIgcGFyZW50Vm5vZGUgPSBvcHRpb25zLl9wYXJlbnRWbm9kZTtcclxuICAgIG9wdHMucGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XHJcbiAgICBvcHRzLl9wYXJlbnRWbm9kZSA9IHBhcmVudFZub2RlO1xyXG4gICAgdmFyIHZub2RlQ29tcG9uZW50T3B0aW9ucyA9IHBhcmVudFZub2RlLmNvbXBvbmVudE9wdGlvbnM7XHJcbiAgICBvcHRzLnByb3BzRGF0YSA9IHZub2RlQ29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGE7XHJcbiAgICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzO1xyXG4gICAgb3B0cy5fcmVuZGVyQ2hpbGRyZW4gPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMuY2hpbGRyZW47XHJcbiAgICBvcHRzLl9jb21wb25lbnRUYWcgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMudGFnO1xyXG4gICAgaWYgKG9wdGlvbnMucmVuZGVyKSB7XHJcbiAgICAgICAgb3B0cy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcclxuICAgICAgICBvcHRzLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcikge1xyXG4gICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XHJcbiAgICBpZiAoQ3Rvci5zdXBlcikge1xyXG4gICAgICAgIHZhciBzdXBlck9wdGlvbnMgPSByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zKEN0b3Iuc3VwZXIpO1xyXG4gICAgICAgIHZhciBjYWNoZWRTdXBlck9wdGlvbnMgPSBDdG9yLnN1cGVyT3B0aW9ucztcclxuICAgICAgICBpZiAoc3VwZXJPcHRpb25zICE9PSBjYWNoZWRTdXBlck9wdGlvbnMpIHtcclxuICAgICAgICAgICAgLy8gc3VwZXIgb3B0aW9uIGNoYW5nZWQsXHJcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gcmVzb2x2ZSBuZXcgb3B0aW9ucy5cclxuICAgICAgICAgICAgQ3Rvci5zdXBlck9wdGlvbnMgPSBzdXBlck9wdGlvbnM7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgbGF0ZS1tb2RpZmllZC9hdHRhY2hlZCBvcHRpb25zICgjNDk3NilcclxuICAgICAgICAgICAgdmFyIG1vZGlmaWVkT3B0aW9ucyA9IHJlc29sdmVNb2RpZmllZE9wdGlvbnMoQ3Rvcik7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBiYXNlIGV4dGVuZCBvcHRpb25zXHJcbiAgICAgICAgICAgIGlmIChtb2RpZmllZE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGV4dGVuZChDdG9yLmV4dGVuZE9wdGlvbnMsIG1vZGlmaWVkT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIEN0b3IuZXh0ZW5kT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tcG9uZW50c1tvcHRpb25zLm5hbWVdID0gQ3RvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvcHRpb25zO1xyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVNb2RpZmllZE9wdGlvbnMoQ3Rvcikge1xyXG4gICAgdmFyIG1vZGlmaWVkO1xyXG4gICAgdmFyIGxhdGVzdCA9IEN0b3Iub3B0aW9ucztcclxuICAgIHZhciBzZWFsZWQgPSBDdG9yLnNlYWxlZE9wdGlvbnM7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gbGF0ZXN0KSB7XHJcbiAgICAgICAgaWYgKGxhdGVzdFtrZXldICE9PSBzZWFsZWRba2V5XSkge1xyXG4gICAgICAgICAgICBpZiAoIW1vZGlmaWVkKVxyXG4gICAgICAgICAgICAgICAgbW9kaWZpZWQgPSB7fTtcclxuICAgICAgICAgICAgbW9kaWZpZWRba2V5XSA9IGxhdGVzdFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtb2RpZmllZDtcclxufVxuXG5mdW5jdGlvbiBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dChkYXRhLCBwcm9wcywgY2hpbGRyZW4sIHBhcmVudCwgQ3Rvcikge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBvcHRpb25zID0gQ3Rvci5vcHRpb25zO1xyXG4gICAgLy8gZW5zdXJlIHRoZSBjcmVhdGVFbGVtZW50IGZ1bmN0aW9uIGluIGZ1bmN0aW9uYWwgY29tcG9uZW50c1xyXG4gICAgLy8gZ2V0cyBhIHVuaXF1ZSBjb250ZXh0IC0gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIGNvcnJlY3QgbmFtZWQgc2xvdCBjaGVja1xyXG4gICAgdmFyIGNvbnRleHRWbTtcclxuICAgIGlmIChoYXNPd24ocGFyZW50LCAnX3VpZCcpKSB7XHJcbiAgICAgICAgY29udGV4dFZtID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpO1xyXG4gICAgICAgIGNvbnRleHRWbS5fb3JpZ2luYWwgPSBwYXJlbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyB0aGUgY29udGV4dCB2bSBwYXNzZWQgaW4gaXMgYSBmdW5jdGlvbmFsIGNvbnRleHQgYXMgd2VsbC5cclxuICAgICAgICAvLyBpbiB0aGlzIGNhc2Ugd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgYXJlIGFibGUgdG8gZ2V0IGEgaG9sZCB0byB0aGVcclxuICAgICAgICAvLyByZWFsIGNvbnRleHQgaW5zdGFuY2UuXHJcbiAgICAgICAgY29udGV4dFZtID0gcGFyZW50O1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX29yaWdpbmFsO1xyXG4gICAgfVxyXG4gICAgdmFyIGlzQ29tcGlsZWQgPSBpc1RydWUob3B0aW9ucy5fY29tcGlsZWQpO1xyXG4gICAgdmFyIG5lZWROb3JtYWxpemF0aW9uID0gIWlzQ29tcGlsZWQ7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IGRhdGEub24gfHwgZW1wdHlPYmplY3Q7XHJcbiAgICB0aGlzLmluamVjdGlvbnMgPSByZXNvbHZlSW5qZWN0KG9wdGlvbnMuaW5qZWN0LCBwYXJlbnQpO1xyXG4gICAgdGhpcy5zbG90cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIV90aGlzLiRzbG90cykge1xyXG4gICAgICAgICAgICBub3JtYWxpemVTY29wZWRTbG90cyhwYXJlbnQsIGRhdGEuc2NvcGVkU2xvdHMsIChfdGhpcy4kc2xvdHMgPSByZXNvbHZlU2xvdHMoY2hpbGRyZW4sIHBhcmVudCkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzLiRzbG90cztcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Njb3BlZFNsb3RzJywge1xyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVTY29wZWRTbG90cyhwYXJlbnQsIGRhdGEuc2NvcGVkU2xvdHMsIHRoaXMuc2xvdHMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBzdXBwb3J0IGZvciBjb21waWxlZCBmdW5jdGlvbmFsIHRlbXBsYXRlXHJcbiAgICBpZiAoaXNDb21waWxlZCkge1xyXG4gICAgICAgIC8vIGV4cG9zaW5nICRvcHRpb25zIGZvciByZW5kZXJTdGF0aWMoKVxyXG4gICAgICAgIHRoaXMuJG9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIC8vIHByZS1yZXNvbHZlIHNsb3RzIGZvciByZW5kZXJTbG90KClcclxuICAgICAgICB0aGlzLiRzbG90cyA9IHRoaXMuc2xvdHMoKTtcclxuICAgICAgICB0aGlzLiRzY29wZWRTbG90cyA9IG5vcm1hbGl6ZVNjb3BlZFNsb3RzKHBhcmVudCwgZGF0YS5zY29wZWRTbG90cywgdGhpcy4kc2xvdHMpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuX3Njb3BlSWQpIHtcclxuICAgICAgICB0aGlzLl9jID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgdmFyIHZub2RlID0gY3JlYXRlRWxlbWVudCQxKGNvbnRleHRWbSwgYSwgYiwgYywgZCwgbmVlZE5vcm1hbGl6YXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodm5vZGUgJiYgIWlzQXJyYXkodm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5mblNjb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuZm5Db250ZXh0ID0gcGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50JDEoY29udGV4dFZtLCBhLCBiLCBjLCBkLCBuZWVkTm9ybWFsaXphdGlvbik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5pbnN0YWxsUmVuZGVySGVscGVycyhGdW5jdGlvbmFsUmVuZGVyQ29udGV4dC5wcm90b3R5cGUpO1xyXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50KEN0b3IsIHByb3BzRGF0YSwgZGF0YSwgY29udGV4dFZtLCBjaGlsZHJlbikge1xyXG4gICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XHJcbiAgICB2YXIgcHJvcHMgPSB7fTtcclxuICAgIHZhciBwcm9wT3B0aW9ucyA9IG9wdGlvbnMucHJvcHM7XHJcbiAgICBpZiAoaXNEZWYocHJvcE9wdGlvbnMpKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhIHx8IGVtcHR5T2JqZWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaXNEZWYoZGF0YS5hdHRycykpXHJcbiAgICAgICAgICAgIG1lcmdlUHJvcHMocHJvcHMsIGRhdGEuYXR0cnMpO1xyXG4gICAgICAgIGlmIChpc0RlZihkYXRhLnByb3BzKSlcclxuICAgICAgICAgICAgbWVyZ2VQcm9wcyhwcm9wcywgZGF0YS5wcm9wcyk7XHJcbiAgICB9XHJcbiAgICB2YXIgcmVuZGVyQ29udGV4dCA9IG5ldyBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dChkYXRhLCBwcm9wcywgY2hpbGRyZW4sIGNvbnRleHRWbSwgQ3Rvcik7XHJcbiAgICB2YXIgdm5vZGUgPSBvcHRpb25zLnJlbmRlci5jYWxsKG51bGwsIHJlbmRlckNvbnRleHQuX2MsIHJlbmRlckNvbnRleHQpO1xyXG4gICAgaWYgKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpIHtcclxuICAgICAgICByZXR1cm4gY2xvbmVBbmRNYXJrRnVuY3Rpb25hbFJlc3VsdCh2bm9kZSwgZGF0YSwgcmVuZGVyQ29udGV4dC5wYXJlbnQsIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2bm9kZSkpIHtcclxuICAgICAgICB2YXIgdm5vZGVzID0gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUpIHx8IFtdO1xyXG4gICAgICAgIHZhciByZXMgPSBuZXcgQXJyYXkodm5vZGVzLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzW2ldID0gY2xvbmVBbmRNYXJrRnVuY3Rpb25hbFJlc3VsdCh2bm9kZXNbaV0sIGRhdGEsIHJlbmRlckNvbnRleHQucGFyZW50LCBvcHRpb25zLCByZW5kZXJDb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0KHZub2RlLCBkYXRhLCBjb250ZXh0Vm0sIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpIHtcclxuICAgIC8vICM3ODE3IGNsb25lIG5vZGUgYmVmb3JlIHNldHRpbmcgZm5Db250ZXh0LCBvdGhlcndpc2UgaWYgdGhlIG5vZGUgaXMgcmV1c2VkXHJcbiAgICAvLyAoZS5nLiBpdCB3YXMgZnJvbSBhIGNhY2hlZCBub3JtYWwgc2xvdCkgdGhlIGZuQ29udGV4dCBjYXVzZXMgbmFtZWQgc2xvdHNcclxuICAgIC8vIHRoYXQgc2hvdWxkIG5vdCBiZSBtYXRjaGVkIHRvIG1hdGNoLlxyXG4gICAgdmFyIGNsb25lID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICBjbG9uZS5mbkNvbnRleHQgPSBjb250ZXh0Vm07XHJcbiAgICBjbG9uZS5mbk9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAoY2xvbmUuZGV2dG9vbHNNZXRhID0gY2xvbmUuZGV2dG9vbHNNZXRhIHx8IHt9KS5yZW5kZXJDb250ZXh0ID1cclxuICAgICAgICAgICAgcmVuZGVyQ29udGV4dDtcclxuICAgIH1cclxuICAgIGlmIChkYXRhLnNsb3QpIHtcclxuICAgICAgICAoY2xvbmUuZGF0YSB8fCAoY2xvbmUuZGF0YSA9IHt9KSkuc2xvdCA9IGRhdGEuc2xvdDtcclxuICAgIH1cclxuICAgIHJldHVybiBjbG9uZTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZVByb3BzKHRvLCBmcm9tKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xyXG4gICAgICAgIHRvW2NhbWVsaXplKGtleSldID0gZnJvbVtrZXldO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG9wdGlvbnMubmFtZSB8fCBvcHRpb25zLl9fbmFtZSB8fCBvcHRpb25zLl9jb21wb25lbnRUYWc7XHJcbn1cclxuLy8gaW5saW5lIGhvb2tzIHRvIGJlIGludm9rZWQgb24gY29tcG9uZW50IFZOb2RlcyBkdXJpbmcgcGF0Y2hcclxudmFyIGNvbXBvbmVudFZOb2RlSG9va3MgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbiAodm5vZGUsIGh5ZHJhdGluZykge1xyXG4gICAgICAgIGlmICh2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAhdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkICYmXHJcbiAgICAgICAgICAgIHZub2RlLmRhdGEua2VlcEFsaXZlKSB7XHJcbiAgICAgICAgICAgIC8vIGtlcHQtYWxpdmUgY29tcG9uZW50cywgdHJlYXQgYXMgYSBwYXRjaFxyXG4gICAgICAgICAgICB2YXIgbW91bnRlZE5vZGUgPSB2bm9kZTsgLy8gd29yayBhcm91bmQgZmxvd1xyXG4gICAgICAgICAgICBjb21wb25lbnRWTm9kZUhvb2tzLnByZXBhdGNoKG1vdW50ZWROb2RlLCBtb3VudGVkTm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSAodm5vZGUuY29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlKHZub2RlLCBhY3RpdmVJbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICBjaGlsZC4kbW91bnQoaHlkcmF0aW5nID8gdm5vZGUuZWxtIDogdW5kZWZpbmVkLCBoeWRyYXRpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwcmVwYXRjaDogZnVuY3Rpb24gKG9sZFZub2RlLCB2bm9kZSkge1xyXG4gICAgICAgIHZhciBvcHRpb25zID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcclxuICAgICAgICB2YXIgY2hpbGQgPSAodm5vZGUuY29tcG9uZW50SW5zdGFuY2UgPSBvbGRWbm9kZS5jb21wb25lbnRJbnN0YW5jZSk7XHJcbiAgICAgICAgdXBkYXRlQ2hpbGRDb21wb25lbnQoY2hpbGQsIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzXHJcbiAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMsIC8vIHVwZGF0ZWQgbGlzdGVuZXJzXHJcbiAgICAgICAgdm5vZGUsIC8vIG5ldyBwYXJlbnQgdm5vZGVcclxuICAgICAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlblxyXG4gICAgICAgICk7XHJcbiAgICB9LFxyXG4gICAgaW5zZXJ0OiBmdW5jdGlvbiAodm5vZGUpIHtcclxuICAgICAgICB2YXIgY29udGV4dCA9IHZub2RlLmNvbnRleHQsIGNvbXBvbmVudEluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKCFjb21wb25lbnRJbnN0YW5jZS5faXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudEluc3RhbmNlLl9pc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjYWxsSG9vayQxKGNvbXBvbmVudEluc3RhbmNlLCAnbW91bnRlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcclxuICAgICAgICAgICAgaWYgKGNvbnRleHQuX2lzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdnVlLXJvdXRlciMxMjEyXHJcbiAgICAgICAgICAgICAgICAvLyBEdXJpbmcgdXBkYXRlcywgYSBrZXB0LWFsaXZlIGNvbXBvbmVudCdzIGNoaWxkIGNvbXBvbmVudHMgbWF5XHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2UsIHNvIGRpcmVjdGx5IHdhbGtpbmcgdGhlIHRyZWUgaGVyZSBtYXkgY2FsbCBhY3RpdmF0ZWQgaG9va3NcclxuICAgICAgICAgICAgICAgIC8vIG9uIGluY29ycmVjdCBjaGlsZHJlbi4gSW5zdGVhZCB3ZSBwdXNoIHRoZW0gaW50byBhIHF1ZXVlIHdoaWNoIHdpbGxcclxuICAgICAgICAgICAgICAgIC8vIGJlIHByb2Nlc3NlZCBhZnRlciB0aGUgd2hvbGUgcGF0Y2ggcHJvY2VzcyBlbmRlZC5cclxuICAgICAgICAgICAgICAgIHF1ZXVlQWN0aXZhdGVkQ29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2YXRlQ2hpbGRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIHRydWUgLyogZGlyZWN0ICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAodm5vZGUpIHtcclxuICAgICAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTtcclxuICAgICAgICBpZiAoIWNvbXBvbmVudEluc3RhbmNlLl9pc0Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICBpZiAoIXZub2RlLmRhdGEua2VlcEFsaXZlKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS4kZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlLCB0cnVlIC8qIGRpcmVjdCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbnZhciBob29rc1RvTWVyZ2UgPSBPYmplY3Qua2V5cyhjb21wb25lbnRWTm9kZUhvb2tzKTtcclxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KEN0b3IsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpIHtcclxuICAgIGlmIChpc1VuZGVmKEN0b3IpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGJhc2VDdG9yID0gY29udGV4dC4kb3B0aW9ucy5fYmFzZTtcclxuICAgIC8vIHBsYWluIG9wdGlvbnMgb2JqZWN0OiB0dXJuIGl0IGludG8gYSBjb25zdHJ1Y3RvclxyXG4gICAgaWYgKGlzT2JqZWN0KEN0b3IpKSB7XHJcbiAgICAgICAgQ3RvciA9IGJhc2VDdG9yLmV4dGVuZChDdG9yKTtcclxuICAgIH1cclxuICAgIC8vIGlmIGF0IHRoaXMgc3RhZ2UgaXQncyBub3QgYSBjb25zdHJ1Y3RvciBvciBhbiBhc3luYyBjb21wb25lbnQgZmFjdG9yeSxcclxuICAgIC8vIHJlamVjdC5cclxuICAgIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHdhcm4kMihcIkludmFsaWQgQ29tcG9uZW50IGRlZmluaXRpb246IFwiLmNvbmNhdChTdHJpbmcoQ3RvcikpLCBjb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gYXN5bmMgY29tcG9uZW50XHJcbiAgICB2YXIgYXN5bmNGYWN0b3J5O1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgaWYgKGlzVW5kZWYoQ3Rvci5jaWQpKSB7XHJcbiAgICAgICAgYXN5bmNGYWN0b3J5ID0gQ3RvcjtcclxuICAgICAgICBDdG9yID0gcmVzb2x2ZUFzeW5jQ29tcG9uZW50KGFzeW5jRmFjdG9yeSwgYmFzZUN0b3IpO1xyXG4gICAgICAgIGlmIChDdG9yID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgbm9kZSBmb3IgYXN5bmMgY29tcG9uZW50LCB3aGljaCBpcyByZW5kZXJlZFxyXG4gICAgICAgICAgICAvLyBhcyBhIGNvbW1lbnQgbm9kZSBidXQgcHJlc2VydmVzIGFsbCB0aGUgcmF3IGluZm9ybWF0aW9uIGZvciB0aGUgbm9kZS5cclxuICAgICAgICAgICAgLy8gdGhlIGluZm9ybWF0aW9uIHdpbGwgYmUgdXNlZCBmb3IgYXN5bmMgc2VydmVyLXJlbmRlcmluZyBhbmQgaHlkcmF0aW9uLlxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQXN5bmNQbGFjZWhvbGRlcihhc3luY0ZhY3RvcnksIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xyXG4gICAgLy8gcmVzb2x2ZSBjb25zdHJ1Y3RvciBvcHRpb25zIGluIGNhc2UgZ2xvYmFsIG1peGlucyBhcmUgYXBwbGllZCBhZnRlclxyXG4gICAgLy8gY29tcG9uZW50IGNvbnN0cnVjdG9yIGNyZWF0aW9uXHJcbiAgICByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zKEN0b3IpO1xyXG4gICAgLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGRhdGEgaW50byBwcm9wcyAmIGV2ZW50c1xyXG4gICAgaWYgKGlzRGVmKGRhdGEubW9kZWwpKSB7XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIHRyYW5zZm9ybU1vZGVsKEN0b3Iub3B0aW9ucywgZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvLyBleHRyYWN0IHByb3BzXHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICB2YXIgcHJvcHNEYXRhID0gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YShkYXRhLCBDdG9yLCB0YWcpO1xyXG4gICAgLy8gZnVuY3Rpb25hbCBjb21wb25lbnRcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIGlmIChpc1RydWUoQ3Rvci5vcHRpb25zLmZ1bmN0aW9uYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICAvLyBleHRyYWN0IGxpc3RlbmVycywgc2luY2UgdGhlc2UgbmVlZHMgdG8gYmUgdHJlYXRlZCBhc1xyXG4gICAgLy8gY2hpbGQgY29tcG9uZW50IGxpc3RlbmVycyBpbnN0ZWFkIG9mIERPTSBsaXN0ZW5lcnNcclxuICAgIHZhciBsaXN0ZW5lcnMgPSBkYXRhLm9uO1xyXG4gICAgLy8gcmVwbGFjZSB3aXRoIGxpc3RlbmVycyB3aXRoIC5uYXRpdmUgbW9kaWZpZXJcclxuICAgIC8vIHNvIGl0IGdldHMgcHJvY2Vzc2VkIGR1cmluZyBwYXJlbnQgY29tcG9uZW50IHBhdGNoLlxyXG4gICAgZGF0YS5vbiA9IGRhdGEubmF0aXZlT247XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICBpZiAoaXNUcnVlKEN0b3Iub3B0aW9ucy5hYnN0cmFjdCkpIHtcclxuICAgICAgICAvLyBhYnN0cmFjdCBjb21wb25lbnRzIGRvIG5vdCBrZWVwIGFueXRoaW5nXHJcbiAgICAgICAgLy8gb3RoZXIgdGhhbiBwcm9wcyAmIGxpc3RlbmVycyAmIHNsb3RcclxuICAgICAgICAvLyB3b3JrIGFyb3VuZCBmbG93XHJcbiAgICAgICAgdmFyIHNsb3QgPSBkYXRhLnNsb3Q7XHJcbiAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIGRhdGEuc2xvdCA9IHNsb3Q7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gaW5zdGFsbCBjb21wb25lbnQgbWFuYWdlbWVudCBob29rcyBvbnRvIHRoZSBwbGFjZWhvbGRlciBub2RlXHJcbiAgICBpbnN0YWxsQ29tcG9uZW50SG9va3MoZGF0YSk7XHJcbiAgICAvLyByZXR1cm4gYSBwbGFjZWhvbGRlciB2bm9kZVxyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKEN0b3Iub3B0aW9ucykgfHwgdGFnO1xyXG4gICAgdmFyIHZub2RlID0gbmV3IFZOb2RlKFxyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgXCJ2dWUtY29tcG9uZW50LVwiLmNvbmNhdChDdG9yLmNpZCkuY29uY2F0KG5hbWUgPyBcIi1cIi5jb25jYXQobmFtZSkgOiAnJyksIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQsIFxyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgeyBDdG9yOiBDdG9yLCBwcm9wc0RhdGE6IHByb3BzRGF0YSwgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsIHRhZzogdGFnLCBjaGlsZHJlbjogY2hpbGRyZW4gfSwgYXN5bmNGYWN0b3J5KTtcclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlKFxyXG4vLyB3ZSBrbm93IGl0J3MgTW91bnRlZENvbXBvbmVudFZOb2RlIGJ1dCBmbG93IGRvZXNuJ3Rcclxudm5vZGUsIFxyXG4vLyBhY3RpdmVJbnN0YW5jZSBpbiBsaWZlY3ljbGUgc3RhdGVcclxucGFyZW50KSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICBfaXNDb21wb25lbnQ6IHRydWUsXHJcbiAgICAgICAgX3BhcmVudFZub2RlOiB2bm9kZSxcclxuICAgICAgICBwYXJlbnQ6IHBhcmVudFxyXG4gICAgfTtcclxuICAgIC8vIGNoZWNrIGlubGluZS10ZW1wbGF0ZSByZW5kZXIgZnVuY3Rpb25zXHJcbiAgICB2YXIgaW5saW5lVGVtcGxhdGUgPSB2bm9kZS5kYXRhLmlubGluZVRlbXBsYXRlO1xyXG4gICAgaWYgKGlzRGVmKGlubGluZVRlbXBsYXRlKSkge1xyXG4gICAgICAgIG9wdGlvbnMucmVuZGVyID0gaW5saW5lVGVtcGxhdGUucmVuZGVyO1xyXG4gICAgICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gaW5saW5lVGVtcGxhdGUuc3RhdGljUmVuZGVyRm5zO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyB2bm9kZS5jb21wb25lbnRPcHRpb25zLkN0b3Iob3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gaW5zdGFsbENvbXBvbmVudEhvb2tzKGRhdGEpIHtcclxuICAgIHZhciBob29rcyA9IGRhdGEuaG9vayB8fCAoZGF0YS5ob29rID0ge30pO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rc1RvTWVyZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIga2V5ID0gaG9va3NUb01lcmdlW2ldO1xyXG4gICAgICAgIHZhciBleGlzdGluZyA9IGhvb2tzW2tleV07XHJcbiAgICAgICAgdmFyIHRvTWVyZ2UgPSBjb21wb25lbnRWTm9kZUhvb2tzW2tleV07XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGlmIChleGlzdGluZyAhPT0gdG9NZXJnZSAmJiAhKGV4aXN0aW5nICYmIGV4aXN0aW5nLl9tZXJnZWQpKSB7XHJcbiAgICAgICAgICAgIGhvb2tzW2tleV0gPSBleGlzdGluZyA/IG1lcmdlSG9vayh0b01lcmdlLCBleGlzdGluZykgOiB0b01lcmdlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBtZXJnZUhvb2soZjEsIGYyKSB7XHJcbiAgICB2YXIgbWVyZ2VkID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAvLyBmbG93IGNvbXBsYWlucyBhYm91dCBleHRyYSBhcmdzIHdoaWNoIGlzIHdoeSB3ZSB1c2UgYW55XHJcbiAgICAgICAgZjEoYSwgYik7XHJcbiAgICAgICAgZjIoYSwgYik7XHJcbiAgICB9O1xyXG4gICAgbWVyZ2VkLl9tZXJnZWQgPSB0cnVlO1xyXG4gICAgcmV0dXJuIG1lcmdlZDtcclxufVxyXG4vLyB0cmFuc2Zvcm0gY29tcG9uZW50IHYtbW9kZWwgaW5mbyAodmFsdWUgYW5kIGNhbGxiYWNrKSBpbnRvXHJcbi8vIHByb3AgYW5kIGV2ZW50IGhhbmRsZXIgcmVzcGVjdGl2ZWx5LlxyXG5mdW5jdGlvbiB0cmFuc2Zvcm1Nb2RlbChvcHRpb25zLCBkYXRhKSB7XHJcbiAgICB2YXIgcHJvcCA9IChvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwucHJvcCkgfHwgJ3ZhbHVlJztcclxuICAgIHZhciBldmVudCA9IChvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwuZXZlbnQpIHx8ICdpbnB1dCc7XHJcbiAgICAoZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KSlbcHJvcF0gPSBkYXRhLm1vZGVsLnZhbHVlO1xyXG4gICAgdmFyIG9uID0gZGF0YS5vbiB8fCAoZGF0YS5vbiA9IHt9KTtcclxuICAgIHZhciBleGlzdGluZyA9IG9uW2V2ZW50XTtcclxuICAgIHZhciBjYWxsYmFjayA9IGRhdGEubW9kZWwuY2FsbGJhY2s7XHJcbiAgICBpZiAoaXNEZWYoZXhpc3RpbmcpKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoZXhpc3RpbmcpXHJcbiAgICAgICAgICAgID8gZXhpc3RpbmcuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xXHJcbiAgICAgICAgICAgIDogZXhpc3RpbmcgIT09IGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIG9uW2V2ZW50XSA9IFtjYWxsYmFja10uY29uY2F0KGV4aXN0aW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBvbltldmVudF0gPSBjYWxsYmFjaztcclxuICAgIH1cclxufVxuXG52YXIgd2FybiQyID0gbm9vcDtcclxudmFyIHRpcCA9IG5vb3A7XHJcbnZhciBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlOyAvLyB3b3JrIGFyb3VuZCBmbG93IGNoZWNrXHJcbnZhciBmb3JtYXRDb21wb25lbnROYW1lO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgdmFyIGhhc0NvbnNvbGVfMSA9IHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJztcclxuICAgIHZhciBjbGFzc2lmeVJFXzEgPSAvKD86XnxbLV9dKShcXHcpL2c7XHJcbiAgICB2YXIgY2xhc3NpZnlfMSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRV8xLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50b1VwcGVyQ2FzZSgpOyB9KS5yZXBsYWNlKC9bLV9dL2csICcnKTtcclxuICAgIH07XHJcbiAgICB3YXJuJDIgPSBmdW5jdGlvbiAobXNnLCB2bSkge1xyXG4gICAgICAgIGlmICh2bSA9PT0gdm9pZCAwKSB7IHZtID0gY3VycmVudEluc3RhbmNlOyB9XHJcbiAgICAgICAgdmFyIHRyYWNlID0gdm0gPyBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSA6ICcnO1xyXG4gICAgICAgIGlmIChjb25maWcud2FybkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgY29uZmlnLndhcm5IYW5kbGVyLmNhbGwobnVsbCwgbXNnLCB2bSwgdHJhY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChoYXNDb25zb2xlXzEgJiYgIWNvbmZpZy5zaWxlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIltWdWUgd2Fybl06IFwiLmNvbmNhdChtc2cpLmNvbmNhdCh0cmFjZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aXAgPSBmdW5jdGlvbiAobXNnLCB2bSkge1xyXG4gICAgICAgIGlmIChoYXNDb25zb2xlXzEgJiYgIWNvbmZpZy5zaWxlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1Z1ZSB0aXBdOiBcIi5jb25jYXQobXNnKSArICh2bSA/IGdlbmVyYXRlQ29tcG9uZW50VHJhY2Uodm0pIDogJycpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZm9ybWF0Q29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uICh2bSwgaW5jbHVkZUZpbGUpIHtcclxuICAgICAgICBpZiAodm0uJHJvb3QgPT09IHZtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnPFJvb3Q+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBpc0Z1bmN0aW9uKHZtKSAmJiB2bS5jaWQgIT0gbnVsbFxyXG4gICAgICAgICAgICA/IHZtLm9wdGlvbnNcclxuICAgICAgICAgICAgOiB2bS5faXNWdWVcclxuICAgICAgICAgICAgICAgID8gdm0uJG9wdGlvbnMgfHwgdm0uY29uc3RydWN0b3Iub3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgOiB2bTtcclxuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUob3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGZpbGUgPSBvcHRpb25zLl9fZmlsZTtcclxuICAgICAgICBpZiAoIW5hbWUgJiYgZmlsZSkge1xyXG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBmaWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLnZ1ZSQvKTtcclxuICAgICAgICAgICAgbmFtZSA9IG1hdGNoICYmIG1hdGNoWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKChuYW1lID8gXCI8XCIuY29uY2F0KGNsYXNzaWZ5XzEobmFtZSksIFwiPlwiKSA6IFwiPEFub255bW91cz5cIikgK1xyXG4gICAgICAgICAgICAoZmlsZSAmJiBpbmNsdWRlRmlsZSAhPT0gZmFsc2UgPyBcIiBhdCBcIi5jb25jYXQoZmlsZSkgOiAnJykpO1xyXG4gICAgfTtcclxuICAgIHZhciByZXBlYXRfMSA9IGZ1bmN0aW9uIChzdHIsIG4pIHtcclxuICAgICAgICB2YXIgcmVzID0gJyc7XHJcbiAgICAgICAgd2hpbGUgKG4pIHtcclxuICAgICAgICAgICAgaWYgKG4gJSAyID09PSAxKVxyXG4gICAgICAgICAgICAgICAgcmVzICs9IHN0cjtcclxuICAgICAgICAgICAgaWYgKG4gPiAxKVxyXG4gICAgICAgICAgICAgICAgc3RyICs9IHN0cjtcclxuICAgICAgICAgICAgbiA+Pj0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbiAgICBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlID0gZnVuY3Rpb24gKHZtKSB7XHJcbiAgICAgICAgaWYgKHZtLl9pc1Z1ZSAmJiB2bS4kcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHZhciB0cmVlID0gW107XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAodm0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0cmVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IHRyZWVbdHJlZS5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdC5jb25zdHJ1Y3RvciA9PT0gdm0uY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtID0gdm0uJHBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJlZVt0cmVlLmxlbmd0aCAtIDFdID0gW2xhc3QsIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdHJlZS5wdXNoKHZtKTtcclxuICAgICAgICAgICAgICAgIHZtID0gdm0uJHBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKCdcXG5cXG5mb3VuZCBpblxcblxcbicgK1xyXG4gICAgICAgICAgICAgICAgdHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZtLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGkgPT09IDAgPyAnLS0tPiAnIDogcmVwZWF0XzEoJyAnLCA1ICsgaSAqIDIpKS5jb25jYXQoaXNBcnJheSh2bSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlwiLmNvbmNhdChmb3JtYXRDb21wb25lbnROYW1lKHZtWzBdKSwgXCIuLi4gKFwiKS5jb25jYXQodm1bMV0sIFwiIHJlY3Vyc2l2ZSBjYWxscylcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBmb3JtYXRDb21wb25lbnROYW1lKHZtKSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcXG5cXG4oZm91bmQgaW4gXCIuY29uY2F0KGZvcm1hdENvbXBvbmVudE5hbWUodm0pLCBcIilcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG4vKipcclxuICogT3B0aW9uIG92ZXJ3cml0aW5nIHN0cmF0ZWdpZXMgYXJlIGZ1bmN0aW9ucyB0aGF0IGhhbmRsZVxyXG4gKiBob3cgdG8gbWVyZ2UgYSBwYXJlbnQgb3B0aW9uIHZhbHVlIGFuZCBhIGNoaWxkIG9wdGlvblxyXG4gKiB2YWx1ZSBpbnRvIHRoZSBmaW5hbCB2YWx1ZS5cclxuICovXHJcbnZhciBzdHJhdHMgPSBjb25maWcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzO1xyXG4vKipcclxuICogT3B0aW9ucyB3aXRoIHJlc3RyaWN0aW9uc1xyXG4gKi9cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgIHN0cmF0cy5lbCA9IHN0cmF0cy5wcm9wc0RhdGEgPSBmdW5jdGlvbiAocGFyZW50LCBjaGlsZCwgdm0sIGtleSkge1xyXG4gICAgICAgIGlmICghdm0pIHtcclxuICAgICAgICAgICAgd2FybiQyKFwib3B0aW9uIFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgaW5zdGFuY2UgXCIpICtcclxuICAgICAgICAgICAgICAgICdjcmVhdGlvbiB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmYXVsdFN0cmF0KHBhcmVudCwgY2hpbGQpO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogSGVscGVyIHRoYXQgcmVjdXJzaXZlbHkgbWVyZ2VzIHR3byBkYXRhIG9iamVjdHMgdG9nZXRoZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXJnZURhdGEodG8sIGZyb20pIHtcclxuICAgIGlmICghZnJvbSlcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB2YXIga2V5LCB0b1ZhbCwgZnJvbVZhbDtcclxuICAgIHZhciBrZXlzID0gaGFzU3ltYm9sXHJcbiAgICAgICAgPyBSZWZsZWN0Lm93bktleXMoZnJvbSlcclxuICAgICAgICA6IE9iamVjdC5rZXlzKGZyb20pO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAvLyBpbiBjYXNlIHRoZSBvYmplY3QgaXMgYWxyZWFkeSBvYnNlcnZlZC4uLlxyXG4gICAgICAgIGlmIChrZXkgPT09ICdfX29iX18nKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB0b1ZhbCA9IHRvW2tleV07XHJcbiAgICAgICAgZnJvbVZhbCA9IGZyb21ba2V5XTtcclxuICAgICAgICBpZiAoIWhhc093bih0bywga2V5KSkge1xyXG4gICAgICAgICAgICBzZXQodG8sIGtleSwgZnJvbVZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRvVmFsICE9PSBmcm9tVmFsICYmXHJcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3QodG9WYWwpICYmXHJcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3QoZnJvbVZhbCkpIHtcclxuICAgICAgICAgICAgbWVyZ2VEYXRhKHRvVmFsLCBmcm9tVmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuLyoqXHJcbiAqIERhdGFcclxuICovXHJcbmZ1bmN0aW9uIG1lcmdlRGF0YU9yRm4ocGFyZW50VmFsLCBjaGlsZFZhbCwgdm0pIHtcclxuICAgIGlmICghdm0pIHtcclxuICAgICAgICAvLyBpbiBhIFZ1ZS5leHRlbmQgbWVyZ2UsIGJvdGggc2hvdWxkIGJlIGZ1bmN0aW9uc1xyXG4gICAgICAgIGlmICghY2hpbGRWYWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudFZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYXJlbnRWYWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkVmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3aGVuIHBhcmVudFZhbCAmIGNoaWxkVmFsIGFyZSBib3RoIHByZXNlbnQsXHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXHJcbiAgICAgICAgLy8gbWVyZ2VkIHJlc3VsdCBvZiBib3RoIGZ1bmN0aW9ucy4uLiBubyBuZWVkIHRvXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgcGFyZW50VmFsIGlzIGEgZnVuY3Rpb24gaGVyZSBiZWNhdXNlXHJcbiAgICAgICAgLy8gaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb24gdG8gcGFzcyBwcmV2aW91cyBtZXJnZXMuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlRGF0YShpc0Z1bmN0aW9uKGNoaWxkVmFsKSA/IGNoaWxkVmFsLmNhbGwodGhpcywgdGhpcykgOiBjaGlsZFZhbCwgaXNGdW5jdGlvbihwYXJlbnRWYWwpID8gcGFyZW50VmFsLmNhbGwodGhpcywgdGhpcykgOiBwYXJlbnRWYWwpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkSW5zdGFuY2VEYXRhRm4oKSB7XHJcbiAgICAgICAgICAgIC8vIGluc3RhbmNlIG1lcmdlXHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZURhdGEgPSBpc0Z1bmN0aW9uKGNoaWxkVmFsKVxyXG4gICAgICAgICAgICAgICAgPyBjaGlsZFZhbC5jYWxsKHZtLCB2bSlcclxuICAgICAgICAgICAgICAgIDogY2hpbGRWYWw7XHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0RGF0YSA9IGlzRnVuY3Rpb24ocGFyZW50VmFsKVxyXG4gICAgICAgICAgICAgICAgPyBwYXJlbnRWYWwuY2FsbCh2bSwgdm0pXHJcbiAgICAgICAgICAgICAgICA6IHBhcmVudFZhbDtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lcmdlRGF0YShpbnN0YW5jZURhdGEsIGRlZmF1bHREYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuc3RyYXRzLmRhdGEgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCwgdm0pIHtcclxuICAgIGlmICghdm0pIHtcclxuICAgICAgICBpZiAoY2hpbGRWYWwgJiYgdHlwZW9mIGNoaWxkVmFsICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4kMignVGhlIFwiZGF0YVwiIG9wdGlvbiBzaG91bGQgYmUgYSBmdW5jdGlvbiAnICtcclxuICAgICAgICAgICAgICAgICAgICAndGhhdCByZXR1cm5zIGEgcGVyLWluc3RhbmNlIHZhbHVlIGluIGNvbXBvbmVudCAnICtcclxuICAgICAgICAgICAgICAgICAgICAnZGVmaW5pdGlvbnMuJywgdm0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyZW50VmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVyZ2VEYXRhT3JGbihwYXJlbnRWYWwsIGNoaWxkVmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiBtZXJnZURhdGFPckZuKHBhcmVudFZhbCwgY2hpbGRWYWwsIHZtKTtcclxufTtcclxuLyoqXHJcbiAqIEhvb2tzIGFuZCBwcm9wcyBhcmUgbWVyZ2VkIGFzIGFycmF5cy5cclxuICovXHJcbmZ1bmN0aW9uIG1lcmdlTGlmZWN5Y2xlSG9vayhwYXJlbnRWYWwsIGNoaWxkVmFsKSB7XHJcbiAgICB2YXIgcmVzID0gY2hpbGRWYWxcclxuICAgICAgICA/IHBhcmVudFZhbFxyXG4gICAgICAgICAgICA/IHBhcmVudFZhbC5jb25jYXQoY2hpbGRWYWwpXHJcbiAgICAgICAgICAgIDogaXNBcnJheShjaGlsZFZhbClcclxuICAgICAgICAgICAgICAgID8gY2hpbGRWYWxcclxuICAgICAgICAgICAgICAgIDogW2NoaWxkVmFsXVxyXG4gICAgICAgIDogcGFyZW50VmFsO1xyXG4gICAgcmV0dXJuIHJlcyA/IGRlZHVwZUhvb2tzKHJlcykgOiByZXM7XHJcbn1cclxuZnVuY3Rpb24gZGVkdXBlSG9va3MoaG9va3MpIHtcclxuICAgIHZhciByZXMgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAocmVzLmluZGV4T2YoaG9va3NbaV0pID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXMucHVzaChob29rc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5MSUZFQ1lDTEVfSE9PS1MuZm9yRWFjaChmdW5jdGlvbiAoaG9vaykge1xyXG4gICAgc3RyYXRzW2hvb2tdID0gbWVyZ2VMaWZlY3ljbGVIb29rO1xyXG59KTtcclxuLyoqXHJcbiAqIEFzc2V0c1xyXG4gKlxyXG4gKiBXaGVuIGEgdm0gaXMgcHJlc2VudCAoaW5zdGFuY2UgY3JlYXRpb24pLCB3ZSBuZWVkIHRvIGRvXHJcbiAqIGEgdGhyZWUtd2F5IG1lcmdlIGJldHdlZW4gY29uc3RydWN0b3Igb3B0aW9ucywgaW5zdGFuY2VcclxuICogb3B0aW9ucyBhbmQgcGFyZW50IG9wdGlvbnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXJnZUFzc2V0cyhwYXJlbnRWYWwsIGNoaWxkVmFsLCB2bSwga2V5KSB7XHJcbiAgICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRWYWwgfHwgbnVsbCk7XHJcbiAgICBpZiAoY2hpbGRWYWwpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGFzc2VydE9iamVjdFR5cGUoa2V5LCBjaGlsZFZhbCwgdm0pO1xyXG4gICAgICAgIHJldHVybiBleHRlbmQocmVzLCBjaGlsZFZhbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG59XHJcbkFTU0VUX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgIHN0cmF0c1t0eXBlICsgJ3MnXSA9IG1lcmdlQXNzZXRzO1xyXG59KTtcclxuLyoqXHJcbiAqIFdhdGNoZXJzLlxyXG4gKlxyXG4gKiBXYXRjaGVycyBoYXNoZXMgc2hvdWxkIG5vdCBvdmVyd3JpdGUgb25lXHJcbiAqIGFub3RoZXIsIHNvIHdlIG1lcmdlIHRoZW0gYXMgYXJyYXlzLlxyXG4gKi9cclxuc3RyYXRzLndhdGNoID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwsIHZtLCBrZXkpIHtcclxuICAgIC8vIHdvcmsgYXJvdW5kIEZpcmVmb3gncyBPYmplY3QucHJvdG90eXBlLndhdGNoLi4uXHJcbiAgICAvL0B0cy1leHBlY3QtZXJyb3Igd29yayBhcm91bmRcclxuICAgIGlmIChwYXJlbnRWYWwgPT09IG5hdGl2ZVdhdGNoKVxyXG4gICAgICAgIHBhcmVudFZhbCA9IHVuZGVmaW5lZDtcclxuICAgIC8vQHRzLWV4cGVjdC1lcnJvciB3b3JrIGFyb3VuZFxyXG4gICAgaWYgKGNoaWxkVmFsID09PSBuYXRpdmVXYXRjaClcclxuICAgICAgICBjaGlsZFZhbCA9IHVuZGVmaW5lZDtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKCFjaGlsZFZhbClcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShwYXJlbnRWYWwgfHwgbnVsbCk7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIGFzc2VydE9iamVjdFR5cGUoa2V5LCBjaGlsZFZhbCwgdm0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFwYXJlbnRWYWwpXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkVmFsO1xyXG4gICAgdmFyIHJldCA9IHt9O1xyXG4gICAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcclxuICAgIGZvciAodmFyIGtleV8xIGluIGNoaWxkVmFsKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudF8xID0gcmV0W2tleV8xXTtcclxuICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZFZhbFtrZXlfMV07XHJcbiAgICAgICAgaWYgKHBhcmVudF8xICYmICFpc0FycmF5KHBhcmVudF8xKSkge1xyXG4gICAgICAgICAgICBwYXJlbnRfMSA9IFtwYXJlbnRfMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldFtrZXlfMV0gPSBwYXJlbnRfMSA/IHBhcmVudF8xLmNvbmNhdChjaGlsZCkgOiBpc0FycmF5KGNoaWxkKSA/IGNoaWxkIDogW2NoaWxkXTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn07XHJcbi8qKlxyXG4gKiBPdGhlciBvYmplY3QgaGFzaGVzLlxyXG4gKi9cclxuc3RyYXRzLnByb3BzID1cclxuICAgIHN0cmF0cy5tZXRob2RzID1cclxuICAgICAgICBzdHJhdHMuaW5qZWN0ID1cclxuICAgICAgICAgICAgc3RyYXRzLmNvbXB1dGVkID1cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsLCB2bSwga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkVmFsICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0T2JqZWN0VHlwZShrZXksIGNoaWxkVmFsLCB2bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50VmFsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRWYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRWYWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZChyZXQsIGNoaWxkVmFsKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuc3RyYXRzLnByb3ZpZGUgPSBtZXJnZURhdGFPckZuO1xyXG4vKipcclxuICogRGVmYXVsdCBzdHJhdGVneS5cclxuICovXHJcbnZhciBkZWZhdWx0U3RyYXQgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xyXG4gICAgcmV0dXJuIGNoaWxkVmFsID09PSB1bmRlZmluZWQgPyBwYXJlbnRWYWwgOiBjaGlsZFZhbDtcclxufTtcclxuLyoqXHJcbiAqIFZhbGlkYXRlIGNvbXBvbmVudCBuYW1lc1xyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tDb21wb25lbnRzKG9wdGlvbnMpIHtcclxuICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmNvbXBvbmVudHMpIHtcclxuICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoa2V5KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSkge1xyXG4gICAgaWYgKCFuZXcgUmVnRXhwKFwiXlthLXpBLVpdW1xcXFwtXFxcXC4wLTlfXCIuY29uY2F0KHVuaWNvZGVSZWdFeHAuc291cmNlLCBcIl0qJFwiKSkudGVzdChuYW1lKSkge1xyXG4gICAgICAgIHdhcm4kMignSW52YWxpZCBjb21wb25lbnQgbmFtZTogXCInICtcclxuICAgICAgICAgICAgbmFtZSArXHJcbiAgICAgICAgICAgICdcIi4gQ29tcG9uZW50IG5hbWVzICcgK1xyXG4gICAgICAgICAgICAnc2hvdWxkIGNvbmZvcm0gdG8gdmFsaWQgY3VzdG9tIGVsZW1lbnQgbmFtZSBpbiBodG1sNSBzcGVjaWZpY2F0aW9uLicpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBjb25maWcuaXNSZXNlcnZlZFRhZyhuYW1lKSkge1xyXG4gICAgICAgIHdhcm4kMignRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcclxuICAgICAgICAgICAgJ2lkOiAnICtcclxuICAgICAgICAgICAgbmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEVuc3VyZSBhbGwgcHJvcHMgb3B0aW9uIHN5bnRheCBhcmUgbm9ybWFsaXplZCBpbnRvIHRoZVxyXG4gKiBPYmplY3QtYmFzZWQgZm9ybWF0LlxyXG4gKi9cclxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHMob3B0aW9ucywgdm0pIHtcclxuICAgIHZhciBwcm9wcyA9IG9wdGlvbnMucHJvcHM7XHJcbiAgICBpZiAoIXByb3BzKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciByZXMgPSB7fTtcclxuICAgIHZhciBpLCB2YWwsIG5hbWU7XHJcbiAgICBpZiAoaXNBcnJheShwcm9wcykpIHtcclxuICAgICAgICBpID0gcHJvcHMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFsID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgbmFtZSA9IGNhbWVsaXplKHZhbCk7XHJcbiAgICAgICAgICAgICAgICByZXNbbmFtZV0gPSB7IHR5cGU6IG51bGwgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDIoJ3Byb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QocHJvcHMpKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHByb3BzW2tleV07XHJcbiAgICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZShrZXkpO1xyXG4gICAgICAgICAgICByZXNbbmFtZV0gPSBpc1BsYWluT2JqZWN0KHZhbCkgPyB2YWwgOiB7IHR5cGU6IHZhbCB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICB3YXJuJDIoXCJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXFxcInByb3BzXFxcIjogZXhwZWN0ZWQgYW4gQXJyYXkgb3IgYW4gT2JqZWN0LCBcIiArXHJcbiAgICAgICAgICAgIFwiYnV0IGdvdCBcIi5jb25jYXQodG9SYXdUeXBlKHByb3BzKSwgXCIuXCIpLCB2bSk7XHJcbiAgICB9XHJcbiAgICBvcHRpb25zLnByb3BzID0gcmVzO1xyXG59XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgYWxsIGluamVjdGlvbnMgaW50byBPYmplY3QtYmFzZWQgZm9ybWF0XHJcbiAqL1xyXG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3Qob3B0aW9ucywgdm0pIHtcclxuICAgIHZhciBpbmplY3QgPSBvcHRpb25zLmluamVjdDtcclxuICAgIGlmICghaW5qZWN0KVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciBub3JtYWxpemVkID0gKG9wdGlvbnMuaW5qZWN0ID0ge30pO1xyXG4gICAgaWYgKGlzQXJyYXkoaW5qZWN0KSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5qZWN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRbaW5qZWN0W2ldXSA9IHsgZnJvbTogaW5qZWN0W2ldIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChpbmplY3QpKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGluamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gaW5qZWN0W2tleV07XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRba2V5XSA9IGlzUGxhaW5PYmplY3QodmFsKVxyXG4gICAgICAgICAgICAgICAgPyBleHRlbmQoeyBmcm9tOiBrZXkgfSwgdmFsKVxyXG4gICAgICAgICAgICAgICAgOiB7IGZyb206IHZhbCB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICB3YXJuJDIoXCJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXFxcImluamVjdFxcXCI6IGV4cGVjdGVkIGFuIEFycmF5IG9yIGFuIE9iamVjdCwgXCIgK1xyXG4gICAgICAgICAgICBcImJ1dCBnb3QgXCIuY29uY2F0KHRvUmF3VHlwZShpbmplY3QpLCBcIi5cIiksIHZtKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogTm9ybWFsaXplIHJhdyBmdW5jdGlvbiBkaXJlY3RpdmVzIGludG8gb2JqZWN0IGZvcm1hdC5cclxuICovXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZURpcmVjdGl2ZXMkMShvcHRpb25zKSB7XHJcbiAgICB2YXIgZGlycyA9IG9wdGlvbnMuZGlyZWN0aXZlcztcclxuICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGRpcnMpIHtcclxuICAgICAgICAgICAgdmFyIGRlZiA9IGRpcnNba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGVmKSkge1xyXG4gICAgICAgICAgICAgICAgZGlyc1trZXldID0geyBiaW5kOiBkZWYsIHVwZGF0ZTogZGVmIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXNzZXJ0T2JqZWN0VHlwZShuYW1lLCB2YWx1ZSwgdm0pIHtcclxuICAgIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICB3YXJuJDIoXCJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXFxcIlwiLmNvbmNhdChuYW1lLCBcIlxcXCI6IGV4cGVjdGVkIGFuIE9iamVjdCwgXCIpICtcclxuICAgICAgICAgICAgXCJidXQgZ290IFwiLmNvbmNhdCh0b1Jhd1R5cGUodmFsdWUpLCBcIi5cIiksIHZtKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogTWVyZ2UgdHdvIG9wdGlvbiBvYmplY3RzIGludG8gYSBuZXcgb25lLlxyXG4gKiBDb3JlIHV0aWxpdHkgdXNlZCBpbiBib3RoIGluc3RhbnRpYXRpb24gYW5kIGluaGVyaXRhbmNlLlxyXG4gKi9cclxuZnVuY3Rpb24gbWVyZ2VPcHRpb25zKHBhcmVudCwgY2hpbGQsIHZtKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIGNoZWNrQ29tcG9uZW50cyhjaGlsZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNGdW5jdGlvbihjaGlsZCkpIHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgY2hpbGQgPSBjaGlsZC5vcHRpb25zO1xyXG4gICAgfVxyXG4gICAgbm9ybWFsaXplUHJvcHMoY2hpbGQsIHZtKTtcclxuICAgIG5vcm1hbGl6ZUluamVjdChjaGlsZCwgdm0pO1xyXG4gICAgbm9ybWFsaXplRGlyZWN0aXZlcyQxKGNoaWxkKTtcclxuICAgIC8vIEFwcGx5IGV4dGVuZHMgYW5kIG1peGlucyBvbiB0aGUgY2hpbGQgb3B0aW9ucyxcclxuICAgIC8vIGJ1dCBvbmx5IGlmIGl0IGlzIGEgcmF3IG9wdGlvbnMgb2JqZWN0IHRoYXQgaXNuJ3RcclxuICAgIC8vIHRoZSByZXN1bHQgb2YgYW5vdGhlciBtZXJnZU9wdGlvbnMgY2FsbC5cclxuICAgIC8vIE9ubHkgbWVyZ2VkIG9wdGlvbnMgaGFzIHRoZSBfYmFzZSBwcm9wZXJ0eS5cclxuICAgIGlmICghY2hpbGQuX2Jhc2UpIHtcclxuICAgICAgICBpZiAoY2hpbGQuZXh0ZW5kcykge1xyXG4gICAgICAgICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZC5leHRlbmRzLCB2bSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGlsZC5taXhpbnMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZC5taXhpbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZC5taXhpbnNbaV0sIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBvcHRpb25zID0ge307XHJcbiAgICB2YXIga2V5O1xyXG4gICAgZm9yIChrZXkgaW4gcGFyZW50KSB7XHJcbiAgICAgICAgbWVyZ2VGaWVsZChrZXkpO1xyXG4gICAgfVxyXG4gICAgZm9yIChrZXkgaW4gY2hpbGQpIHtcclxuICAgICAgICBpZiAoIWhhc093bihwYXJlbnQsIGtleSkpIHtcclxuICAgICAgICAgICAgbWVyZ2VGaWVsZChrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG1lcmdlRmllbGQoa2V5KSB7XHJcbiAgICAgICAgdmFyIHN0cmF0ID0gc3RyYXRzW2tleV0gfHwgZGVmYXVsdFN0cmF0O1xyXG4gICAgICAgIG9wdGlvbnNba2V5XSA9IHN0cmF0KHBhcmVudFtrZXldLCBjaGlsZFtrZXldLCB2bSwga2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiBvcHRpb25zO1xyXG59XHJcbi8qKlxyXG4gKiBSZXNvbHZlIGFuIGFzc2V0LlxyXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYmVjYXVzZSBjaGlsZCBpbnN0YW5jZXMgbmVlZCBhY2Nlc3NcclxuICogdG8gYXNzZXRzIGRlZmluZWQgaW4gaXRzIGFuY2VzdG9yIGNoYWluLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0KG9wdGlvbnMsIHR5cGUsIGlkLCB3YXJuTWlzc2luZykge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBhc3NldHMgPSBvcHRpb25zW3R5cGVdO1xyXG4gICAgLy8gY2hlY2sgbG9jYWwgcmVnaXN0cmF0aW9uIHZhcmlhdGlvbnMgZmlyc3RcclxuICAgIGlmIChoYXNPd24oYXNzZXRzLCBpZCkpXHJcbiAgICAgICAgcmV0dXJuIGFzc2V0c1tpZF07XHJcbiAgICB2YXIgY2FtZWxpemVkSWQgPSBjYW1lbGl6ZShpZCk7XHJcbiAgICBpZiAoaGFzT3duKGFzc2V0cywgY2FtZWxpemVkSWQpKVxyXG4gICAgICAgIHJldHVybiBhc3NldHNbY2FtZWxpemVkSWRdO1xyXG4gICAgdmFyIFBhc2NhbENhc2VJZCA9IGNhcGl0YWxpemUoY2FtZWxpemVkSWQpO1xyXG4gICAgaWYgKGhhc093bihhc3NldHMsIFBhc2NhbENhc2VJZCkpXHJcbiAgICAgICAgcmV0dXJuIGFzc2V0c1tQYXNjYWxDYXNlSWRdO1xyXG4gICAgLy8gZmFsbGJhY2sgdG8gcHJvdG90eXBlIGNoYWluXHJcbiAgICB2YXIgcmVzID0gYXNzZXRzW2lkXSB8fCBhc3NldHNbY2FtZWxpemVkSWRdIHx8IGFzc2V0c1tQYXNjYWxDYXNlSWRdO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xyXG4gICAgICAgIHdhcm4kMignRmFpbGVkIHRvIHJlc29sdmUgJyArIHR5cGUuc2xpY2UoMCwgLTEpICsgJzogJyArIGlkKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wKGtleSwgcHJvcE9wdGlvbnMsIHByb3BzRGF0YSwgdm0pIHtcclxuICAgIHZhciBwcm9wID0gcHJvcE9wdGlvbnNba2V5XTtcclxuICAgIHZhciBhYnNlbnQgPSAhaGFzT3duKHByb3BzRGF0YSwga2V5KTtcclxuICAgIHZhciB2YWx1ZSA9IHByb3BzRGF0YVtrZXldO1xyXG4gICAgLy8gYm9vbGVhbiBjYXN0aW5nXHJcbiAgICB2YXIgYm9vbGVhbkluZGV4ID0gZ2V0VHlwZUluZGV4KEJvb2xlYW4sIHByb3AudHlwZSk7XHJcbiAgICBpZiAoYm9vbGVhbkluZGV4ID4gLTEpIHtcclxuICAgICAgICBpZiAoYWJzZW50ICYmICFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgY2FzdCBlbXB0eSBzdHJpbmcgLyBzYW1lIG5hbWUgdG8gYm9vbGVhbiBpZlxyXG4gICAgICAgICAgICAvLyBib29sZWFuIGhhcyBoaWdoZXIgcHJpb3JpdHlcclxuICAgICAgICAgICAgdmFyIHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTtcclxuICAgICAgICAgICAgaWYgKHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY2hlY2sgZGVmYXVsdCB2YWx1ZVxyXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZSA9IGdldFByb3BEZWZhdWx0VmFsdWUodm0sIHByb3AsIGtleSk7XHJcbiAgICAgICAgLy8gc2luY2UgdGhlIGRlZmF1bHQgdmFsdWUgaXMgYSBmcmVzaCBjb3B5LFxyXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byBvYnNlcnZlIGl0LlxyXG4gICAgICAgIHZhciBwcmV2U2hvdWxkT2JzZXJ2ZSA9IHNob3VsZE9ic2VydmU7XHJcbiAgICAgICAgdG9nZ2xlT2JzZXJ2aW5nKHRydWUpO1xyXG4gICAgICAgIG9ic2VydmUodmFsdWUpO1xyXG4gICAgICAgIHRvZ2dsZU9ic2VydmluZyhwcmV2U2hvdWxkT2JzZXJ2ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIGFzc2VydFByb3AocHJvcCwga2V5LCB2YWx1ZSwgdm0sIGFic2VudCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuLyoqXHJcbiAqIEdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHByb3AuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQcm9wRGVmYXVsdFZhbHVlKHZtLCBwcm9wLCBrZXkpIHtcclxuICAgIC8vIG5vIGRlZmF1bHQsIHJldHVybiB1bmRlZmluZWRcclxuICAgIGlmICghaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgdmFyIGRlZiA9IHByb3AuZGVmYXVsdDtcclxuICAgIC8vIHdhcm4gYWdhaW5zdCBub24tZmFjdG9yeSBkZWZhdWx0cyBmb3IgT2JqZWN0ICYgQXJyYXlcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzT2JqZWN0KGRlZikpIHtcclxuICAgICAgICB3YXJuJDIoJ0ludmFsaWQgZGVmYXVsdCB2YWx1ZSBmb3IgcHJvcCBcIicgK1xyXG4gICAgICAgICAgICBrZXkgK1xyXG4gICAgICAgICAgICAnXCI6ICcgK1xyXG4gICAgICAgICAgICAnUHJvcHMgd2l0aCB0eXBlIE9iamVjdC9BcnJheSBtdXN0IHVzZSBhIGZhY3RvcnkgZnVuY3Rpb24gJyArXHJcbiAgICAgICAgICAgICd0byByZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWUuJywgdm0pO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHJhdyBwcm9wIHZhbHVlIHdhcyBhbHNvIHVuZGVmaW5lZCBmcm9tIHByZXZpb3VzIHJlbmRlcixcclxuICAgIC8vIHJldHVybiBwcmV2aW91cyBkZWZhdWx0IHZhbHVlIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHdhdGNoZXIgdHJpZ2dlclxyXG4gICAgaWYgKHZtICYmXHJcbiAgICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhICYmXHJcbiAgICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhW2tleV0gPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIHZtLl9wcm9wc1trZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdm0uX3Byb3BzW2tleV07XHJcbiAgICB9XHJcbiAgICAvLyBjYWxsIGZhY3RvcnkgZnVuY3Rpb24gZm9yIG5vbi1GdW5jdGlvbiB0eXBlc1xyXG4gICAgLy8gYSB2YWx1ZSBpcyBGdW5jdGlvbiBpZiBpdHMgcHJvdG90eXBlIGlzIGZ1bmN0aW9uIGV2ZW4gYWNyb3NzIGRpZmZlcmVudCBleGVjdXRpb24gY29udGV4dFxyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oZGVmKSAmJiBnZXRUeXBlKHByb3AudHlwZSkgIT09ICdGdW5jdGlvbidcclxuICAgICAgICA/IGRlZi5jYWxsKHZtKVxyXG4gICAgICAgIDogZGVmO1xyXG59XHJcbi8qKlxyXG4gKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBhc3NlcnRQcm9wKHByb3AsIG5hbWUsIHZhbHVlLCB2bSwgYWJzZW50KSB7XHJcbiAgICBpZiAocHJvcC5yZXF1aXJlZCAmJiBhYnNlbnQpIHtcclxuICAgICAgICB3YXJuJDIoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicsIHZtKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciB0eXBlID0gcHJvcC50eXBlO1xyXG4gICAgdmFyIHZhbGlkID0gIXR5cGUgfHwgdHlwZSA9PT0gdHJ1ZTtcclxuICAgIHZhciBleHBlY3RlZFR5cGVzID0gW107XHJcbiAgICBpZiAodHlwZSkge1xyXG4gICAgICAgIGlmICghaXNBcnJheSh0eXBlKSkge1xyXG4gICAgICAgICAgICB0eXBlID0gW3R5cGVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoICYmICF2YWxpZDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBhc3NlcnRlZFR5cGUgPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlW2ldLCB2bSk7XHJcbiAgICAgICAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChhc3NlcnRlZFR5cGUuZXhwZWN0ZWRUeXBlIHx8ICcnKTtcclxuICAgICAgICAgICAgdmFsaWQgPSBhc3NlcnRlZFR5cGUudmFsaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGhhdmVFeHBlY3RlZFR5cGVzID0gZXhwZWN0ZWRUeXBlcy5zb21lKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9KTtcclxuICAgIGlmICghdmFsaWQgJiYgaGF2ZUV4cGVjdGVkVHlwZXMpIHtcclxuICAgICAgICB3YXJuJDIoZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSwgdm0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciB2YWxpZGF0b3IgPSBwcm9wLnZhbGlkYXRvcjtcclxuICAgIGlmICh2YWxpZGF0b3IpIHtcclxuICAgICAgICBpZiAoIXZhbGlkYXRvcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgd2FybiQyKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJywgdm0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG52YXIgc2ltcGxlQ2hlY2tSRSA9IC9eKFN0cmluZ3xOdW1iZXJ8Qm9vbGVhbnxGdW5jdGlvbnxTeW1ib2x8QmlnSW50KSQvO1xyXG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlLCB2bSkge1xyXG4gICAgdmFyIHZhbGlkO1xyXG4gICAgdmFyIGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XHJcbiAgICBpZiAoc2ltcGxlQ2hlY2tSRS50ZXN0KGV4cGVjdGVkVHlwZSkpIHtcclxuICAgICAgICB2YXIgdCA9IHR5cGVvZiB2YWx1ZTtcclxuICAgICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIC8vIGZvciBwcmltaXRpdmUgd3JhcHBlciBvYmplY3RzXHJcbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XHJcbiAgICAgICAgdmFsaWQgPSBpc1BsYWluT2JqZWN0KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0FycmF5Jykge1xyXG4gICAgICAgIHZhbGlkID0gaXNBcnJheSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgd2FybiQyKCdJbnZhbGlkIHByb3AgdHlwZTogXCInICsgU3RyaW5nKHR5cGUpICsgJ1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yJywgdm0pO1xyXG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsaWQ6IHZhbGlkLFxyXG4gICAgICAgIGV4cGVjdGVkVHlwZTogZXhwZWN0ZWRUeXBlXHJcbiAgICB9O1xyXG59XHJcbnZhciBmdW5jdGlvblR5cGVDaGVja1JFID0gL15cXHMqZnVuY3Rpb24gKFxcdyspLztcclxuLyoqXHJcbiAqIFVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayBidWlsdC1pbiB0eXBlcyxcclxuICogYmVjYXVzZSBhIHNpbXBsZSBlcXVhbGl0eSBjaGVjayB3aWxsIGZhaWwgd2hlbiBydW5uaW5nXHJcbiAqIGFjcm9zcyBkaWZmZXJlbnQgdm1zIC8gaWZyYW1lcy5cclxuICovXHJcbmZ1bmN0aW9uIGdldFR5cGUoZm4pIHtcclxuICAgIHZhciBtYXRjaCA9IGZuICYmIGZuLnRvU3RyaW5nKCkubWF0Y2goZnVuY3Rpb25UeXBlQ2hlY2tSRSk7XHJcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVR5cGUoYSwgYikge1xyXG4gICAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYik7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4KHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcclxuICAgIGlmICghaXNBcnJheShleHBlY3RlZFR5cGVzKSkge1xyXG4gICAgICAgIHJldHVybiBpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXMsIHR5cGUpID8gMCA6IC0xO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4cGVjdGVkVHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAoaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzW2ldLCB0eXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTE7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XHJcbiAgICB2YXIgbWVzc2FnZSA9IFwiSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIi5cIikgK1xyXG4gICAgICAgIFwiIEV4cGVjdGVkIFwiLmNvbmNhdChleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcsICcpKTtcclxuICAgIHZhciBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xyXG4gICAgdmFyIHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XHJcbiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgZXhwZWN0ZWQgdmFsdWVcclxuICAgIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJlxyXG4gICAgICAgIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmXHJcbiAgICAgICAgaXNFeHBsaWNhYmxlKHR5cGVvZiB2YWx1ZSkgJiZcclxuICAgICAgICAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gXCIgd2l0aCB2YWx1ZSBcIi5jb25jYXQoc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKSk7XHJcbiAgICB9XHJcbiAgICBtZXNzYWdlICs9IFwiLCBnb3QgXCIuY29uY2F0KHJlY2VpdmVkVHlwZSwgXCIgXCIpO1xyXG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IHJlY2VpdmVkIHZhbHVlXHJcbiAgICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcclxuICAgICAgICBtZXNzYWdlICs9IFwid2l0aCB2YWx1ZSBcIi5jb25jYXQoc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKSwgXCIuXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1lc3NhZ2U7XHJcbn1cclxuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdTdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ051bWJlcicpIHtcclxuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoTnVtYmVyKHZhbHVlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQodmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbnZhciBFWFBMSUNBQkxFX1RZUEVTID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTtcclxuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gRVhQTElDQUJMRV9UWVBFUy5zb21lKGZ1bmN0aW9uIChlbGVtKSB7IHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBlbGVtOyB9KTtcclxufVxyXG5mdW5jdGlvbiBpc0Jvb2xlYW4oKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJncy5zb21lKGZ1bmN0aW9uIChlbGVtKSB7IHJldHVybiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09ICdib29sZWFuJzsgfSk7XHJcbn1cblxuZnVuY3Rpb24gVnVlKG9wdGlvbnMpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICEodGhpcyBpbnN0YW5jZW9mIFZ1ZSkpIHtcclxuICAgICAgICB3YXJuJDIoJ1Z1ZSBpcyBhIGNvbnN0cnVjdG9yIGFuZCBzaG91bGQgYmUgY2FsbGVkIHdpdGggdGhlIGBuZXdgIGtleXdvcmQnKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2luaXQob3B0aW9ucyk7XHJcbn1cclxuLy9AdHMtZXhwZWN0LWVycm9yIFZ1ZSBoYXMgZnVuY3Rpb24gdHlwZVxyXG5pbml0TWl4aW4kMShWdWUpO1xyXG4vL0B0cy1leHBlY3QtZXJyb3IgVnVlIGhhcyBmdW5jdGlvbiB0eXBlXHJcbnN0YXRlTWl4aW4oVnVlKTtcclxuLy9AdHMtZXhwZWN0LWVycm9yIFZ1ZSBoYXMgZnVuY3Rpb24gdHlwZVxyXG5ldmVudHNNaXhpbihWdWUpO1xyXG4vL0B0cy1leHBlY3QtZXJyb3IgVnVlIGhhcyBmdW5jdGlvbiB0eXBlXHJcbmxpZmVjeWNsZU1peGluKFZ1ZSk7XHJcbi8vQHRzLWV4cGVjdC1lcnJvciBWdWUgaGFzIGZ1bmN0aW9uIHR5cGVcclxucmVuZGVyTWl4aW4oVnVlKTtcblxuZnVuY3Rpb24gaW5pdFVzZShWdWUpIHtcclxuICAgIFZ1ZS51c2UgPSBmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbGxlZFBsdWdpbnMgPSB0aGlzLl9pbnN0YWxsZWRQbHVnaW5zIHx8ICh0aGlzLl9pbnN0YWxsZWRQbHVnaW5zID0gW10pO1xyXG4gICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmluZGV4T2YocGx1Z2luKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhZGRpdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzLCAxKTtcclxuICAgICAgICBhcmdzLnVuc2hpZnQodGhpcyk7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocGx1Z2luLmluc3RhbGwpKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocGx1Z2luKSkge1xyXG4gICAgICAgICAgICBwbHVnaW4uYXBwbHkobnVsbCwgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbGxlZFBsdWdpbnMucHVzaChwbHVnaW4pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBpbml0TWl4aW4oVnVlKSB7XHJcbiAgICBWdWUubWl4aW4gPSBmdW5jdGlvbiAobWl4aW4pIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLCBtaXhpbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIGluaXRFeHRlbmQoVnVlKSB7XHJcbiAgICAvKipcclxuICAgICAqIEVhY2ggaW5zdGFuY2UgY29uc3RydWN0b3IsIGluY2x1ZGluZyBWdWUsIGhhcyBhIHVuaXF1ZVxyXG4gICAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgXCJjaGlsZFxyXG4gICAgICogY29uc3RydWN0b3JzXCIgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UgYW5kIGNhY2hlIHRoZW0uXHJcbiAgICAgKi9cclxuICAgIFZ1ZS5jaWQgPSAwO1xyXG4gICAgdmFyIGNpZCA9IDE7XHJcbiAgICAvKipcclxuICAgICAqIENsYXNzIGluaGVyaXRhbmNlXHJcbiAgICAgKi9cclxuICAgIFZ1ZS5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5kT3B0aW9ucykge1xyXG4gICAgICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIHZhciBTdXBlciA9IHRoaXM7XHJcbiAgICAgICAgdmFyIFN1cGVySWQgPSBTdXBlci5jaWQ7XHJcbiAgICAgICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTtcclxuICAgICAgICBpZiAoY2FjaGVkQ3RvcnNbU3VwZXJJZF0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZEN0b3JzW1N1cGVySWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZXh0ZW5kT3B0aW9ucykgfHwgZ2V0Q29tcG9uZW50TmFtZShTdXBlci5vcHRpb25zKTtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIFN1YiA9IGZ1bmN0aW9uIFZ1ZUNvbXBvbmVudChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXQob3B0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTdWIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdXBlci5wcm90b3R5cGUpO1xyXG4gICAgICAgIFN1Yi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdWI7XHJcbiAgICAgICAgU3ViLmNpZCA9IGNpZCsrO1xyXG4gICAgICAgIFN1Yi5vcHRpb25zID0gbWVyZ2VPcHRpb25zKFN1cGVyLm9wdGlvbnMsIGV4dGVuZE9wdGlvbnMpO1xyXG4gICAgICAgIFN1Ylsnc3VwZXInXSA9IFN1cGVyO1xyXG4gICAgICAgIC8vIEZvciBwcm9wcyBhbmQgY29tcHV0ZWQgcHJvcGVydGllcywgd2UgZGVmaW5lIHRoZSBwcm94eSBnZXR0ZXJzIG9uXHJcbiAgICAgICAgLy8gdGhlIFZ1ZSBpbnN0YW5jZXMgYXQgZXh0ZW5zaW9uIHRpbWUsIG9uIHRoZSBleHRlbmRlZCBwcm90b3R5cGUuIFRoaXNcclxuICAgICAgICAvLyBhdm9pZHMgT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxzIGZvciBlYWNoIGluc3RhbmNlIGNyZWF0ZWQuXHJcbiAgICAgICAgaWYgKFN1Yi5vcHRpb25zLnByb3BzKSB7XHJcbiAgICAgICAgICAgIGluaXRQcm9wcyhTdWIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoU3ViLm9wdGlvbnMuY29tcHV0ZWQpIHtcclxuICAgICAgICAgICAgaW5pdENvbXB1dGVkKFN1Yik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFsbG93IGZ1cnRoZXIgZXh0ZW5zaW9uL21peGluL3BsdWdpbiB1c2FnZVxyXG4gICAgICAgIFN1Yi5leHRlbmQgPSBTdXBlci5leHRlbmQ7XHJcbiAgICAgICAgU3ViLm1peGluID0gU3VwZXIubWl4aW47XHJcbiAgICAgICAgU3ViLnVzZSA9IFN1cGVyLnVzZTtcclxuICAgICAgICAvLyBjcmVhdGUgYXNzZXQgcmVnaXN0ZXJzLCBzbyBleHRlbmRlZCBjbGFzc2VzXHJcbiAgICAgICAgLy8gY2FuIGhhdmUgdGhlaXIgcHJpdmF0ZSBhc3NldHMgdG9vLlxyXG4gICAgICAgIEFTU0VUX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgU3ViW3R5cGVdID0gU3VwZXJbdHlwZV07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gZW5hYmxlIHJlY3Vyc2l2ZSBzZWxmLWxvb2t1cFxyXG4gICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgIFN1Yi5vcHRpb25zLmNvbXBvbmVudHNbbmFtZV0gPSBTdWI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHN1cGVyIG9wdGlvbnMgYXQgZXh0ZW5zaW9uIHRpbWUuXHJcbiAgICAgICAgLy8gbGF0ZXIgYXQgaW5zdGFudGlhdGlvbiB3ZSBjYW4gY2hlY2sgaWYgU3VwZXIncyBvcHRpb25zIGhhdmVcclxuICAgICAgICAvLyBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgU3ViLnN1cGVyT3B0aW9ucyA9IFN1cGVyLm9wdGlvbnM7XHJcbiAgICAgICAgU3ViLmV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zO1xyXG4gICAgICAgIFN1Yi5zZWFsZWRPcHRpb25zID0gZXh0ZW5kKHt9LCBTdWIub3B0aW9ucyk7XHJcbiAgICAgICAgLy8gY2FjaGUgY29uc3RydWN0b3JcclxuICAgICAgICBjYWNoZWRDdG9yc1tTdXBlcklkXSA9IFN1YjtcclxuICAgICAgICByZXR1cm4gU3ViO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBpbml0UHJvcHMoQ29tcCkge1xyXG4gICAgdmFyIHByb3BzID0gQ29tcC5vcHRpb25zLnByb3BzO1xyXG4gICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XHJcbiAgICAgICAgcHJveHkoQ29tcC5wcm90b3R5cGUsIFwiX3Byb3BzXCIsIGtleSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5pdENvbXB1dGVkKENvbXApIHtcclxuICAgIHZhciBjb21wdXRlZCA9IENvbXAub3B0aW9ucy5jb21wdXRlZDtcclxuICAgIGZvciAodmFyIGtleSBpbiBjb21wdXRlZCkge1xyXG4gICAgICAgIGRlZmluZUNvbXB1dGVkKENvbXAucHJvdG90eXBlLCBrZXksIGNvbXB1dGVkW2tleV0pO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGluaXRBc3NldFJlZ2lzdGVycyhWdWUpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFzc2V0IHJlZ2lzdHJhdGlvbiBtZXRob2RzLlxyXG4gICAgICovXHJcbiAgICBBU1NFVF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBmdW5jdGlvbiBpcyBub3QgZXhhY3Qgc2FtZSB0eXBlXHJcbiAgICAgICAgVnVlW3R5cGVdID0gZnVuY3Rpb24gKGlkLCBkZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICghZGVmaW5pdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0eXBlICsgJ3MnXVtpZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGUgPT09ICdjb21wb25lbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKGlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnY29tcG9uZW50JyAmJiBpc1BsYWluT2JqZWN0KGRlZmluaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24ubmFtZSA9IGRlZmluaXRpb24ubmFtZSB8fCBpZDtcclxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uID0gdGhpcy5vcHRpb25zLl9iYXNlLmV4dGVuZChkZWZpbml0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZGlyZWN0aXZlJyAmJiBpc0Z1bmN0aW9uKGRlZmluaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbiA9IHsgYmluZDogZGVmaW5pdGlvbiwgdXBkYXRlOiBkZWZpbml0aW9uIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdID0gZGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZpbml0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIF9nZXRDb21wb25lbnROYW1lKG9wdHMpIHtcclxuICAgIHJldHVybiBvcHRzICYmIChnZXRDb21wb25lbnROYW1lKG9wdHMuQ3Rvci5vcHRpb25zKSB8fCBvcHRzLnRhZyk7XHJcbn1cclxuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XHJcbiAgICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLmluZGV4T2YobmFtZSkgPiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5kZXhPZihuYW1lKSA+IC0xO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWdFeHAocGF0dGVybikpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBwcnVuZUNhY2hlKGtlZXBBbGl2ZUluc3RhbmNlLCBmaWx0ZXIpIHtcclxuICAgIHZhciBjYWNoZSA9IGtlZXBBbGl2ZUluc3RhbmNlLmNhY2hlLCBrZXlzID0ga2VlcEFsaXZlSW5zdGFuY2Uua2V5cywgX3Zub2RlID0ga2VlcEFsaXZlSW5zdGFuY2UuX3Zub2RlO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGNhY2hlKSB7XHJcbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGVba2V5XTtcclxuICAgICAgICBpZiAoZW50cnkpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWVfMSA9IGVudHJ5Lm5hbWU7XHJcbiAgICAgICAgICAgIGlmIChuYW1lXzEgJiYgIWZpbHRlcihuYW1lXzEpKSB7XHJcbiAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleSwga2V5cywgX3Zub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleSwga2V5cywgY3VycmVudCkge1xyXG4gICAgdmFyIGVudHJ5ID0gY2FjaGVba2V5XTtcclxuICAgIGlmIChlbnRyeSAmJiAoIWN1cnJlbnQgfHwgZW50cnkudGFnICE9PSBjdXJyZW50LnRhZykpIHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbiBiZSB1bmRlZmluZWRcclxuICAgICAgICBlbnRyeS5jb21wb25lbnRJbnN0YW5jZS4kZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgY2FjaGVba2V5XSA9IG51bGw7XHJcbiAgICByZW1vdmUkMihrZXlzLCBrZXkpO1xyXG59XHJcbnZhciBwYXR0ZXJuVHlwZXMgPSBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XTtcclxuLy8gVE9ETyBkZWZpbmVDb21wb25lbnRcclxudmFyIEtlZXBBbGl2ZSA9IHtcclxuICAgIG5hbWU6ICdrZWVwLWFsaXZlJyxcclxuICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBpbmNsdWRlOiBwYXR0ZXJuVHlwZXMsXHJcbiAgICAgICAgZXhjbHVkZTogcGF0dGVyblR5cGVzLFxyXG4gICAgICAgIG1heDogW1N0cmluZywgTnVtYmVyXVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBjYWNoZVZOb2RlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsIGNhY2hlID0gX2EuY2FjaGUsIGtleXMgPSBfYS5rZXlzLCB2bm9kZVRvQ2FjaGUgPSBfYS52bm9kZVRvQ2FjaGUsIGtleVRvQ2FjaGUgPSBfYS5rZXlUb0NhY2hlO1xyXG4gICAgICAgICAgICBpZiAodm5vZGVUb0NhY2hlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFnID0gdm5vZGVUb0NhY2hlLnRhZywgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZVRvQ2FjaGUuY29tcG9uZW50SW5zdGFuY2UsIGNvbXBvbmVudE9wdGlvbnMgPSB2bm9kZVRvQ2FjaGUuY29tcG9uZW50T3B0aW9ucztcclxuICAgICAgICAgICAgICAgIGNhY2hlW2tleVRvQ2FjaGVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IF9nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudE9wdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhZzogdGFnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEluc3RhbmNlOiBjb21wb25lbnRJbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXlUb0NhY2hlKTtcclxuICAgICAgICAgICAgICAgIC8vIHBydW5lIG9sZGVzdCBlbnRyeVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4ICYmIGtleXMubGVuZ3RoID4gcGFyc2VJbnQodGhpcy5tYXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXlzWzBdLCBrZXlzLCB0aGlzLl92bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZub2RlVG9DYWNoZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIHRoaXMua2V5cyA9IFtdO1xyXG4gICAgfSxcclxuICAgIGRlc3Ryb3llZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNhY2hlKSB7XHJcbiAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeSh0aGlzLmNhY2hlLCBrZXksIHRoaXMua2V5cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY2FjaGVWTm9kZSgpO1xyXG4gICAgICAgIHRoaXMuJHdhdGNoKCdpbmNsdWRlJywgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBwcnVuZUNhY2hlKF90aGlzLCBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbWF0Y2hlcyh2YWwsIG5hbWUpOyB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLiR3YXRjaCgnZXhjbHVkZScsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgcHJ1bmVDYWNoZShfdGhpcywgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuICFtYXRjaGVzKHZhbCwgbmFtZSk7IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhY2hlVk5vZGUoKTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2xvdCA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XHJcbiAgICAgICAgdmFyIHZub2RlID0gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZChzbG90KTtcclxuICAgICAgICB2YXIgY29tcG9uZW50T3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgcGF0dGVyblxyXG4gICAgICAgICAgICB2YXIgbmFtZV8yID0gX2dldENvbXBvbmVudE5hbWUoY29tcG9uZW50T3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsIGluY2x1ZGUgPSBfYS5pbmNsdWRlLCBleGNsdWRlID0gX2EuZXhjbHVkZTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAvLyBub3QgaW5jbHVkZWRcclxuICAgICAgICAgICAgKGluY2x1ZGUgJiYgKCFuYW1lXzIgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZV8yKSkpIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBleGNsdWRlZFxyXG4gICAgICAgICAgICAgICAgKGV4Y2x1ZGUgJiYgbmFtZV8yICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZV8yKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgX2IgPSB0aGlzLCBjYWNoZSA9IF9iLmNhY2hlLCBrZXlzID0gX2Iua2V5cztcclxuICAgICAgICAgICAgdmFyIGtleSA9IHZub2RlLmtleSA9PSBudWxsXHJcbiAgICAgICAgICAgICAgICA/IC8vIHNhbWUgY29uc3RydWN0b3IgbWF5IGdldCByZWdpc3RlcmVkIGFzIGRpZmZlcmVudCBsb2NhbCBjb21wb25lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gY2lkIGFsb25lIGlzIG5vdCBlbm91Z2ggKCMzMjY5KVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudE9wdGlvbnMuQ3Rvci5jaWQgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29tcG9uZW50T3B0aW9ucy50YWcgPyBcIjo6XCIuY29uY2F0KGNvbXBvbmVudE9wdGlvbnMudGFnKSA6ICcnKVxyXG4gICAgICAgICAgICAgICAgOiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIGlmIChjYWNoZVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IGNhY2hlW2tleV0uY29tcG9uZW50SW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAvLyBtYWtlIGN1cnJlbnQga2V5IGZyZXNoZXN0XHJcbiAgICAgICAgICAgICAgICByZW1vdmUkMihrZXlzLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWxheSBzZXR0aW5nIHRoZSBjYWNoZSB1bnRpbCB1cGRhdGVcclxuICAgICAgICAgICAgICAgIHRoaXMudm5vZGVUb0NhY2hlID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmtleVRvQ2FjaGUgPSBrZXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYW4gdm5vZGUuZGF0YSBjYW4gYmUgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIHZub2RlLmRhdGEua2VlcEFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZub2RlIHx8IChzbG90ICYmIHNsb3RbMF0pO1xyXG4gICAgfVxyXG59O1xuXG52YXIgYnVpbHRJbkNvbXBvbmVudHMgPSB7XHJcbiAgICBLZWVwQWxpdmU6IEtlZXBBbGl2ZVxyXG59O1xuXG5mdW5jdGlvbiBpbml0R2xvYmFsQVBJKFZ1ZSkge1xyXG4gICAgLy8gY29uZmlnXHJcbiAgICB2YXIgY29uZmlnRGVmID0ge307XHJcbiAgICBjb25maWdEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlnOyB9O1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBjb25maWdEZWYuc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3YXJuJDIoJ0RvIG5vdCByZXBsYWNlIHRoZSBWdWUuY29uZmlnIG9iamVjdCwgc2V0IGluZGl2aWR1YWwgZmllbGRzIGluc3RlYWQuJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUsICdjb25maWcnLCBjb25maWdEZWYpO1xyXG4gICAgLy8gZXhwb3NlZCB1dGlsIG1ldGhvZHMuXHJcbiAgICAvLyBOT1RFOiB0aGVzZSBhcmUgbm90IGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgcHVibGljIEFQSSAtIGF2b2lkIHJlbHlpbmcgb25cclxuICAgIC8vIHRoZW0gdW5sZXNzIHlvdSBhcmUgYXdhcmUgb2YgdGhlIHJpc2suXHJcbiAgICBWdWUudXRpbCA9IHtcclxuICAgICAgICB3YXJuOiB3YXJuJDIsXHJcbiAgICAgICAgZXh0ZW5kOiBleHRlbmQsXHJcbiAgICAgICAgbWVyZ2VPcHRpb25zOiBtZXJnZU9wdGlvbnMsXHJcbiAgICAgICAgZGVmaW5lUmVhY3RpdmU6IGRlZmluZVJlYWN0aXZlXHJcbiAgICB9O1xyXG4gICAgVnVlLnNldCA9IHNldDtcclxuICAgIFZ1ZS5kZWxldGUgPSBkZWw7XHJcbiAgICBWdWUubmV4dFRpY2sgPSBuZXh0VGljaztcclxuICAgIC8vIDIuNiBleHBsaWNpdCBvYnNlcnZhYmxlIEFQSVxyXG4gICAgVnVlLm9ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgb2JzZXJ2ZShvYmopO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG4gICAgVnVlLm9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgIFZ1ZS5vcHRpb25zW3R5cGUgKyAncyddID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIH0pO1xyXG4gICAgLy8gdGhpcyBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBcImJhc2VcIiBjb25zdHJ1Y3RvciB0byBleHRlbmQgYWxsIHBsYWluLW9iamVjdFxyXG4gICAgLy8gY29tcG9uZW50cyB3aXRoIGluIFdlZXgncyBtdWx0aS1pbnN0YW5jZSBzY2VuYXJpb3MuXHJcbiAgICBWdWUub3B0aW9ucy5fYmFzZSA9IFZ1ZTtcclxuICAgIGV4dGVuZChWdWUub3B0aW9ucy5jb21wb25lbnRzLCBidWlsdEluQ29tcG9uZW50cyk7XHJcbiAgICBpbml0VXNlKFZ1ZSk7XHJcbiAgICBpbml0TWl4aW4oVnVlKTtcclxuICAgIGluaXRFeHRlbmQoVnVlKTtcclxuICAgIGluaXRBc3NldFJlZ2lzdGVycyhWdWUpO1xyXG59XG5cbmluaXRHbG9iYWxBUEkoVnVlKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckaXNTZXJ2ZXInLCB7XHJcbiAgICBnZXQ6IGlzU2VydmVyUmVuZGVyaW5nXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRzc3JDb250ZXh0Jywge1xyXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICByZXR1cm4gdGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dDtcclxuICAgIH1cclxufSk7XHJcbi8vIGV4cG9zZSBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dCBmb3Igc3NyIHJ1bnRpbWUgaGVscGVyIGluc3RhbGxhdGlvblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAnRnVuY3Rpb25hbFJlbmRlckNvbnRleHQnLCB7XHJcbiAgICB2YWx1ZTogRnVuY3Rpb25hbFJlbmRlckNvbnRleHRcclxufSk7XHJcblZ1ZS52ZXJzaW9uID0gdmVyc2lvbjtcblxuLy8gdGhlc2UgYXJlIHJlc2VydmVkIGZvciB3ZWIgYmVjYXVzZSB0aGV5IGFyZSBkaXJlY3RseSBjb21waWxlZCBhd2F5XHJcbi8vIGR1cmluZyB0ZW1wbGF0ZSBjb21waWxhdGlvblxyXG52YXIgaXNSZXNlcnZlZEF0dHIgPSBtYWtlTWFwKCdzdHlsZSxjbGFzcycpO1xyXG4vLyBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHVzaW5nIHByb3BzIGZvciBiaW5kaW5nXHJcbnZhciBhY2NlcHRWYWx1ZSA9IG1ha2VNYXAoJ2lucHV0LHRleHRhcmVhLG9wdGlvbixzZWxlY3QscHJvZ3Jlc3MnKTtcclxudmFyIG11c3RVc2VQcm9wID0gZnVuY3Rpb24gKHRhZywgdHlwZSwgYXR0cikge1xyXG4gICAgcmV0dXJuICgoYXR0ciA9PT0gJ3ZhbHVlJyAmJiBhY2NlcHRWYWx1ZSh0YWcpICYmIHR5cGUgIT09ICdidXR0b24nKSB8fFxyXG4gICAgICAgIChhdHRyID09PSAnc2VsZWN0ZWQnICYmIHRhZyA9PT0gJ29wdGlvbicpIHx8XHJcbiAgICAgICAgKGF0dHIgPT09ICdjaGVja2VkJyAmJiB0YWcgPT09ICdpbnB1dCcpIHx8XHJcbiAgICAgICAgKGF0dHIgPT09ICdtdXRlZCcgJiYgdGFnID09PSAndmlkZW8nKSk7XHJcbn07XHJcbnZhciBpc0VudW1lcmF0ZWRBdHRyID0gbWFrZU1hcCgnY29udGVudGVkaXRhYmxlLGRyYWdnYWJsZSxzcGVsbGNoZWNrJyk7XHJcbnZhciBpc1ZhbGlkQ29udGVudEVkaXRhYmxlVmFsdWUgPSBtYWtlTWFwKCdldmVudHMsY2FyZXQsdHlwaW5nLHBsYWludGV4dC1vbmx5Jyk7XHJcbnZhciBjb252ZXJ0RW51bWVyYXRlZFZhbHVlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgIHJldHVybiBpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJ2ZhbHNlJ1xyXG4gICAgICAgID8gJ2ZhbHNlJ1xyXG4gICAgICAgIDogLy8gYWxsb3cgYXJiaXRyYXJ5IHN0cmluZyB2YWx1ZSBmb3IgY29udGVudGVkaXRhYmxlXHJcbiAgICAgICAgICAgIGtleSA9PT0gJ2NvbnRlbnRlZGl0YWJsZScgJiYgaXNWYWxpZENvbnRlbnRFZGl0YWJsZVZhbHVlKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgOiAndHJ1ZSc7XHJcbn07XHJcbnZhciBpc0Jvb2xlYW5BdHRyID0gbWFrZU1hcCgnYWxsb3dmdWxsc2NyZWVuLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjaGVja2VkLGNvbXBhY3QsY29udHJvbHMsZGVjbGFyZSwnICtcclxuICAgICdkZWZhdWx0LGRlZmF1bHRjaGVja2VkLGRlZmF1bHRtdXRlZCxkZWZhdWx0c2VsZWN0ZWQsZGVmZXIsZGlzYWJsZWQsJyArXHJcbiAgICAnZW5hYmxlZCxmb3Jtbm92YWxpZGF0ZSxoaWRkZW4saW5kZXRlcm1pbmF0ZSxpbmVydCxpc21hcCxpdGVtc2NvcGUsbG9vcCxtdWx0aXBsZSwnICtcclxuICAgICdtdXRlZCxub2hyZWYsbm9yZXNpemUsbm9zaGFkZSxub3ZhbGlkYXRlLG5vd3JhcCxvcGVuLHBhdXNlb25leGl0LHJlYWRvbmx5LCcgK1xyXG4gICAgJ3JlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzb3J0YWJsZSwnICtcclxuICAgICd0cnVlc3BlZWQsdHlwZW11c3RtYXRjaCx2aXNpYmxlJyk7XHJcbnZhciB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xyXG52YXIgaXNYbGluayA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICByZXR1cm4gbmFtZS5jaGFyQXQoNSkgPT09ICc6JyAmJiBuYW1lLnNsaWNlKDAsIDUpID09PSAneGxpbmsnO1xyXG59O1xyXG52YXIgZ2V0WGxpbmtQcm9wID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgIHJldHVybiBpc1hsaW5rKG5hbWUpID8gbmFtZS5zbGljZSg2LCBuYW1lLmxlbmd0aCkgOiAnJztcclxufTtcclxudmFyIGlzRmFsc3lBdHRyVmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICByZXR1cm4gdmFsID09IG51bGwgfHwgdmFsID09PSBmYWxzZTtcclxufTtcblxuZnVuY3Rpb24gZ2VuQ2xhc3NGb3JWbm9kZSh2bm9kZSkge1xyXG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xyXG4gICAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcclxuICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTtcclxuICAgIHdoaWxlIChpc0RlZihjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSB7XHJcbiAgICAgICAgY2hpbGROb2RlID0gY2hpbGROb2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTtcclxuICAgICAgICBpZiAoY2hpbGROb2RlICYmIGNoaWxkTm9kZS5kYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShjaGlsZE5vZGUuZGF0YSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwYXJlbnROb2RlLnBhcmVudCBub3QgVk5vZGVXaXRoRGF0YVxyXG4gICAgd2hpbGUgKGlzRGVmKChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSkge1xyXG4gICAgICAgIGlmIChwYXJlbnROb2RlICYmIHBhcmVudE5vZGUuZGF0YSkge1xyXG4gICAgICAgICAgICBkYXRhID0gbWVyZ2VDbGFzc0RhdGEoZGF0YSwgcGFyZW50Tm9kZS5kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVuZGVyQ2xhc3MoZGF0YS5zdGF0aWNDbGFzcywgZGF0YS5jbGFzcyk7XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VDbGFzc0RhdGEoY2hpbGQsIHBhcmVudCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzdGF0aWNDbGFzczogY29uY2F0KGNoaWxkLnN0YXRpY0NsYXNzLCBwYXJlbnQuc3RhdGljQ2xhc3MpLFxyXG4gICAgICAgIGNsYXNzOiBpc0RlZihjaGlsZC5jbGFzcykgPyBbY2hpbGQuY2xhc3MsIHBhcmVudC5jbGFzc10gOiBwYXJlbnQuY2xhc3NcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gcmVuZGVyQ2xhc3Moc3RhdGljQ2xhc3MsIGR5bmFtaWNDbGFzcykge1xyXG4gICAgaWYgKGlzRGVmKHN0YXRpY0NsYXNzKSB8fCBpc0RlZihkeW5hbWljQ2xhc3MpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbmNhdChzdGF0aWNDbGFzcywgc3RyaW5naWZ5Q2xhc3MoZHluYW1pY0NsYXNzKSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgcmV0dXJuICcnO1xyXG59XHJcbmZ1bmN0aW9uIGNvbmNhdChhLCBiKSB7XHJcbiAgICByZXR1cm4gYSA/IChiID8gYSArICcgJyArIGIgOiBhKSA6IGIgfHwgJyc7XHJcbn1cclxuZnVuY3Rpb24gc3RyaW5naWZ5Q2xhc3ModmFsdWUpIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBzdHJpbmdpZnlBcnJheSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeU9iamVjdCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuZnVuY3Rpb24gc3RyaW5naWZ5QXJyYXkodmFsdWUpIHtcclxuICAgIHZhciByZXMgPSAnJztcclxuICAgIHZhciBzdHJpbmdpZmllZDtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGlzRGVmKChzdHJpbmdpZmllZCA9IHN0cmluZ2lmeUNsYXNzKHZhbHVlW2ldKSkpICYmIHN0cmluZ2lmaWVkICE9PSAnJykge1xyXG4gICAgICAgICAgICBpZiAocmVzKVxyXG4gICAgICAgICAgICAgICAgcmVzICs9ICcgJztcclxuICAgICAgICAgICAgcmVzICs9IHN0cmluZ2lmaWVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gc3RyaW5naWZ5T2JqZWN0KHZhbHVlKSB7XHJcbiAgICB2YXIgcmVzID0gJyc7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWVba2V5XSkge1xyXG4gICAgICAgICAgICBpZiAocmVzKVxyXG4gICAgICAgICAgICAgICAgcmVzICs9ICcgJztcclxuICAgICAgICAgICAgcmVzICs9IGtleTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XG5cbnZhciBuYW1lc3BhY2VNYXAgPSB7XHJcbiAgICBzdmc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsXHJcbiAgICBtYXRoOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCdcclxufTtcclxudmFyIGlzSFRNTFRhZyA9IG1ha2VNYXAoJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLCcgK1xyXG4gICAgJ2FkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhncm91cCxuYXYsc2VjdGlvbiwnICtcclxuICAgICdkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCwnICtcclxuICAgICdhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnRjLHJ1YnksJyArXHJcbiAgICAncyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sJyArXHJcbiAgICAnZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsJyArXHJcbiAgICAnY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsJyArXHJcbiAgICAnYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbiwnICtcclxuICAgICdvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLCcgK1xyXG4gICAgJ2RldGFpbHMsZGlhbG9nLG1lbnUsbWVudWl0ZW0sc3VtbWFyeSwnICtcclxuICAgICdjb250ZW50LGVsZW1lbnQsc2hhZG93LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290Jyk7XHJcbi8vIHRoaXMgbWFwIGlzIGludGVudGlvbmFsbHkgc2VsZWN0aXZlLCBvbmx5IGNvdmVyaW5nIFNWRyBlbGVtZW50cyB0aGF0IG1heVxyXG4vLyBjb250YWluIGNoaWxkIGVsZW1lbnRzLlxyXG52YXIgaXNTVkcgPSBtYWtlTWFwKCdzdmcsYW5pbWF0ZSxjaXJjbGUsY2xpcHBhdGgsY3Vyc29yLGRlZnMsZGVzYyxlbGxpcHNlLGZpbHRlcixmb250LWZhY2UsJyArXHJcbiAgICAnZm9yZWlnbm9iamVjdCxnLGdseXBoLGltYWdlLGxpbmUsbWFya2VyLG1hc2ssbWlzc2luZy1nbHlwaCxwYXRoLHBhdHRlcm4sJyArXHJcbiAgICAncG9seWdvbixwb2x5bGluZSxyZWN0LHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0cGF0aCx0c3Bhbix1c2UsdmlldycsIHRydWUpO1xyXG52YXIgaXNQcmVUYWcgPSBmdW5jdGlvbiAodGFnKSB7IHJldHVybiB0YWcgPT09ICdwcmUnOyB9O1xyXG52YXIgaXNSZXNlcnZlZFRhZyA9IGZ1bmN0aW9uICh0YWcpIHtcclxuICAgIHJldHVybiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWRyh0YWcpO1xyXG59O1xyXG5mdW5jdGlvbiBnZXRUYWdOYW1lc3BhY2UodGFnKSB7XHJcbiAgICBpZiAoaXNTVkcodGFnKSkge1xyXG4gICAgICAgIHJldHVybiAnc3ZnJztcclxuICAgIH1cclxuICAgIC8vIGJhc2ljIHN1cHBvcnQgZm9yIE1hdGhNTFxyXG4gICAgLy8gbm90ZSBpdCBkb2Vzbid0IHN1cHBvcnQgb3RoZXIgTWF0aE1MIGVsZW1lbnRzIGJlaW5nIGNvbXBvbmVudCByb290c1xyXG4gICAgaWYgKHRhZyA9PT0gJ21hdGgnKSB7XHJcbiAgICAgICAgcmV0dXJuICdtYXRoJztcclxuICAgIH1cclxufVxyXG52YXIgdW5rbm93bkVsZW1lbnRDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmZ1bmN0aW9uIGlzVW5rbm93bkVsZW1lbnQodGFnKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICghaW5Ccm93c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNSZXNlcnZlZFRhZyh0YWcpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gIT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiB1bmtub3duRWxlbWVudENhY2hlW3RhZ107XHJcbiAgICB9XHJcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XHJcbiAgICBpZiAodGFnLmluZGV4T2YoJy0nKSA+IC0xKSB7XHJcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjgyMTAzNjQvMTA3MDI0NFxyXG4gICAgICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID1cclxuICAgICAgICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQgfHxcclxuICAgICAgICAgICAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gPSAvSFRNTFVua25vd25FbGVtZW50Ly50ZXN0KGVsLnRvU3RyaW5nKCkpKTtcclxuICAgIH1cclxufVxyXG52YXIgaXNUZXh0SW5wdXRUeXBlID0gbWFrZU1hcCgndGV4dCxudW1iZXIscGFzc3dvcmQsc2VhcmNoLGVtYWlsLHRlbCx1cmwnKTtcblxuLyoqXHJcbiAqIFF1ZXJ5IGFuIGVsZW1lbnQgc2VsZWN0b3IgaWYgaXQncyBub3QgYW4gZWxlbWVudCBhbHJlYWR5LlxyXG4gKi9cclxuZnVuY3Rpb24gcXVlcnkoZWwpIHtcclxuICAgIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCk7XHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4kMignQ2Fubm90IGZpbmQgZWxlbWVudDogJyArIGVsKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCB2bm9kZSkge1xyXG4gICAgdmFyIGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcbiAgICBpZiAodGFnTmFtZSAhPT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICByZXR1cm4gZWxtO1xyXG4gICAgfVxyXG4gICAgLy8gZmFsc2Ugb3IgbnVsbCB3aWxsIHJlbW92ZSB0aGUgYXR0cmlidXRlIGJ1dCB1bmRlZmluZWQgd2lsbCBub3RcclxuICAgIGlmICh2bm9kZS5kYXRhICYmXHJcbiAgICAgICAgdm5vZGUuZGF0YS5hdHRycyAmJlxyXG4gICAgICAgIHZub2RlLmRhdGEuYXR0cnMubXVsdGlwbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGVsbS5zZXRBdHRyaWJ1dGUoJ211bHRpcGxlJywgJ211bHRpcGxlJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWxtO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsIHRhZ05hbWUpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlTWFwW25hbWVzcGFjZV0sIHRhZ05hbWUpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKHRleHQpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDb21tZW50KHRleHQpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRleHQpO1xyXG59XHJcbmZ1bmN0aW9uIGluc2VydEJlZm9yZShwYXJlbnROb2RlLCBuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSB7XHJcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVDaGlsZChub2RlLCBjaGlsZCkge1xyXG4gICAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XHJcbn1cclxuZnVuY3Rpb24gYXBwZW5kQ2hpbGQobm9kZSwgY2hpbGQpIHtcclxuICAgIG5vZGUuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIHBhcmVudE5vZGUobm9kZSkge1xyXG4gICAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZTtcclxufVxyXG5mdW5jdGlvbiBuZXh0U2libGluZyhub2RlKSB7XHJcbiAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcclxufVxyXG5mdW5jdGlvbiB0YWdOYW1lKG5vZGUpIHtcclxuICAgIHJldHVybiBub2RlLnRhZ05hbWU7XHJcbn1cclxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQobm9kZSwgdGV4dCkge1xyXG4gICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbn1cclxuZnVuY3Rpb24gc2V0U3R5bGVTY29wZShub2RlLCBzY29wZUlkKSB7XHJcbiAgICBub2RlLnNldEF0dHJpYnV0ZShzY29wZUlkLCAnJyk7XHJcbn1cblxudmFyIG5vZGVPcHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCxcbiAgY3JlYXRlRWxlbWVudE5TOiBjcmVhdGVFbGVtZW50TlMsXG4gIGNyZWF0ZVRleHROb2RlOiBjcmVhdGVUZXh0Tm9kZSxcbiAgY3JlYXRlQ29tbWVudDogY3JlYXRlQ29tbWVudCxcbiAgaW5zZXJ0QmVmb3JlOiBpbnNlcnRCZWZvcmUsXG4gIHJlbW92ZUNoaWxkOiByZW1vdmVDaGlsZCxcbiAgYXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkLFxuICBwYXJlbnROb2RlOiBwYXJlbnROb2RlLFxuICBuZXh0U2libGluZzogbmV4dFNpYmxpbmcsXG4gIHRhZ05hbWU6IHRhZ05hbWUsXG4gIHNldFRleHRDb250ZW50OiBzZXRUZXh0Q29udGVudCxcbiAgc2V0U3R5bGVTY29wZTogc2V0U3R5bGVTY29wZVxufSk7XG5cbnZhciByZWYgPSB7XHJcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIChfLCB2bm9kZSkge1xyXG4gICAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIChvbGRWbm9kZSwgdm5vZGUpIHtcclxuICAgICAgICBpZiAob2xkVm5vZGUuZGF0YS5yZWYgIT09IHZub2RlLmRhdGEucmVmKSB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyUmVmKG9sZFZub2RlLCB0cnVlKTtcclxuICAgICAgICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAodm5vZGUpIHtcclxuICAgICAgICByZWdpc3RlclJlZih2bm9kZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHJlZ2lzdGVyUmVmKHZub2RlLCBpc1JlbW92YWwpIHtcclxuICAgIHZhciByZWYgPSB2bm9kZS5kYXRhLnJlZjtcclxuICAgIGlmICghaXNEZWYocmVmKSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICB2YXIgdm0gPSB2bm9kZS5jb250ZXh0O1xyXG4gICAgdmFyIHJlZlZhbHVlID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgfHwgdm5vZGUuZWxtO1xyXG4gICAgdmFyIHZhbHVlID0gaXNSZW1vdmFsID8gbnVsbCA6IHJlZlZhbHVlO1xyXG4gICAgdmFyICRyZWZzVmFsdWUgPSBpc1JlbW92YWwgPyB1bmRlZmluZWQgOiByZWZWYWx1ZTtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHJlZikpIHtcclxuICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhyZWYsIHZtLCBbdmFsdWVdLCB2bSwgXCJ0ZW1wbGF0ZSByZWYgZnVuY3Rpb25cIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGlzRm9yID0gdm5vZGUuZGF0YS5yZWZJbkZvcjtcclxuICAgIHZhciBfaXNTdHJpbmcgPSB0eXBlb2YgcmVmID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVmID09PSAnbnVtYmVyJztcclxuICAgIHZhciBfaXNSZWYgPSBpc1JlZihyZWYpO1xyXG4gICAgdmFyIHJlZnMgPSB2bS4kcmVmcztcclxuICAgIGlmIChfaXNTdHJpbmcgfHwgX2lzUmVmKSB7XHJcbiAgICAgICAgaWYgKGlzRm9yKSB7XHJcbiAgICAgICAgICAgIHZhciBleGlzdGluZyA9IF9pc1N0cmluZyA/IHJlZnNbcmVmXSA6IHJlZi52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZhbCkge1xyXG4gICAgICAgICAgICAgICAgaXNBcnJheShleGlzdGluZykgJiYgcmVtb3ZlJDIoZXhpc3RpbmcsIHJlZlZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzU3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNldHVwUmVmKHZtLCByZWYsIHJlZnNbcmVmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWYudmFsdWUgPSBbcmVmVmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFleGlzdGluZy5pbmNsdWRlcyhyZWZWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5wdXNoKHJlZlZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfaXNTdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZhbCAmJiByZWZzW3JlZl0gIT09IHJlZlZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVmc1tyZWZdID0gJHJlZnNWYWx1ZTtcclxuICAgICAgICAgICAgc2V0U2V0dXBSZWYodm0sIHJlZiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfaXNSZWYpIHtcclxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZhbCAmJiByZWYudmFsdWUgIT09IHJlZlZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgd2FybiQyKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTogXCIuY29uY2F0KHR5cGVvZiByZWYpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0U2V0dXBSZWYoX2EsIGtleSwgdmFsKSB7XHJcbiAgICB2YXIgX3NldHVwU3RhdGUgPSBfYS5fc2V0dXBTdGF0ZTtcclxuICAgIGlmIChfc2V0dXBTdGF0ZSAmJiBoYXNPd24oX3NldHVwU3RhdGUsIGtleSkpIHtcclxuICAgICAgICBpZiAoaXNSZWYoX3NldHVwU3RhdGVba2V5XSkpIHtcclxuICAgICAgICAgICAgX3NldHVwU3RhdGVba2V5XS52YWx1ZSA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9zZXR1cFN0YXRlW2tleV0gPSB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBWaXJ0dWFsIERPTSBwYXRjaGluZyBhbGdvcml0aG0gYmFzZWQgb24gU25hYmJkb20gYnlcclxuICogU2ltb24gRnJpaXMgVmluZHVtIChAcGFsZGVwaW5kKVxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3BhbGRlcGluZC9zbmFiYmRvbS9ibG9iL21hc3Rlci9MSUNFTlNFXHJcbiAqXHJcbiAqIG1vZGlmaWVkIGJ5IEV2YW4gWW91IChAeXl4OTkwODAzKVxyXG4gKlxyXG4gKiBOb3QgdHlwZS1jaGVja2luZyB0aGlzIGJlY2F1c2UgdGhpcyBmaWxlIGlzIHBlcmYtY3JpdGljYWwgYW5kIHRoZSBjb3N0XHJcbiAqIG9mIG1ha2luZyBmbG93IHVuZGVyc3RhbmQgaXQgaXMgbm90IHdvcnRoIGl0LlxyXG4gKi9cclxudmFyIGVtcHR5Tm9kZSA9IG5ldyBWTm9kZSgnJywge30sIFtdKTtcclxudmFyIGhvb2tzID0gWydjcmVhdGUnLCAnYWN0aXZhdGUnLCAndXBkYXRlJywgJ3JlbW92ZScsICdkZXN0cm95J107XHJcbmZ1bmN0aW9uIHNhbWVWbm9kZShhLCBiKSB7XHJcbiAgICByZXR1cm4gKGEua2V5ID09PSBiLmtleSAmJlxyXG4gICAgICAgIGEuYXN5bmNGYWN0b3J5ID09PSBiLmFzeW5jRmFjdG9yeSAmJlxyXG4gICAgICAgICgoYS50YWcgPT09IGIudGFnICYmXHJcbiAgICAgICAgICAgIGEuaXNDb21tZW50ID09PSBiLmlzQ29tbWVudCAmJlxyXG4gICAgICAgICAgICBpc0RlZihhLmRhdGEpID09PSBpc0RlZihiLmRhdGEpICYmXHJcbiAgICAgICAgICAgIHNhbWVJbnB1dFR5cGUoYSwgYikpIHx8XHJcbiAgICAgICAgICAgIChpc1RydWUoYS5pc0FzeW5jUGxhY2Vob2xkZXIpICYmIGlzVW5kZWYoYi5hc3luY0ZhY3RvcnkuZXJyb3IpKSkpO1xyXG59XHJcbmZ1bmN0aW9uIHNhbWVJbnB1dFR5cGUoYSwgYikge1xyXG4gICAgaWYgKGEudGFnICE9PSAnaW5wdXQnKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgdHlwZUEgPSBpc0RlZigoaSA9IGEuZGF0YSkpICYmIGlzRGVmKChpID0gaS5hdHRycykpICYmIGkudHlwZTtcclxuICAgIHZhciB0eXBlQiA9IGlzRGVmKChpID0gYi5kYXRhKSkgJiYgaXNEZWYoKGkgPSBpLmF0dHJzKSkgJiYgaS50eXBlO1xyXG4gICAgcmV0dXJuIHR5cGVBID09PSB0eXBlQiB8fCAoaXNUZXh0SW5wdXRUeXBlKHR5cGVBKSAmJiBpc1RleHRJbnB1dFR5cGUodHlwZUIpKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeChjaGlsZHJlbiwgYmVnaW5JZHgsIGVuZElkeCkge1xyXG4gICAgdmFyIGksIGtleTtcclxuICAgIHZhciBtYXAgPSB7fTtcclxuICAgIGZvciAoaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XHJcbiAgICAgICAga2V5ID0gY2hpbGRyZW5baV0ua2V5O1xyXG4gICAgICAgIGlmIChpc0RlZihrZXkpKVxyXG4gICAgICAgICAgICBtYXBba2V5XSA9IGk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVBhdGNoRnVuY3Rpb24oYmFja2VuZCkge1xyXG4gICAgdmFyIGksIGo7XHJcbiAgICB2YXIgY2JzID0ge307XHJcbiAgICB2YXIgbW9kdWxlcyA9IGJhY2tlbmQubW9kdWxlcywgbm9kZU9wcyA9IGJhY2tlbmQubm9kZU9wcztcclxuICAgIGZvciAoaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGNic1tob29rc1tpXV0gPSBbXTtcclxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgbW9kdWxlcy5sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYobW9kdWxlc1tqXVtob29rc1tpXV0pKSB7XHJcbiAgICAgICAgICAgICAgICBjYnNbaG9va3NbaV1dLnB1c2gobW9kdWxlc1tqXVtob29rc1tpXV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZW1wdHlOb2RlQXQoZWxtKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWTm9kZShub2RlT3BzLnRhZ05hbWUoZWxtKS50b0xvd2VyQ2FzZSgpLCB7fSwgW10sIHVuZGVmaW5lZCwgZWxtKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJtQ2IoY2hpbGRFbG0sIGxpc3RlbmVycykge1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgICAgICAgaWYgKC0tcmVtb3ZlLmxpc3RlbmVycyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShjaGlsZEVsbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVtb3ZlLmxpc3RlbmVycyA9IGxpc3RlbmVycztcclxuICAgICAgICByZXR1cm4gcmVtb3ZlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShlbCkge1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWwpO1xyXG4gICAgICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZHVlIHRvIHYtaHRtbCAvIHYtdGV4dFxyXG4gICAgICAgIGlmIChpc0RlZihwYXJlbnQpKSB7XHJcbiAgICAgICAgICAgIG5vZGVPcHMucmVtb3ZlQ2hpbGQocGFyZW50LCBlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNVbmtub3duRWxlbWVudCh2bm9kZSwgaW5WUHJlKSB7XHJcbiAgICAgICAgcmV0dXJuICghaW5WUHJlICYmXHJcbiAgICAgICAgICAgICF2bm9kZS5ucyAmJlxyXG4gICAgICAgICAgICAhKGNvbmZpZy5pZ25vcmVkRWxlbWVudHMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICBjb25maWcuaWdub3JlZEVsZW1lbnRzLnNvbWUoZnVuY3Rpb24gKGlnbm9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1JlZ0V4cChpZ25vcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaWdub3JlLnRlc3Qodm5vZGUudGFnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlnbm9yZSA9PT0gdm5vZGUudGFnO1xyXG4gICAgICAgICAgICAgICAgfSkpICYmXHJcbiAgICAgICAgICAgIGNvbmZpZy5pc1Vua25vd25FbGVtZW50KHZub2RlLnRhZykpO1xyXG4gICAgfVxyXG4gICAgdmFyIGNyZWF0aW5nRWxtSW5WUHJlID0gMDtcclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSwgbmVzdGVkLCBvd25lckFycmF5LCBpbmRleCkge1xyXG4gICAgICAgIGlmIChpc0RlZih2bm9kZS5lbG0pICYmIGlzRGVmKG93bmVyQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgdm5vZGUgd2FzIHVzZWQgaW4gYSBwcmV2aW91cyByZW5kZXIhXHJcbiAgICAgICAgICAgIC8vIG5vdyBpdCdzIHVzZWQgYXMgYSBuZXcgbm9kZSwgb3ZlcndyaXRpbmcgaXRzIGVsbSB3b3VsZCBjYXVzZVxyXG4gICAgICAgICAgICAvLyBwb3RlbnRpYWwgcGF0Y2ggZXJyb3JzIGRvd24gdGhlIHJvYWQgd2hlbiBpdCdzIHVzZWQgYXMgYW4gaW5zZXJ0aW9uXHJcbiAgICAgICAgICAgIC8vIHJlZmVyZW5jZSBub2RlLiBJbnN0ZWFkLCB3ZSBjbG9uZSB0aGUgbm9kZSBvbi1kZW1hbmQgYmVmb3JlIGNyZWF0aW5nXHJcbiAgICAgICAgICAgIC8vIGFzc29jaWF0ZWQgRE9NIGVsZW1lbnQgZm9yIGl0LlxyXG4gICAgICAgICAgICB2bm9kZSA9IG93bmVyQXJyYXlbaW5kZXhdID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZub2RlLmlzUm9vdEluc2VydCA9ICFuZXN0ZWQ7IC8vIGZvciB0cmFuc2l0aW9uIGVudGVyIGNoZWNrXHJcbiAgICAgICAgaWYgKGNyZWF0ZUNvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHRhZyA9IHZub2RlLnRhZztcclxuICAgICAgICBpZiAoaXNEZWYodGFnKSkge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGluZ0VsbUluVlByZSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzVW5rbm93bkVsZW1lbnQodm5vZGUsIGNyZWF0aW5nRWxtSW5WUHJlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMignVW5rbm93biBjdXN0b20gZWxlbWVudDogPCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPiAtIGRpZCB5b3UgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdyZWdpc3RlciB0aGUgY29tcG9uZW50IGNvcnJlY3RseT8gRm9yIHJlY3Vyc2l2ZSBjb21wb25lbnRzLCAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ21ha2Ugc3VyZSB0byBwcm92aWRlIHRoZSBcIm5hbWVcIiBvcHRpb24uJywgdm5vZGUuY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdm5vZGUuZWxtID0gdm5vZGUubnNcclxuICAgICAgICAgICAgICAgID8gbm9kZU9wcy5jcmVhdGVFbGVtZW50TlModm5vZGUubnMsIHRhZylcclxuICAgICAgICAgICAgICAgIDogbm9kZU9wcy5jcmVhdGVFbGVtZW50KHRhZywgdm5vZGUpO1xyXG4gICAgICAgICAgICBzZXRTY29wZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIGNyZWF0ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbiwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGRhdGEgJiYgZGF0YS5wcmUpIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0aW5nRWxtSW5WUHJlLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNUcnVlKHZub2RlLmlzQ29tbWVudCkpIHtcclxuICAgICAgICAgICAgdm5vZGUuZWxtID0gbm9kZU9wcy5jcmVhdGVDb21tZW50KHZub2RlLnRleHQpO1xyXG4gICAgICAgICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZVRleHROb2RlKHZub2RlLnRleHQpO1xyXG4gICAgICAgICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKSB7XHJcbiAgICAgICAgdmFyIGkgPSB2bm9kZS5kYXRhO1xyXG4gICAgICAgIGlmIChpc0RlZihpKSkge1xyXG4gICAgICAgICAgICB2YXIgaXNSZWFjdGl2YXRlZCA9IGlzRGVmKHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSAmJiBpLmtlZXBBbGl2ZTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpID0gaS5ob29rKSkgJiYgaXNEZWYoKGkgPSBpLmluaXQpKSkge1xyXG4gICAgICAgICAgICAgICAgaSh2bm9kZSwgZmFsc2UgLyogaHlkcmF0aW5nICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhZnRlciBjYWxsaW5nIHRoZSBpbml0IGhvb2ssIGlmIHRoZSB2bm9kZSBpcyBhIGNoaWxkIGNvbXBvbmVudFxyXG4gICAgICAgICAgICAvLyBpdCBzaG91bGQndmUgY3JlYXRlZCBhIGNoaWxkIGluc3RhbmNlIGFuZCBtb3VudGVkIGl0LiB0aGUgY2hpbGRcclxuICAgICAgICAgICAgLy8gY29tcG9uZW50IGFsc28gaGFzIHNldCB0aGUgcGxhY2Vob2xkZXIgdm5vZGUncyBlbG0uXHJcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSB3ZSBjYW4ganVzdCByZXR1cm4gdGhlIGVsZW1lbnQgYW5kIGJlIGRvbmUuXHJcbiAgICAgICAgICAgIGlmIChpc0RlZih2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkpIHtcclxuICAgICAgICAgICAgICAgIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNUcnVlKGlzUmVhY3RpdmF0ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RpdmF0ZUNvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xyXG4gICAgICAgIGlmIChpc0RlZih2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQpKSB7XHJcbiAgICAgICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoLmFwcGx5KGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KTtcclxuICAgICAgICAgICAgdm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdm5vZGUuZWxtID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuJGVsO1xyXG4gICAgICAgIGlmIChpc1BhdGNoYWJsZSh2bm9kZSkpIHtcclxuICAgICAgICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XHJcbiAgICAgICAgICAgIHNldFNjb3BlKHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGVtcHR5IGNvbXBvbmVudCByb290LlxyXG4gICAgICAgICAgICAvLyBza2lwIGFsbCBlbGVtZW50LXJlbGF0ZWQgbW9kdWxlcyBleGNlcHQgZm9yIHJlZiAoIzM0NTUpXHJcbiAgICAgICAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcclxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRvIGludm9rZSB0aGUgaW5zZXJ0IGhvb2tcclxuICAgICAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlYWN0aXZhdGVDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pIHtcclxuICAgICAgICB2YXIgaTtcclxuICAgICAgICAvLyBoYWNrIGZvciAjNDMzOTogYSByZWFjdGl2YXRlZCBjb21wb25lbnQgd2l0aCBpbm5lciB0cmFuc2l0aW9uXHJcbiAgICAgICAgLy8gZG9lcyBub3QgdHJpZ2dlciBiZWNhdXNlIHRoZSBpbm5lciBub2RlJ3MgY3JlYXRlZCBob29rcyBhcmUgbm90IGNhbGxlZFxyXG4gICAgICAgIC8vIGFnYWluLiBJdCdzIG5vdCBpZGVhbCB0byBpbnZvbHZlIG1vZHVsZS1zcGVjaWZpYyBsb2dpYyBpbiBoZXJlIGJ1dFxyXG4gICAgICAgIC8vIHRoZXJlIGRvZXNuJ3Qgc2VlbSB0byBiZSBhIGJldHRlciB3YXkgdG8gZG8gaXQuXHJcbiAgICAgICAgdmFyIGlubmVyTm9kZSA9IHZub2RlO1xyXG4gICAgICAgIHdoaWxlIChpbm5lck5vZGUuY29tcG9uZW50SW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaW5uZXJOb2RlID0gaW5uZXJOb2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpID0gaW5uZXJOb2RlLmRhdGEpKSAmJiBpc0RlZigoaSA9IGkudHJhbnNpdGlvbikpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmFjdGl2YXRlLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2JzLmFjdGl2YXRlW2ldKGVtcHR5Tm9kZSwgaW5uZXJOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKGlubmVyTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB1bmxpa2UgYSBuZXdseSBjcmVhdGVkIGNvbXBvbmVudCxcclxuICAgICAgICAvLyBhIHJlYWN0aXZhdGVkIGtlZXAtYWxpdmUgY29tcG9uZW50IGRvZXNuJ3QgaW5zZXJ0IGl0c2VsZlxyXG4gICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGluc2VydChwYXJlbnQsIGVsbSwgcmVmKSB7XHJcbiAgICAgICAgaWYgKGlzRGVmKHBhcmVudCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKHJlZikpIHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlT3BzLnBhcmVudE5vZGUocmVmKSA9PT0gcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50LCBlbG0sIHJlZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHBhcmVudCwgZWxtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbiwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZUtleXMoY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpXzEpIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUVsbShjaGlsZHJlbltpXzFdLCBpbnNlcnRlZFZub2RlUXVldWUsIHZub2RlLmVsbSwgbnVsbCwgdHJ1ZSwgY2hpbGRyZW4sIGlfMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNQcmltaXRpdmUodm5vZGUudGV4dCkpIHtcclxuICAgICAgICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZCh2bm9kZS5lbG0sIG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKHZub2RlLnRleHQpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNQYXRjaGFibGUodm5vZGUpIHtcclxuICAgICAgICB3aGlsZSAodm5vZGUuY29tcG9uZW50SW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc0RlZih2bm9kZS50YWcpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xyXG4gICAgICAgIGZvciAodmFyIGlfMiA9IDA7IGlfMiA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2lfMikge1xyXG4gICAgICAgICAgICBjYnMuY3JlYXRlW2lfMl0oZW1wdHlOb2RlLCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGkgPSB2bm9kZS5kYXRhLmhvb2s7IC8vIFJldXNlIHZhcmlhYmxlXHJcbiAgICAgICAgaWYgKGlzRGVmKGkpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RlZihpLmNyZWF0ZSkpXHJcbiAgICAgICAgICAgICAgICBpLmNyZWF0ZShlbXB0eU5vZGUsIHZub2RlKTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGkuaW5zZXJ0KSlcclxuICAgICAgICAgICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzZXQgc2NvcGUgaWQgYXR0cmlidXRlIGZvciBzY29wZWQgQ1NTLlxyXG4gICAgLy8gdGhpcyBpcyBpbXBsZW1lbnRlZCBhcyBhIHNwZWNpYWwgY2FzZSB0byBhdm9pZCB0aGUgb3ZlcmhlYWRcclxuICAgIC8vIG9mIGdvaW5nIHRocm91Z2ggdGhlIG5vcm1hbCBhdHRyaWJ1dGUgcGF0Y2hpbmcgcHJvY2Vzcy5cclxuICAgIGZ1bmN0aW9uIHNldFNjb3BlKHZub2RlKSB7XHJcbiAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgaWYgKGlzRGVmKChpID0gdm5vZGUuZm5TY29wZUlkKSkpIHtcclxuICAgICAgICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZTtcclxuICAgICAgICAgICAgd2hpbGUgKGFuY2VzdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYoKGkgPSBhbmNlc3Rvci5jb250ZXh0KSkgJiYgaXNEZWYoKGkgPSBpLiRvcHRpb25zLl9zY29wZUlkKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlT3BzLnNldFN0eWxlU2NvcGUodm5vZGUuZWxtLCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciBzbG90IGNvbnRlbnQgdGhleSBzaG91bGQgYWxzbyBnZXQgdGhlIHNjb3BlSWQgZnJvbSB0aGUgaG9zdCBpbnN0YW5jZS5cclxuICAgICAgICBpZiAoaXNEZWYoKGkgPSBhY3RpdmVJbnN0YW5jZSkpICYmXHJcbiAgICAgICAgICAgIGkgIT09IHZub2RlLmNvbnRleHQgJiZcclxuICAgICAgICAgICAgaSAhPT0gdm5vZGUuZm5Db250ZXh0ICYmXHJcbiAgICAgICAgICAgIGlzRGVmKChpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpKSB7XHJcbiAgICAgICAgICAgIG5vZGVPcHMuc2V0U3R5bGVTY29wZSh2bm9kZS5lbG0sIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFkZFZub2RlcyhwYXJlbnRFbG0sIHJlZkVsbSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpIHtcclxuICAgICAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZUVsbSh2bm9kZXNbc3RhcnRJZHhdLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtLCBmYWxzZSwgdm5vZGVzLCBzdGFydElkeCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW52b2tlRGVzdHJveUhvb2sodm5vZGUpIHtcclxuICAgICAgICB2YXIgaSwgajtcclxuICAgICAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XHJcbiAgICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RlZigoaSA9IGRhdGEuaG9vaykpICYmIGlzRGVmKChpID0gaS5kZXN0cm95KSkpXHJcbiAgICAgICAgICAgICAgICBpKHZub2RlKTtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5kZXN0cm95Lmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICAgICAgY2JzLmRlc3Ryb3lbaV0odm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNEZWYoKGkgPSB2bm9kZS5jaGlsZHJlbikpKSB7XHJcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sodm5vZGUuY2hpbGRyZW5bal0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlVm5vZGVzKHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkge1xyXG4gICAgICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcclxuICAgICAgICAgICAgdmFyIGNoID0gdm5vZGVzW3N0YXJ0SWR4XTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGNoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKGNoLnRhZykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rKGNoKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhjaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUZXh0IG5vZGVcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGNoLmVsbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rKHZub2RlLCBybSkge1xyXG4gICAgICAgIGlmIChpc0RlZihybSkgfHwgaXNEZWYodm5vZGUuZGF0YSkpIHtcclxuICAgICAgICAgICAgdmFyIGlfMztcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IGNicy5yZW1vdmUubGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKHJtKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHJlY3Vyc2l2ZWx5IHBhc3NlZCBkb3duIHJtIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAvLyBpbmNyZWFzZSB0aGUgbGlzdGVuZXJzIGNvdW50XHJcbiAgICAgICAgICAgICAgICBybS5saXN0ZW5lcnMgKz0gbGlzdGVuZXJzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gZGlyZWN0bHkgcmVtb3ZpbmdcclxuICAgICAgICAgICAgICAgIHJtID0gY3JlYXRlUm1DYih2bm9kZS5lbG0sIGxpc3RlbmVycyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgaW52b2tlIGhvb2tzIG9uIGNoaWxkIGNvbXBvbmVudCByb290IG5vZGVcclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpXzMgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkpICYmXHJcbiAgICAgICAgICAgICAgICBpc0RlZigoaV8zID0gaV8zLl92bm9kZSkpICYmXHJcbiAgICAgICAgICAgICAgICBpc0RlZihpXzMuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soaV8zLCBybSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChpXzMgPSAwOyBpXzMgPCBjYnMucmVtb3ZlLmxlbmd0aDsgKytpXzMpIHtcclxuICAgICAgICAgICAgICAgIGNicy5yZW1vdmVbaV8zXSh2bm9kZSwgcm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0RlZigoaV8zID0gdm5vZGUuZGF0YS5ob29rKSkgJiYgaXNEZWYoKGlfMyA9IGlfMy5yZW1vdmUpKSkge1xyXG4gICAgICAgICAgICAgICAgaV8zKHZub2RlLCBybSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBybSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHZub2RlLmVsbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2hpbGRyZW4ocGFyZW50RWxtLCBvbGRDaCwgbmV3Q2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xyXG4gICAgICAgIHZhciBvbGRTdGFydElkeCA9IDA7XHJcbiAgICAgICAgdmFyIG5ld1N0YXJ0SWR4ID0gMDtcclxuICAgICAgICB2YXIgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcclxuICAgICAgICB2YXIgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xyXG4gICAgICAgIHZhciBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XHJcbiAgICAgICAgdmFyIG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgdmFyIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcclxuICAgICAgICB2YXIgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xyXG4gICAgICAgIHZhciBvbGRLZXlUb0lkeCwgaWR4SW5PbGQsIHZub2RlVG9Nb3ZlLCByZWZFbG07XHJcbiAgICAgICAgLy8gcmVtb3ZlT25seSBpcyBhIHNwZWNpYWwgZmxhZyB1c2VkIG9ubHkgYnkgPHRyYW5zaXRpb24tZ3JvdXA+XHJcbiAgICAgICAgLy8gdG8gZW5zdXJlIHJlbW92ZWQgZWxlbWVudHMgc3RheSBpbiBjb3JyZWN0IHJlbGF0aXZlIHBvc2l0aW9uc1xyXG4gICAgICAgIC8vIGR1cmluZyBsZWF2aW5nIHRyYW5zaXRpb25zXHJcbiAgICAgICAgdmFyIGNhbk1vdmUgPSAhcmVtb3ZlT25seTtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBjaGVja0R1cGxpY2F0ZUtleXMobmV3Q2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4ICYmIG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xyXG4gICAgICAgICAgICBpZiAoaXNVbmRlZihvbGRTdGFydFZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdOyAvLyBWbm9kZSBoYXMgYmVlbiBtb3ZlZCBsZWZ0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNVbmRlZihvbGRFbmRWbm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdTdGFydElkeCk7XHJcbiAgICAgICAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XHJcbiAgICAgICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdFbmRJZHgpO1xyXG4gICAgICAgICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XHJcbiAgICAgICAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBWbm9kZSBtb3ZlZCByaWdodFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3RW5kSWR4KTtcclxuICAgICAgICAgICAgICAgIGNhbk1vdmUgJiZcclxuICAgICAgICAgICAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBub2RlT3BzLm5leHRTaWJsaW5nKG9sZEVuZFZub2RlLmVsbSkpO1xyXG4gICAgICAgICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xyXG4gICAgICAgICAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVm5vZGUgbW92ZWQgbGVmdFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xyXG4gICAgICAgICAgICAgICAgY2FuTW92ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkRW5kVm5vZGUuZWxtLCBvbGRTdGFydFZub2RlLmVsbSk7XHJcbiAgICAgICAgICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcclxuICAgICAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1VuZGVmKG9sZEtleVRvSWR4KSlcclxuICAgICAgICAgICAgICAgICAgICBvbGRLZXlUb0lkeCA9IGNyZWF0ZUtleVRvT2xkSWR4KG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcclxuICAgICAgICAgICAgICAgIGlkeEluT2xkID0gaXNEZWYobmV3U3RhcnRWbm9kZS5rZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBvbGRLZXlUb0lkeFtuZXdTdGFydFZub2RlLmtleV1cclxuICAgICAgICAgICAgICAgICAgICA6IGZpbmRJZHhJbk9sZChuZXdTdGFydFZub2RlLCBvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZihpZHhJbk9sZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBOZXcgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIGZhbHNlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVUb01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhbWVWbm9kZSh2bm9kZVRvTW92ZSwgbmV3U3RhcnRWbm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hWbm9kZSh2bm9kZVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbk1vdmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgdm5vZGVUb01vdmUuZWxtLCBvbGRTdGFydFZub2RlLmVsbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzYW1lIGtleSBidXQgZGlmZmVyZW50IGVsZW1lbnQuIHRyZWF0IGFzIG5ldyBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIGZhbHNlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2xkU3RhcnRJZHggPiBvbGRFbmRJZHgpIHtcclxuICAgICAgICAgICAgcmVmRWxtID0gaXNVbmRlZihuZXdDaFtuZXdFbmRJZHggKyAxXSkgPyBudWxsIDogbmV3Q2hbbmV3RW5kSWR4ICsgMV0uZWxtO1xyXG4gICAgICAgICAgICBhZGRWbm9kZXMocGFyZW50RWxtLCByZWZFbG0sIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuZXdTdGFydElkeCA+IG5ld0VuZElkeCkge1xyXG4gICAgICAgICAgICByZW1vdmVWbm9kZXMob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoZWNrRHVwbGljYXRlS2V5cyhjaGlsZHJlbikge1xyXG4gICAgICAgIHZhciBzZWVuS2V5cyA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIGlfNCA9IDA7IGlfNCA8IGNoaWxkcmVuLmxlbmd0aDsgaV80KyspIHtcclxuICAgICAgICAgICAgdmFyIHZub2RlID0gY2hpbGRyZW5baV80XTtcclxuICAgICAgICAgICAgdmFyIGtleSA9IHZub2RlLmtleTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWVuS2V5c1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybiQyKFwiRHVwbGljYXRlIGtleXMgZGV0ZWN0ZWQ6ICdcIi5jb25jYXQoa2V5LCBcIicuIFRoaXMgbWF5IGNhdXNlIGFuIHVwZGF0ZSBlcnJvci5cIiksIHZub2RlLmNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VlbktleXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBmaW5kSWR4SW5PbGQobm9kZSwgb2xkQ2gsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBmb3IgKHZhciBpXzUgPSBzdGFydDsgaV81IDwgZW5kOyBpXzUrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IG9sZENoW2lfNV07XHJcbiAgICAgICAgICAgIGlmIChpc0RlZihjKSAmJiBzYW1lVm5vZGUobm9kZSwgYykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaV81O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhdGNoVm5vZGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG93bmVyQXJyYXksIGluZGV4LCByZW1vdmVPbmx5KSB7XHJcbiAgICAgICAgaWYgKG9sZFZub2RlID09PSB2bm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0RlZih2bm9kZS5lbG0pICYmIGlzRGVmKG93bmVyQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIC8vIGNsb25lIHJldXNlZCB2bm9kZVxyXG4gICAgICAgICAgICB2bm9kZSA9IG93bmVyQXJyYXlbaW5kZXhdID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlbG0gPSAodm5vZGUuZWxtID0gb2xkVm5vZGUuZWxtKTtcclxuICAgICAgICBpZiAoaXNUcnVlKG9sZFZub2RlLmlzQXN5bmNQbGFjZWhvbGRlcikpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKHZub2RlLmFzeW5jRmFjdG9yeS5yZXNvbHZlZCkpIHtcclxuICAgICAgICAgICAgICAgIGh5ZHJhdGUob2xkVm5vZGUuZWxtLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmlzQXN5bmNQbGFjZWhvbGRlciA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXVzZSBlbGVtZW50IGZvciBzdGF0aWMgdHJlZXMuXHJcbiAgICAgICAgLy8gbm90ZSB3ZSBvbmx5IGRvIHRoaXMgaWYgdGhlIHZub2RlIGlzIGNsb25lZCAtXHJcbiAgICAgICAgLy8gaWYgdGhlIG5ldyBub2RlIGlzIG5vdCBjbG9uZWQgaXQgbWVhbnMgdGhlIHJlbmRlciBmdW5jdGlvbnMgaGF2ZSBiZWVuXHJcbiAgICAgICAgLy8gcmVzZXQgYnkgdGhlIGhvdC1yZWxvYWQtYXBpIGFuZCB3ZSBuZWVkIHRvIGRvIGEgcHJvcGVyIHJlLXJlbmRlci5cclxuICAgICAgICBpZiAoaXNUcnVlKHZub2RlLmlzU3RhdGljKSAmJlxyXG4gICAgICAgICAgICBpc1RydWUob2xkVm5vZGUuaXNTdGF0aWMpICYmXHJcbiAgICAgICAgICAgIHZub2RlLmtleSA9PT0gb2xkVm5vZGUua2V5ICYmXHJcbiAgICAgICAgICAgIChpc1RydWUodm5vZGUuaXNDbG9uZWQpIHx8IGlzVHJ1ZSh2bm9kZS5pc09uY2UpKSkge1xyXG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IG9sZFZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcclxuICAgICAgICBpZiAoaXNEZWYoZGF0YSkgJiYgaXNEZWYoKGkgPSBkYXRhLmhvb2spKSAmJiBpc0RlZigoaSA9IGkucHJlcGF0Y2gpKSkge1xyXG4gICAgICAgICAgICBpKG9sZFZub2RlLCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvbGRDaCA9IG9sZFZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBjaCA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGlmIChpc0RlZihkYXRhKSAmJiBpc1BhdGNoYWJsZSh2bm9kZSkpIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNicy51cGRhdGUubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgICAgICBjYnMudXBkYXRlW2ldKG9sZFZub2RlLCB2bm9kZSk7XHJcbiAgICAgICAgICAgIGlmIChpc0RlZigoaSA9IGRhdGEuaG9vaykpICYmIGlzRGVmKChpID0gaS51cGRhdGUpKSlcclxuICAgICAgICAgICAgICAgIGkob2xkVm5vZGUsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzVW5kZWYodm5vZGUudGV4dCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvbGRDaCAhPT0gY2gpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaCwgY2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEZWYoY2gpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlS2V5cyhjaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTtcclxuICAgICAgICAgICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGVmKG9sZENoKSkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvbGRWbm9kZS50ZXh0ICE9PSB2bm9kZS50ZXh0KSB7XHJcbiAgICAgICAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCB2bm9kZS50ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RlZigoaSA9IGRhdGEuaG9vaykpICYmIGlzRGVmKChpID0gaS5wb3N0cGF0Y2gpKSlcclxuICAgICAgICAgICAgICAgIGkob2xkVm5vZGUsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbnZva2VJbnNlcnRIb29rKHZub2RlLCBxdWV1ZSwgaW5pdGlhbCkge1xyXG4gICAgICAgIC8vIGRlbGF5IGluc2VydCBob29rcyBmb3IgY29tcG9uZW50IHJvb3Qgbm9kZXMsIGludm9rZSB0aGVtIGFmdGVyIHRoZVxyXG4gICAgICAgIC8vIGVsZW1lbnQgaXMgcmVhbGx5IGluc2VydGVkXHJcbiAgICAgICAgaWYgKGlzVHJ1ZShpbml0aWFsKSAmJiBpc0RlZih2bm9kZS5wYXJlbnQpKSB7XHJcbiAgICAgICAgICAgIHZub2RlLnBhcmVudC5kYXRhLnBlbmRpbmdJbnNlcnQgPSBxdWV1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGlfNiA9IDA7IGlfNiA8IHF1ZXVlLmxlbmd0aDsgKytpXzYpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlW2lfNl0uZGF0YS5ob29rLmluc2VydChxdWV1ZVtpXzZdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBoeWRyYXRpb25CYWlsZWQgPSBmYWxzZTtcclxuICAgIC8vIGxpc3Qgb2YgbW9kdWxlcyB0aGF0IGNhbiBza2lwIGNyZWF0ZSBob29rIGR1cmluZyBoeWRyYXRpb24gYmVjYXVzZSB0aGV5XHJcbiAgICAvLyBhcmUgYWxyZWFkeSByZW5kZXJlZCBvbiB0aGUgY2xpZW50IG9yIGhhcyBubyBuZWVkIGZvciBpbml0aWFsaXphdGlvblxyXG4gICAgLy8gTm90ZTogc3R5bGUgaXMgZXhjbHVkZWQgYmVjYXVzZSBpdCByZWxpZXMgb24gaW5pdGlhbCBjbG9uZSBmb3IgZnV0dXJlXHJcbiAgICAvLyBkZWVwIHVwZGF0ZXMgKCM3MDYzKS5cclxuICAgIHZhciBpc1JlbmRlcmVkTW9kdWxlID0gbWFrZU1hcCgnYXR0cnMsY2xhc3Msc3RhdGljQ2xhc3Msc3RhdGljU3R5bGUsa2V5Jyk7XHJcbiAgICAvLyBOb3RlOiB0aGlzIGlzIGEgYnJvd3Nlci1vbmx5IGZ1bmN0aW9uIHNvIHdlIGNhbiBhc3N1bWUgZWxtcyBhcmUgRE9NIG5vZGVzLlxyXG4gICAgZnVuY3Rpb24gaHlkcmF0ZShlbG0sIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIGluVlByZSkge1xyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIHZhciB0YWcgPSB2bm9kZS50YWcsIGRhdGEgPSB2bm9kZS5kYXRhLCBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGluVlByZSA9IGluVlByZSB8fCAoZGF0YSAmJiBkYXRhLnByZSk7XHJcbiAgICAgICAgdm5vZGUuZWxtID0gZWxtO1xyXG4gICAgICAgIGlmIChpc1RydWUodm5vZGUuaXNDb21tZW50KSAmJiBpc0RlZih2bm9kZS5hc3luY0ZhY3RvcnkpKSB7XHJcbiAgICAgICAgICAgIHZub2RlLmlzQXN5bmNQbGFjZWhvbGRlciA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhc3NlcnQgbm9kZSBtYXRjaFxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmICghYXNzZXJ0Tm9kZU1hdGNoKGVsbSwgdm5vZGUsIGluVlByZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpID0gZGF0YS5ob29rKSkgJiYgaXNEZWYoKGkgPSBpLmluaXQpKSlcclxuICAgICAgICAgICAgICAgIGkodm5vZGUsIHRydWUgLyogaHlkcmF0aW5nICovKTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY2hpbGQgY29tcG9uZW50LiBpdCBzaG91bGQgaGF2ZSBoeWRyYXRlZCBpdHMgb3duIHRyZWUuXHJcbiAgICAgICAgICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGVmKHRhZykpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgZWxlbWVudCwgYWxsb3cgY2xpZW50IHRvIHBpY2sgdXAgYW5kIHBvcHVsYXRlIGNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWVsbS5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2LWh0bWwgYW5kIGRvbVByb3BzOiBpbm5lckhUTUxcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoKGkgPSBkYXRhKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoKGkgPSBpLmRvbVByb3BzKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoKGkgPSBpLmlubmVySFRNTCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBlbG0uaW5uZXJIVE1MKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWh5ZHJhdGlvbkJhaWxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkJhaWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQYXJlbnQ6ICcsIGVsbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdzZXJ2ZXIgaW5uZXJIVE1MOiAnLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2NsaWVudCBpbm5lckhUTUw6ICcsIGVsbS5pbm5lckhUTUwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRlIGFuZCBjb21wYXJlIGNoaWxkcmVuIGxpc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbk1hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGVsbS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzcgPSAwOyBpXzcgPCBjaGlsZHJlbi5sZW5ndGg7IGlfNysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkTm9kZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFoeWRyYXRlKGNoaWxkTm9kZSwgY2hpbGRyZW5baV83XSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpblZQcmUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5NYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGROb2RlID0gY2hpbGROb2RlLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGNoaWxkTm9kZSBpcyBub3QgbnVsbCwgaXQgbWVhbnMgdGhlIGFjdHVhbCBjaGlsZE5vZGVzIGxpc3QgaXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9uZ2VyIHRoYW4gdGhlIHZpcnR1YWwgY2hpbGRyZW4gbGlzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZHJlbk1hdGNoIHx8IGNoaWxkTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFoeWRyYXRpb25CYWlsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRpb25CYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTWlzbWF0Y2hpbmcgY2hpbGROb2RlcyB2cy4gVk5vZGVzOiAnLCBlbG0uY2hpbGROb2RlcywgY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0RlZihkYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZ1bGxJbnZva2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1JlbmRlcmVkTW9kdWxlKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbEludm9rZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZ1bGxJbnZva2UgJiYgZGF0YVsnY2xhc3MnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBjb2xsZWN0aW5nIGRlcHMgZm9yIGRlZXAgY2xhc3MgYmluZGluZ3MgZm9yIGZ1dHVyZSB1cGRhdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2UoZGF0YVsnY2xhc3MnXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZWxtLmRhdGEgIT09IHZub2RlLnRleHQpIHtcclxuICAgICAgICAgICAgZWxtLmRhdGEgPSB2bm9kZS50ZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFzc2VydE5vZGVNYXRjaChub2RlLCB2bm9kZSwgaW5WUHJlKSB7XHJcbiAgICAgICAgaWYgKGlzRGVmKHZub2RlLnRhZykpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh2bm9kZS50YWcuaW5kZXhPZigndnVlLWNvbXBvbmVudCcpID09PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAoIWlzVW5rbm93bkVsZW1lbnQodm5vZGUsIGluVlByZSkgJiZcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS50YWcudG9Mb3dlckNhc2UoKSA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKG5vZGUudGFnTmFtZSAmJiBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAodm5vZGUuaXNDb21tZW50ID8gOCA6IDMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiBwYXRjaChvbGRWbm9kZSwgdm5vZGUsIGh5ZHJhdGluZywgcmVtb3ZlT25seSkge1xyXG4gICAgICAgIGlmIChpc1VuZGVmKHZub2RlKSkge1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYob2xkVm5vZGUpKVxyXG4gICAgICAgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpc0luaXRpYWxQYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpbnNlcnRlZFZub2RlUXVldWUgPSBbXTtcclxuICAgICAgICBpZiAoaXNVbmRlZihvbGRWbm9kZSkpIHtcclxuICAgICAgICAgICAgLy8gZW1wdHkgbW91bnQgKGxpa2VseSBhcyBjb21wb25lbnQpLCBjcmVhdGUgbmV3IHJvb3QgZWxlbWVudFxyXG4gICAgICAgICAgICBpc0luaXRpYWxQYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBpc1JlYWxFbGVtZW50ID0gaXNEZWYob2xkVm5vZGUubm9kZVR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoIWlzUmVhbEVsZW1lbnQgJiYgc2FtZVZub2RlKG9sZFZub2RlLCB2bm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHBhdGNoIGV4aXN0aW5nIHJvb3Qgbm9kZVxyXG4gICAgICAgICAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbnVsbCwgbnVsbCwgcmVtb3ZlT25seSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWFsRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBzZXJ2ZXItcmVuZGVyZWQgY29udGVudCBhbmQgaWYgd2UgY2FuIHBlcmZvcm1cclxuICAgICAgICAgICAgICAgICAgICAvLyBhIHN1Y2Nlc3NmdWwgaHlkcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoU1NSX0FUVFIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZub2RlLnJlbW92ZUF0dHJpYnV0ZShTU1JfQVRUUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1RydWUoaHlkcmF0aW5nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHlkcmF0ZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZUluc2VydEhvb2sodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2xkVm5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQyKCdUaGUgY2xpZW50LXNpZGUgcmVuZGVyZWQgdmlydHVhbCBET00gdHJlZSBpcyBub3QgbWF0Y2hpbmcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NlcnZlci1yZW5kZXJlZCBjb250ZW50LiBUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgaW5jb3JyZWN0ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdIVE1MIG1hcmt1cCwgZm9yIGV4YW1wbGUgbmVzdGluZyBibG9jay1sZXZlbCBlbGVtZW50cyBpbnNpZGUgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxwPiwgb3IgbWlzc2luZyA8dGJvZHk+LiBCYWlsaW5nIGh5ZHJhdGlvbiBhbmQgcGVyZm9ybWluZyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZnVsbCBjbGllbnQtc2lkZSByZW5kZXIuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWl0aGVyIG5vdCBzZXJ2ZXItcmVuZGVyZWQsIG9yIGh5ZHJhdGlvbiBmYWlsZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGVtcHR5IG5vZGUgYW5kIHJlcGxhY2UgaXRcclxuICAgICAgICAgICAgICAgICAgICBvbGRWbm9kZSA9IGVtcHR5Tm9kZUF0KG9sZFZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2luZyBleGlzdGluZyBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkRWxtID0gb2xkVm5vZGUuZWxtO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudEVsbSA9IG5vZGVPcHMucGFyZW50Tm9kZShvbGRFbG0pO1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBub2RlXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVFbG0odm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgXHJcbiAgICAgICAgICAgICAgICAvLyBleHRyZW1lbHkgcmFyZSBlZGdlIGNhc2U6IGRvIG5vdCBpbnNlcnQgaWYgb2xkIGVsZW1lbnQgaXMgaW4gYVxyXG4gICAgICAgICAgICAgICAgLy8gbGVhdmluZyB0cmFuc2l0aW9uLiBPbmx5IGhhcHBlbnMgd2hlbiBjb21iaW5pbmcgdHJhbnNpdGlvbiArXHJcbiAgICAgICAgICAgICAgICAvLyBrZWVwLWFsaXZlICsgSE9Dcy4gKCM0NTkwKVxyXG4gICAgICAgICAgICAgICAgb2xkRWxtLl9sZWF2ZUNiID8gbnVsbCA6IHBhcmVudEVsbSwgbm9kZU9wcy5uZXh0U2libGluZyhvbGRFbG0pKTtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBwYXJlbnQgcGxhY2Vob2xkZXIgbm9kZSBlbGVtZW50LCByZWN1cnNpdmVseVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKHZub2RlLnBhcmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGNoYWJsZSA9IGlzUGF0Y2hhYmxlKHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYW5jZXN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV84ID0gMDsgaV84IDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2lfOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JzLmRlc3Ryb3lbaV84XShhbmNlc3Rvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5jZXN0b3IuZWxtID0gdm5vZGUuZWxtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0Y2hhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzkgPSAwOyBpXzkgPCBjYnMuY3JlYXRlLmxlbmd0aDsgKytpXzkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYnMuY3JlYXRlW2lfOV0oZW1wdHlOb2RlLCBhbmNlc3Rvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAjNjUxM1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW52b2tlIGluc2VydCBob29rcyB0aGF0IG1heSBoYXZlIGJlZW4gbWVyZ2VkIGJ5IGNyZWF0ZSBob29rcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGUuZy4gZm9yIGRpcmVjdGl2ZXMgdGhhdCB1c2VzIHRoZSBcImluc2VydGVkXCIgaG9vay5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnNlcnRfMSA9IGFuY2VzdG9yLmRhdGEuaG9vay5pbnNlcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0XzEubWVyZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYXQgaW5kZXggMSB0byBhdm9pZCByZS1pbnZva2luZyBjb21wb25lbnQgbW91bnRlZCBob29rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xMCA9IDE7IGlfMTAgPCBpbnNlcnRfMS5mbnMubGVuZ3RoOyBpXzEwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0XzEuZm5zW2lfMTBdKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWYoYW5jZXN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGRlc3Ryb3kgb2xkIG5vZGVcclxuICAgICAgICAgICAgICAgIGlmIChpc0RlZihwYXJlbnRFbG0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKFtvbGRWbm9kZV0sIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGFnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKG9sZFZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbnZva2VJbnNlcnRIb29rKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIGlzSW5pdGlhbFBhdGNoKTtcclxuICAgICAgICByZXR1cm4gdm5vZGUuZWxtO1xyXG4gICAgfTtcclxufVxuXG52YXIgZGlyZWN0aXZlcyQxID0ge1xyXG4gICAgY3JlYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxyXG4gICAgdXBkYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxyXG4gICAgZGVzdHJveTogZnVuY3Rpb24gdW5iaW5kRGlyZWN0aXZlcyh2bm9kZSkge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZW1wdHlOb2RlIGlzIG5vdCBWTm9kZVdpdGhEYXRhXHJcbiAgICAgICAgdXBkYXRlRGlyZWN0aXZlcyh2bm9kZSwgZW1wdHlOb2RlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyhvbGRWbm9kZSwgdm5vZGUpIHtcclxuICAgIGlmIChvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMgfHwgdm5vZGUuZGF0YS5kaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgX3VwZGF0ZShvbGRWbm9kZSwgdm5vZGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIF91cGRhdGUob2xkVm5vZGUsIHZub2RlKSB7XHJcbiAgICB2YXIgaXNDcmVhdGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlOb2RlO1xyXG4gICAgdmFyIGlzRGVzdHJveSA9IHZub2RlID09PSBlbXB0eU5vZGU7XHJcbiAgICB2YXIgb2xkRGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMob2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzLCBvbGRWbm9kZS5jb250ZXh0KTtcclxuICAgIHZhciBuZXdEaXJzID0gbm9ybWFsaXplRGlyZWN0aXZlcyh2bm9kZS5kYXRhLmRpcmVjdGl2ZXMsIHZub2RlLmNvbnRleHQpO1xyXG4gICAgdmFyIGRpcnNXaXRoSW5zZXJ0ID0gW107XHJcbiAgICB2YXIgZGlyc1dpdGhQb3N0cGF0Y2ggPSBbXTtcclxuICAgIHZhciBrZXksIG9sZERpciwgZGlyO1xyXG4gICAgZm9yIChrZXkgaW4gbmV3RGlycykge1xyXG4gICAgICAgIG9sZERpciA9IG9sZERpcnNba2V5XTtcclxuICAgICAgICBkaXIgPSBuZXdEaXJzW2tleV07XHJcbiAgICAgICAgaWYgKCFvbGREaXIpIHtcclxuICAgICAgICAgICAgLy8gbmV3IGRpcmVjdGl2ZSwgYmluZFxyXG4gICAgICAgICAgICBjYWxsSG9vayhkaXIsICdiaW5kJywgdm5vZGUsIG9sZFZub2RlKTtcclxuICAgICAgICAgICAgaWYgKGRpci5kZWYgJiYgZGlyLmRlZi5pbnNlcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgZGlyc1dpdGhJbnNlcnQucHVzaChkaXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBleGlzdGluZyBkaXJlY3RpdmUsIHVwZGF0ZVxyXG4gICAgICAgICAgICBkaXIub2xkVmFsdWUgPSBvbGREaXIudmFsdWU7XHJcbiAgICAgICAgICAgIGRpci5vbGRBcmcgPSBvbGREaXIuYXJnO1xyXG4gICAgICAgICAgICBjYWxsSG9vayhkaXIsICd1cGRhdGUnLCB2bm9kZSwgb2xkVm5vZGUpO1xyXG4gICAgICAgICAgICBpZiAoZGlyLmRlZiAmJiBkaXIuZGVmLmNvbXBvbmVudFVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGRpcnNXaXRoUG9zdHBhdGNoLnB1c2goZGlyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChkaXJzV2l0aEluc2VydC5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgY2FsbEluc2VydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aEluc2VydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2FsbEhvb2soZGlyc1dpdGhJbnNlcnRbaV0sICdpbnNlcnRlZCcsIHZub2RlLCBvbGRWbm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChpc0NyZWF0ZSkge1xyXG4gICAgICAgICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ2luc2VydCcsIGNhbGxJbnNlcnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2FsbEluc2VydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChkaXJzV2l0aFBvc3RwYXRjaC5sZW5ndGgpIHtcclxuICAgICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ3Bvc3RwYXRjaCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aFBvc3RwYXRjaC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2FsbEhvb2soZGlyc1dpdGhQb3N0cGF0Y2hbaV0sICdjb21wb25lbnRVcGRhdGVkJywgdm5vZGUsIG9sZFZub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc0NyZWF0ZSkge1xyXG4gICAgICAgIGZvciAoa2V5IGluIG9sZERpcnMpIHtcclxuICAgICAgICAgICAgaWYgKCFuZXdEaXJzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIC8vIG5vIGxvbmdlciBwcmVzZW50LCB1bmJpbmRcclxuICAgICAgICAgICAgICAgIGNhbGxIb29rKG9sZERpcnNba2V5XSwgJ3VuYmluZCcsIG9sZFZub2RlLCBvbGRWbm9kZSwgaXNEZXN0cm95KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG52YXIgZW1wdHlNb2RpZmllcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5mdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzKGRpcnMsIHZtKSB7XHJcbiAgICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIGlmICghZGlycykge1xyXG4gICAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICB2YXIgaSwgZGlyO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGRpcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBkaXIgPSBkaXJzW2ldO1xyXG4gICAgICAgIGlmICghZGlyLm1vZGlmaWVycykge1xyXG4gICAgICAgICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcclxuICAgICAgICAgICAgZGlyLm1vZGlmaWVycyA9IGVtcHR5TW9kaWZpZXJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjtcclxuICAgICAgICBpZiAodm0uX3NldHVwU3RhdGUgJiYgdm0uX3NldHVwU3RhdGUuX19zZmMpIHtcclxuICAgICAgICAgICAgZGlyLmRlZiA9IGRpci5kZWYgfHwgcmVzb2x2ZUFzc2V0KHZtLCAnX3NldHVwU3RhdGUnLCAndi0nICsgZGlyLm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXIuZGVmID0gZGlyLmRlZiB8fCByZXNvbHZlQXNzZXQodm0uJG9wdGlvbnMsICdkaXJlY3RpdmVzJywgZGlyLm5hbWUsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIGdldFJhd0Rpck5hbWUoZGlyKSB7XHJcbiAgICByZXR1cm4gKGRpci5yYXdOYW1lIHx8IFwiXCIuY29uY2F0KGRpci5uYW1lLCBcIi5cIikuY29uY2F0KE9iamVjdC5rZXlzKGRpci5tb2RpZmllcnMgfHwge30pLmpvaW4oJy4nKSkpO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxIb29rKGRpciwgaG9vaywgdm5vZGUsIG9sZFZub2RlLCBpc0Rlc3Ryb3kpIHtcclxuICAgIHZhciBmbiA9IGRpci5kZWYgJiYgZGlyLmRlZltob29rXTtcclxuICAgIGlmIChmbikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZuKHZub2RlLmVsbSwgZGlyLCB2bm9kZSwgb2xkVm5vZGUsIGlzRGVzdHJveSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGUsIHZub2RlLmNvbnRleHQsIFwiZGlyZWN0aXZlIFwiLmNvbmNhdChkaXIubmFtZSwgXCIgXCIpLmNvbmNhdChob29rLCBcIiBob29rXCIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxudmFyIGJhc2VNb2R1bGVzID0gW3JlZiwgZGlyZWN0aXZlcyQxXTtcblxuZnVuY3Rpb24gdXBkYXRlQXR0cnMob2xkVm5vZGUsIHZub2RlKSB7XHJcbiAgICB2YXIgb3B0cyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XHJcbiAgICBpZiAoaXNEZWYob3B0cykgJiYgb3B0cy5DdG9yLm9wdGlvbnMuaW5oZXJpdEF0dHJzID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChpc1VuZGVmKG9sZFZub2RlLmRhdGEuYXR0cnMpICYmIGlzVW5kZWYodm5vZGUuZGF0YS5hdHRycykpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIga2V5LCBjdXIsIG9sZDtcclxuICAgIHZhciBlbG0gPSB2bm9kZS5lbG07XHJcbiAgICB2YXIgb2xkQXR0cnMgPSBvbGRWbm9kZS5kYXRhLmF0dHJzIHx8IHt9O1xyXG4gICAgdmFyIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyB8fCB7fTtcclxuICAgIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxyXG4gICAgaWYgKGlzRGVmKGF0dHJzLl9fb2JfXykgfHwgaXNUcnVlKGF0dHJzLl92X2F0dHJfcHJveHkpKSB7XHJcbiAgICAgICAgYXR0cnMgPSB2bm9kZS5kYXRhLmF0dHJzID0gZXh0ZW5kKHt9LCBhdHRycyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGtleSBpbiBhdHRycykge1xyXG4gICAgICAgIGN1ciA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgb2xkID0gb2xkQXR0cnNba2V5XTtcclxuICAgICAgICBpZiAob2xkICE9PSBjdXIpIHtcclxuICAgICAgICAgICAgc2V0QXR0cihlbG0sIGtleSwgY3VyLCB2bm9kZS5kYXRhLnByZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gIzQzOTE6IGluIElFOSwgc2V0dGluZyB0eXBlIGNhbiByZXNldCB2YWx1ZSBmb3IgaW5wdXRbdHlwZT1yYWRpb11cclxuICAgIC8vICM2NjY2OiBJRS9FZGdlIGZvcmNlcyBwcm9ncmVzcyB2YWx1ZSBkb3duIHRvIDEgYmVmb3JlIHNldHRpbmcgYSBtYXhcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKChpc0lFIHx8IGlzRWRnZSkgJiYgYXR0cnMudmFsdWUgIT09IG9sZEF0dHJzLnZhbHVlKSB7XHJcbiAgICAgICAgc2V0QXR0cihlbG0sICd2YWx1ZScsIGF0dHJzLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7XHJcbiAgICAgICAgaWYgKGlzVW5kZWYoYXR0cnNba2V5XSkpIHtcclxuICAgICAgICAgICAgaWYgKGlzWGxpbmsoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0QXR0cihlbCwga2V5LCB2YWx1ZSwgaXNJblByZSkge1xyXG4gICAgaWYgKGlzSW5QcmUgfHwgZWwudGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xyXG4gICAgICAgIGJhc2VTZXRBdHRyKGVsLCBrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xyXG4gICAgICAgIC8vIHNldCBhdHRyaWJ1dGUgZm9yIGJsYW5rIHZhbHVlXHJcbiAgICAgICAgLy8gZS5nLiA8b3B0aW9uIGRpc2FibGVkPlNlbGVjdCBvbmU8L29wdGlvbj5cclxuICAgICAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB0ZWNobmljYWxseSBhbGxvd2Z1bGxzY3JlZW4gaXMgYSBib29sZWFuIGF0dHJpYnV0ZSBmb3IgPGlmcmFtZT4sXHJcbiAgICAgICAgICAgIC8vIGJ1dCBGbGFzaCBleHBlY3RzIGEgdmFsdWUgb2YgXCJ0cnVlXCIgd2hlbiB1c2VkIG9uIDxlbWJlZD4gdGFnXHJcbiAgICAgICAgICAgIHZhbHVlID0ga2V5ID09PSAnYWxsb3dmdWxsc2NyZWVuJyAmJiBlbC50YWdOYW1lID09PSAnRU1CRUQnID8gJ3RydWUnIDoga2V5O1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgY29udmVydEVudW1lcmF0ZWRWYWx1ZShrZXksIHZhbHVlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1hsaW5rKGtleSkpIHtcclxuICAgICAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYmFzZVNldEF0dHIoZWwsIGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGJhc2VTZXRBdHRyKGVsLCBrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vICM3MTM4OiBJRTEwICYgMTEgZmlyZXMgaW5wdXQgZXZlbnQgd2hlbiBzZXR0aW5nIHBsYWNlaG9sZGVyIG9uXHJcbiAgICAgICAgLy8gPHRleHRhcmVhPi4uLiBibG9jayB0aGUgZmlyc3QgaW5wdXQgZXZlbnQgYW5kIHJlbW92ZSB0aGUgYmxvY2tlclxyXG4gICAgICAgIC8vIGltbWVkaWF0ZWx5LlxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmIChpc0lFICYmXHJcbiAgICAgICAgICAgICFpc0lFOSAmJlxyXG4gICAgICAgICAgICBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnICYmXHJcbiAgICAgICAgICAgIGtleSA9PT0gJ3BsYWNlaG9sZGVyJyAmJlxyXG4gICAgICAgICAgICB2YWx1ZSAhPT0gJycgJiZcclxuICAgICAgICAgICAgIWVsLl9faWVwaCkge1xyXG4gICAgICAgICAgICB2YXIgYmxvY2tlcl8xID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJsb2NrZXJfMSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmxvY2tlcl8xKTtcclxuICAgICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICAgICAgICAgIGVsLl9faWVwaCA9IHRydWU7IC8qIElFIHBsYWNlaG9sZGVyIHBhdGNoZWQgKi9cclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbnZhciBhdHRycyA9IHtcclxuICAgIGNyZWF0ZTogdXBkYXRlQXR0cnMsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZUF0dHJzXHJcbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsYXNzKG9sZFZub2RlLCB2bm9kZSkge1xyXG4gICAgdmFyIGVsID0gdm5vZGUuZWxtO1xyXG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xyXG4gICAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xyXG4gICAgaWYgKGlzVW5kZWYoZGF0YS5zdGF0aWNDbGFzcykgJiZcclxuICAgICAgICBpc1VuZGVmKGRhdGEuY2xhc3MpICYmXHJcbiAgICAgICAgKGlzVW5kZWYob2xkRGF0YSkgfHxcclxuICAgICAgICAgICAgKGlzVW5kZWYob2xkRGF0YS5zdGF0aWNDbGFzcykgJiYgaXNVbmRlZihvbGREYXRhLmNsYXNzKSkpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGNscyA9IGdlbkNsYXNzRm9yVm5vZGUodm5vZGUpO1xyXG4gICAgLy8gaGFuZGxlIHRyYW5zaXRpb24gY2xhc3Nlc1xyXG4gICAgdmFyIHRyYW5zaXRpb25DbGFzcyA9IGVsLl90cmFuc2l0aW9uQ2xhc3NlcztcclxuICAgIGlmIChpc0RlZih0cmFuc2l0aW9uQ2xhc3MpKSB7XHJcbiAgICAgICAgY2xzID0gY29uY2F0KGNscywgc3RyaW5naWZ5Q2xhc3ModHJhbnNpdGlvbkNsYXNzKSk7XHJcbiAgICB9XHJcbiAgICAvLyBzZXQgdGhlIGNsYXNzXHJcbiAgICBpZiAoY2xzICE9PSBlbC5fcHJldkNsYXNzKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNscyk7XHJcbiAgICAgICAgZWwuX3ByZXZDbGFzcyA9IGNscztcclxuICAgIH1cclxufVxyXG52YXIga2xhc3MkMSA9IHtcclxuICAgIGNyZWF0ZTogdXBkYXRlQ2xhc3MsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZUNsYXNzXHJcbn07XG5cbnZhciB2YWxpZERpdmlzaW9uQ2hhclJFID0gL1tcXHcpLitcXC1fJFxcXV0vO1xyXG5mdW5jdGlvbiBwYXJzZUZpbHRlcnMoZXhwKSB7XHJcbiAgICB2YXIgaW5TaW5nbGUgPSBmYWxzZTtcclxuICAgIHZhciBpbkRvdWJsZSA9IGZhbHNlO1xyXG4gICAgdmFyIGluVGVtcGxhdGVTdHJpbmcgPSBmYWxzZTtcclxuICAgIHZhciBpblJlZ2V4ID0gZmFsc2U7XHJcbiAgICB2YXIgY3VybHkgPSAwO1xyXG4gICAgdmFyIHNxdWFyZSA9IDA7XHJcbiAgICB2YXIgcGFyZW4gPSAwO1xyXG4gICAgdmFyIGxhc3RGaWx0ZXJJbmRleCA9IDA7XHJcbiAgICB2YXIgYywgcHJldiwgaSwgZXhwcmVzc2lvbiwgZmlsdGVycztcclxuICAgIGZvciAoaSA9IDA7IGkgPCBleHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBwcmV2ID0gYztcclxuICAgICAgICBjID0gZXhwLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGluU2luZ2xlKSB7XHJcbiAgICAgICAgICAgIGlmIChjID09PSAweDI3ICYmIHByZXYgIT09IDB4NWMpXHJcbiAgICAgICAgICAgICAgICBpblNpbmdsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbkRvdWJsZSkge1xyXG4gICAgICAgICAgICBpZiAoYyA9PT0gMHgyMiAmJiBwcmV2ICE9PSAweDVjKVxyXG4gICAgICAgICAgICAgICAgaW5Eb3VibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5UZW1wbGF0ZVN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAoYyA9PT0gMHg2MCAmJiBwcmV2ICE9PSAweDVjKVxyXG4gICAgICAgICAgICAgICAgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpblJlZ2V4KSB7XHJcbiAgICAgICAgICAgIGlmIChjID09PSAweDJmICYmIHByZXYgIT09IDB4NWMpXHJcbiAgICAgICAgICAgICAgICBpblJlZ2V4ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPT09IDB4N2MgJiYgLy8gcGlwZVxyXG4gICAgICAgICAgICBleHAuY2hhckNvZGVBdChpICsgMSkgIT09IDB4N2MgJiZcclxuICAgICAgICAgICAgZXhwLmNoYXJDb2RlQXQoaSAtIDEpICE9PSAweDdjICYmXHJcbiAgICAgICAgICAgICFjdXJseSAmJlxyXG4gICAgICAgICAgICAhc3F1YXJlICYmXHJcbiAgICAgICAgICAgICFwYXJlbikge1xyXG4gICAgICAgICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCBmaWx0ZXIsIGVuZCBvZiBleHByZXNzaW9uXHJcbiAgICAgICAgICAgICAgICBsYXN0RmlsdGVySW5kZXggPSBpICsgMTtcclxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBleHAuc2xpY2UoMCwgaSkudHJpbSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHVzaEZpbHRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMHgyMjpcclxuICAgICAgICAgICAgICAgICAgICBpbkRvdWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIFwiXHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4Mjc6XHJcbiAgICAgICAgICAgICAgICAgICAgaW5TaW5nbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAnXHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4NjA6XHJcbiAgICAgICAgICAgICAgICAgICAgaW5UZW1wbGF0ZVN0cmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIGBcclxuICAgICAgICAgICAgICAgIGNhc2UgMHgyODpcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAoXHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4Mjk6XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW4tLTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gKVxyXG4gICAgICAgICAgICAgICAgY2FzZSAweDViOlxyXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBbXHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4NWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlLS07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIF1cclxuICAgICAgICAgICAgICAgIGNhc2UgMHg3YjpcclxuICAgICAgICAgICAgICAgICAgICBjdXJseSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4N2Q6XHJcbiAgICAgICAgICAgICAgICAgICAgY3VybHktLTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjID09PSAweDJmKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAvXHJcbiAgICAgICAgICAgICAgICB2YXIgaiA9IGkgLSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgXHJcbiAgICAgICAgICAgICAgICAvLyBmaW5kIGZpcnN0IG5vbi13aGl0ZXNwYWNlIHByZXYgY2hhclxyXG4gICAgICAgICAgICAgICAgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICAvLyBmaW5kIGZpcnN0IG5vbi13aGl0ZXNwYWNlIHByZXYgY2hhclxyXG4gICAgICAgICAgICAgICAgZm9yICg7IGogPj0gMDsgai0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcCA9IGV4cC5jaGFyQXQoaik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgIT09ICcgJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXAgfHwgIXZhbGlkRGl2aXNpb25DaGFyUkUudGVzdChwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluUmVnZXggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBleHAuc2xpY2UoMCwgaSkudHJpbSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobGFzdEZpbHRlckluZGV4ICE9PSAwKSB7XHJcbiAgICAgICAgcHVzaEZpbHRlcigpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcHVzaEZpbHRlcigpIHtcclxuICAgICAgICAoZmlsdGVycyB8fCAoZmlsdGVycyA9IFtdKSkucHVzaChleHAuc2xpY2UobGFzdEZpbHRlckluZGV4LCBpKS50cmltKCkpO1xyXG4gICAgICAgIGxhc3RGaWx0ZXJJbmRleCA9IGkgKyAxO1xyXG4gICAgfVxyXG4gICAgaWYgKGZpbHRlcnMpIHtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBleHByZXNzaW9uID0gd3JhcEZpbHRlcihleHByZXNzaW9uLCBmaWx0ZXJzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXhwcmVzc2lvbjtcclxufVxyXG5mdW5jdGlvbiB3cmFwRmlsdGVyKGV4cCwgZmlsdGVyKSB7XHJcbiAgICB2YXIgaSA9IGZpbHRlci5pbmRleE9mKCcoJyk7XHJcbiAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAvLyBfZjogcmVzb2x2ZUZpbHRlclxyXG4gICAgICAgIHJldHVybiBcIl9mKFxcXCJcIi5jb25jYXQoZmlsdGVyLCBcIlxcXCIpKFwiKS5jb25jYXQoZXhwLCBcIilcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgbmFtZV8xID0gZmlsdGVyLnNsaWNlKDAsIGkpO1xyXG4gICAgICAgIHZhciBhcmdzID0gZmlsdGVyLnNsaWNlKGkgKyAxKTtcclxuICAgICAgICByZXR1cm4gXCJfZihcXFwiXCIuY29uY2F0KG5hbWVfMSwgXCJcXFwiKShcIikuY29uY2F0KGV4cCkuY29uY2F0KGFyZ3MgIT09ICcpJyA/ICcsJyArIGFyZ3MgOiBhcmdzKTtcclxuICAgIH1cclxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xyXG5mdW5jdGlvbiBiYXNlV2Fybihtc2csIHJhbmdlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW1Z1ZSBjb21waWxlcl06IFwiLmNvbmNhdChtc2cpKTtcclxufVxyXG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXHJcbmZ1bmN0aW9uIHBsdWNrTW9kdWxlRnVuY3Rpb24obW9kdWxlcywga2V5KSB7XHJcbiAgICByZXR1cm4gbW9kdWxlcyA/IG1vZHVsZXMubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtW2tleV07IH0pLmZpbHRlcihmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfSkgOiBbXTtcclxufVxyXG5mdW5jdGlvbiBhZGRQcm9wKGVsLCBuYW1lLCB2YWx1ZSwgcmFuZ2UsIGR5bmFtaWMpIHtcclxuICAgIChlbC5wcm9wcyB8fCAoZWwucHJvcHMgPSBbXSkpLnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKSk7XHJcbiAgICBlbC5wbGFpbiA9IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGFkZEF0dHIoZWwsIG5hbWUsIHZhbHVlLCByYW5nZSwgZHluYW1pYykge1xyXG4gICAgdmFyIGF0dHJzID0gZHluYW1pY1xyXG4gICAgICAgID8gZWwuZHluYW1pY0F0dHJzIHx8IChlbC5keW5hbWljQXR0cnMgPSBbXSlcclxuICAgICAgICA6IGVsLmF0dHJzIHx8IChlbC5hdHRycyA9IFtdKTtcclxuICAgIGF0dHJzLnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKSk7XHJcbiAgICBlbC5wbGFpbiA9IGZhbHNlO1xyXG59XHJcbi8vIGFkZCBhIHJhdyBhdHRyICh1c2UgdGhpcyBpbiBwcmVUcmFuc2Zvcm1zKVxyXG5mdW5jdGlvbiBhZGRSYXdBdHRyKGVsLCBuYW1lLCB2YWx1ZSwgcmFuZ2UpIHtcclxuICAgIGVsLmF0dHJzTWFwW25hbWVdID0gdmFsdWU7XHJcbiAgICBlbC5hdHRyc0xpc3QucHVzaChyYW5nZVNldEl0ZW0oeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSwgcmFuZ2UpKTtcclxufVxyXG5mdW5jdGlvbiBhZGREaXJlY3RpdmUoZWwsIG5hbWUsIHJhd05hbWUsIHZhbHVlLCBhcmcsIGlzRHluYW1pY0FyZywgbW9kaWZpZXJzLCByYW5nZSkge1xyXG4gICAgKGVsLmRpcmVjdGl2ZXMgfHwgKGVsLmRpcmVjdGl2ZXMgPSBbXSkpLnB1c2gocmFuZ2VTZXRJdGVtKHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIHJhd05hbWU6IHJhd05hbWUsXHJcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgIGFyZzogYXJnLFxyXG4gICAgICAgIGlzRHluYW1pY0FyZzogaXNEeW5hbWljQXJnLFxyXG4gICAgICAgIG1vZGlmaWVyczogbW9kaWZpZXJzXHJcbiAgICB9LCByYW5nZSkpO1xyXG4gICAgZWwucGxhaW4gPSBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXJNYXJrZXIoc3ltYm9sLCBuYW1lLCBkeW5hbWljKSB7XHJcbiAgICByZXR1cm4gZHluYW1pYyA/IFwiX3AoXCIuY29uY2F0KG5hbWUsIFwiLFxcXCJcIikuY29uY2F0KHN5bWJvbCwgXCJcXFwiKVwiKSA6IHN5bWJvbCArIG5hbWU7IC8vIG1hcmsgdGhlIGV2ZW50IGFzIGNhcHR1cmVkXHJcbn1cclxuZnVuY3Rpb24gYWRkSGFuZGxlcihlbCwgbmFtZSwgdmFsdWUsIG1vZGlmaWVycywgaW1wb3J0YW50LCB3YXJuLCByYW5nZSwgZHluYW1pYykge1xyXG4gICAgbW9kaWZpZXJzID0gbW9kaWZpZXJzIHx8IGVtcHR5T2JqZWN0O1xyXG4gICAgLy8gd2FybiBwcmV2ZW50IGFuZCBwYXNzaXZlIG1vZGlmaWVyXHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4gJiYgbW9kaWZpZXJzLnByZXZlbnQgJiYgbW9kaWZpZXJzLnBhc3NpdmUpIHtcclxuICAgICAgICB3YXJuKFwicGFzc2l2ZSBhbmQgcHJldmVudCBjYW4ndCBiZSB1c2VkIHRvZ2V0aGVyLiBcIiArXHJcbiAgICAgICAgICAgIFwiUGFzc2l2ZSBoYW5kbGVyIGNhbid0IHByZXZlbnQgZGVmYXVsdCBldmVudC5cIiwgcmFuZ2UpO1xyXG4gICAgfVxyXG4gICAgLy8gbm9ybWFsaXplIGNsaWNrLnJpZ2h0IGFuZCBjbGljay5taWRkbGUgc2luY2UgdGhleSBkb24ndCBhY3R1YWxseSBmaXJlXHJcbiAgICAvLyB0aGlzIGlzIHRlY2huaWNhbGx5IGJyb3dzZXItc3BlY2lmaWMsIGJ1dCBhdCBsZWFzdCBmb3Igbm93IGJyb3dzZXJzIGFyZVxyXG4gICAgLy8gdGhlIG9ubHkgdGFyZ2V0IGVudnMgdGhhdCBoYXZlIHJpZ2h0L21pZGRsZSBjbGlja3MuXHJcbiAgICBpZiAobW9kaWZpZXJzLnJpZ2h0KSB7XHJcbiAgICAgICAgaWYgKGR5bmFtaWMpIHtcclxuICAgICAgICAgICAgbmFtZSA9IFwiKFwiLmNvbmNhdChuYW1lLCBcIik9PT0nY2xpY2snPydjb250ZXh0bWVudSc6KFwiKS5jb25jYXQobmFtZSwgXCIpXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuYW1lID09PSAnY2xpY2snKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSAnY29udGV4dG1lbnUnO1xyXG4gICAgICAgICAgICBkZWxldGUgbW9kaWZpZXJzLnJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG1vZGlmaWVycy5taWRkbGUpIHtcclxuICAgICAgICBpZiAoZHluYW1pYykge1xyXG4gICAgICAgICAgICBuYW1lID0gXCIoXCIuY29uY2F0KG5hbWUsIFwiKT09PSdjbGljayc/J21vdXNldXAnOihcIikuY29uY2F0KG5hbWUsIFwiKVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmFtZSA9PT0gJ2NsaWNrJykge1xyXG4gICAgICAgICAgICBuYW1lID0gJ21vdXNldXAnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGNoZWNrIGNhcHR1cmUgbW9kaWZpZXJcclxuICAgIGlmIChtb2RpZmllcnMuY2FwdHVyZSkge1xyXG4gICAgICAgIGRlbGV0ZSBtb2RpZmllcnMuY2FwdHVyZTtcclxuICAgICAgICBuYW1lID0gcHJlcGVuZE1vZGlmaWVyTWFya2VyKCchJywgbmFtZSwgZHluYW1pYyk7XHJcbiAgICB9XHJcbiAgICBpZiAobW9kaWZpZXJzLm9uY2UpIHtcclxuICAgICAgICBkZWxldGUgbW9kaWZpZXJzLm9uY2U7XHJcbiAgICAgICAgbmFtZSA9IHByZXBlbmRNb2RpZmllck1hcmtlcignficsIG5hbWUsIGR5bmFtaWMpO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAobW9kaWZpZXJzLnBhc3NpdmUpIHtcclxuICAgICAgICBkZWxldGUgbW9kaWZpZXJzLnBhc3NpdmU7XHJcbiAgICAgICAgbmFtZSA9IHByZXBlbmRNb2RpZmllck1hcmtlcignJicsIG5hbWUsIGR5bmFtaWMpO1xyXG4gICAgfVxyXG4gICAgdmFyIGV2ZW50cztcclxuICAgIGlmIChtb2RpZmllcnMubmF0aXZlKSB7XHJcbiAgICAgICAgZGVsZXRlIG1vZGlmaWVycy5uYXRpdmU7XHJcbiAgICAgICAgZXZlbnRzID0gZWwubmF0aXZlRXZlbnRzIHx8IChlbC5uYXRpdmVFdmVudHMgPSB7fSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBldmVudHMgPSBlbC5ldmVudHMgfHwgKGVsLmV2ZW50cyA9IHt9KTtcclxuICAgIH1cclxuICAgIHZhciBuZXdIYW5kbGVyID0gcmFuZ2VTZXRJdGVtKHsgdmFsdWU6IHZhbHVlLnRyaW0oKSwgZHluYW1pYzogZHluYW1pYyB9LCByYW5nZSk7XHJcbiAgICBpZiAobW9kaWZpZXJzICE9PSBlbXB0eU9iamVjdCkge1xyXG4gICAgICAgIG5ld0hhbmRsZXIubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xyXG4gICAgfVxyXG4gICAgdmFyIGhhbmRsZXJzID0gZXZlbnRzW25hbWVdO1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVycykpIHtcclxuICAgICAgICBpbXBvcnRhbnQgPyBoYW5kbGVycy51bnNoaWZ0KG5ld0hhbmRsZXIpIDogaGFuZGxlcnMucHVzaChuZXdIYW5kbGVyKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhhbmRsZXJzKSB7XHJcbiAgICAgICAgZXZlbnRzW25hbWVdID0gaW1wb3J0YW50ID8gW25ld0hhbmRsZXIsIGhhbmRsZXJzXSA6IFtoYW5kbGVycywgbmV3SGFuZGxlcl07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBldmVudHNbbmFtZV0gPSBuZXdIYW5kbGVyO1xyXG4gICAgfVxyXG4gICAgZWwucGxhaW4gPSBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBnZXRSYXdCaW5kaW5nQXR0cihlbCwgbmFtZSkge1xyXG4gICAgcmV0dXJuIChlbC5yYXdBdHRyc01hcFsnOicgKyBuYW1lXSB8fFxyXG4gICAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LWJpbmQ6JyArIG5hbWVdIHx8XHJcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbbmFtZV0pO1xyXG59XHJcbmZ1bmN0aW9uIGdldEJpbmRpbmdBdHRyKGVsLCBuYW1lLCBnZXRTdGF0aWMpIHtcclxuICAgIHZhciBkeW5hbWljVmFsdWUgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnOicgKyBuYW1lKSB8fCBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1iaW5kOicgKyBuYW1lKTtcclxuICAgIGlmIChkeW5hbWljVmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZpbHRlcnMoZHluYW1pY1ZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGdldFN0YXRpYyAhPT0gZmFsc2UpIHtcclxuICAgICAgICB2YXIgc3RhdGljVmFsdWUgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCBuYW1lKTtcclxuICAgICAgICBpZiAoc3RhdGljVmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RhdGljVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBub3RlOiB0aGlzIG9ubHkgcmVtb3ZlcyB0aGUgYXR0ciBmcm9tIHRoZSBBcnJheSAoYXR0cnNMaXN0KSBzbyB0aGF0IGl0XHJcbi8vIGRvZXNuJ3QgZ2V0IHByb2Nlc3NlZCBieSBwcm9jZXNzQXR0cnMuXHJcbi8vIEJ5IGRlZmF1bHQgaXQgZG9lcyBOT1QgcmVtb3ZlIGl0IGZyb20gdGhlIG1hcCAoYXR0cnNNYXApIGJlY2F1c2UgdGhlIG1hcCBpc1xyXG4vLyBuZWVkZWQgZHVyaW5nIGNvZGVnZW4uXHJcbmZ1bmN0aW9uIGdldEFuZFJlbW92ZUF0dHIoZWwsIG5hbWUsIHJlbW92ZUZyb21NYXApIHtcclxuICAgIHZhciB2YWw7XHJcbiAgICBpZiAoKHZhbCA9IGVsLmF0dHJzTWFwW25hbWVdKSAhPSBudWxsKSB7XHJcbiAgICAgICAgdmFyIGxpc3QgPSBlbC5hdHRyc0xpc3Q7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBsaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobGlzdFtpXS5uYW1lID09PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlbW92ZUZyb21NYXApIHtcclxuICAgICAgICBkZWxldGUgZWwuYXR0cnNNYXBbbmFtZV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsO1xyXG59XHJcbmZ1bmN0aW9uIGdldEFuZFJlbW92ZUF0dHJCeVJlZ2V4KGVsLCBuYW1lKSB7XHJcbiAgICB2YXIgbGlzdCA9IGVsLmF0dHJzTGlzdDtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICB2YXIgYXR0ciA9IGxpc3RbaV07XHJcbiAgICAgICAgaWYgKG5hbWUudGVzdChhdHRyLm5hbWUpKSB7XHJcbiAgICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gYXR0cjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmFuZ2VTZXRJdGVtKGl0ZW0sIHJhbmdlKSB7XHJcbiAgICBpZiAocmFuZ2UpIHtcclxuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpdGVtLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyYW5nZS5lbmQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpdGVtLmVuZCA9IHJhbmdlLmVuZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXRlbTtcclxufVxuXG4vKipcclxuICogQ3Jvc3MtcGxhdGZvcm0gY29kZSBnZW5lcmF0aW9uIGZvciBjb21wb25lbnQgdi1tb2RlbFxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuQ29tcG9uZW50TW9kZWwoZWwsIHZhbHVlLCBtb2RpZmllcnMpIHtcclxuICAgIHZhciBfYSA9IG1vZGlmaWVycyB8fCB7fSwgbnVtYmVyID0gX2EubnVtYmVyLCB0cmltID0gX2EudHJpbTtcclxuICAgIHZhciBiYXNlVmFsdWVFeHByZXNzaW9uID0gJyQkdic7XHJcbiAgICB2YXIgdmFsdWVFeHByZXNzaW9uID0gYmFzZVZhbHVlRXhwcmVzc2lvbjtcclxuICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgdmFsdWVFeHByZXNzaW9uID1cclxuICAgICAgICAgICAgXCIodHlwZW9mIFwiLmNvbmNhdChiYXNlVmFsdWVFeHByZXNzaW9uLCBcIiA9PT0gJ3N0cmluZydcIikgK1xyXG4gICAgICAgICAgICAgICAgXCI/IFwiLmNvbmNhdChiYXNlVmFsdWVFeHByZXNzaW9uLCBcIi50cmltKClcIikgK1xyXG4gICAgICAgICAgICAgICAgXCI6IFwiLmNvbmNhdChiYXNlVmFsdWVFeHByZXNzaW9uLCBcIilcIik7XHJcbiAgICB9XHJcbiAgICBpZiAobnVtYmVyKSB7XHJcbiAgICAgICAgdmFsdWVFeHByZXNzaW9uID0gXCJfbihcIi5jb25jYXQodmFsdWVFeHByZXNzaW9uLCBcIilcIik7XHJcbiAgICB9XHJcbiAgICB2YXIgYXNzaWdubWVudCA9IGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCB2YWx1ZUV4cHJlc3Npb24pO1xyXG4gICAgZWwubW9kZWwgPSB7XHJcbiAgICAgICAgdmFsdWU6IFwiKFwiLmNvbmNhdCh2YWx1ZSwgXCIpXCIpLFxyXG4gICAgICAgIGV4cHJlc3Npb246IEpTT04uc3RyaW5naWZ5KHZhbHVlKSxcclxuICAgICAgICBjYWxsYmFjazogXCJmdW5jdGlvbiAoXCIuY29uY2F0KGJhc2VWYWx1ZUV4cHJlc3Npb24sIFwiKSB7XCIpLmNvbmNhdChhc3NpZ25tZW50LCBcIn1cIilcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENyb3NzLXBsYXRmb3JtIGNvZGVnZW4gaGVscGVyIGZvciBnZW5lcmF0aW5nIHYtbW9kZWwgdmFsdWUgYXNzaWdubWVudCBjb2RlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIGFzc2lnbm1lbnQpIHtcclxuICAgIHZhciByZXMgPSBwYXJzZU1vZGVsKHZhbHVlKTtcclxuICAgIGlmIChyZXMua2V5ID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHZhbHVlLCBcIj1cIikuY29uY2F0KGFzc2lnbm1lbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFwiJHNldChcIi5jb25jYXQocmVzLmV4cCwgXCIsIFwiKS5jb25jYXQocmVzLmtleSwgXCIsIFwiKS5jb25jYXQoYXNzaWdubWVudCwgXCIpXCIpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBQYXJzZSBhIHYtbW9kZWwgZXhwcmVzc2lvbiBpbnRvIGEgYmFzZSBwYXRoIGFuZCBhIGZpbmFsIGtleSBzZWdtZW50LlxyXG4gKiBIYW5kbGVzIGJvdGggZG90LXBhdGggYW5kIHBvc3NpYmxlIHNxdWFyZSBicmFja2V0cy5cclxuICpcclxuICogUG9zc2libGUgY2FzZXM6XHJcbiAqXHJcbiAqIC0gdGVzdFxyXG4gKiAtIHRlc3Rba2V5XVxyXG4gKiAtIHRlc3RbdGVzdDFba2V5XV1cclxuICogLSB0ZXN0W1wiYVwiXVtrZXldXHJcbiAqIC0geHh4LnRlc3RbYVthXS50ZXN0MVtrZXldXVxyXG4gKiAtIHRlc3QueHh4LmFbXCJhc2FcIl1bdGVzdDFba2V5XV1cclxuICpcclxuICovXHJcbnZhciBsZW4sIHN0ciwgY2hyLCBpbmRleCwgZXhwcmVzc2lvblBvcywgZXhwcmVzc2lvbkVuZFBvcztcclxuZnVuY3Rpb24gcGFyc2VNb2RlbCh2YWwpIHtcclxuICAgIC8vIEZpeCBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlL3B1bGwvNzczMFxyXG4gICAgLy8gYWxsb3cgdi1tb2RlbD1cIm9iai52YWwgXCIgKHRyYWlsaW5nIHdoaXRlc3BhY2UpXHJcbiAgICB2YWwgPSB2YWwudHJpbSgpO1xyXG4gICAgbGVuID0gdmFsLmxlbmd0aDtcclxuICAgIGlmICh2YWwuaW5kZXhPZignWycpIDwgMCB8fCB2YWwubGFzdEluZGV4T2YoJ10nKSA8IGxlbiAtIDEpIHtcclxuICAgICAgICBpbmRleCA9IHZhbC5sYXN0SW5kZXhPZignLicpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBleHA6IHZhbC5zbGljZSgwLCBpbmRleCksXHJcbiAgICAgICAgICAgICAgICBrZXk6ICdcIicgKyB2YWwuc2xpY2UoaW5kZXggKyAxKSArICdcIidcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBleHA6IHZhbCxcclxuICAgICAgICAgICAgICAgIGtleTogbnVsbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0ciA9IHZhbDtcclxuICAgIGluZGV4ID0gZXhwcmVzc2lvblBvcyA9IGV4cHJlc3Npb25FbmRQb3MgPSAwO1xyXG4gICAgd2hpbGUgKCFlb2YoKSkge1xyXG4gICAgICAgIGNociA9IG5leHQoKTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7XHJcbiAgICAgICAgICAgIHBhcnNlU3RyaW5nKGNocik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNociA9PT0gMHg1Yikge1xyXG4gICAgICAgICAgICBwYXJzZUJyYWNrZXQoY2hyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGV4cDogdmFsLnNsaWNlKDAsIGV4cHJlc3Npb25Qb3MpLFxyXG4gICAgICAgIGtleTogdmFsLnNsaWNlKGV4cHJlc3Npb25Qb3MgKyAxLCBleHByZXNzaW9uRW5kUG9zKVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KCsraW5kZXgpO1xyXG59XHJcbmZ1bmN0aW9uIGVvZigpIHtcclxuICAgIHJldHVybiBpbmRleCA+PSBsZW47XHJcbn1cclxuZnVuY3Rpb24gaXNTdHJpbmdTdGFydChjaHIpIHtcclxuICAgIHJldHVybiBjaHIgPT09IDB4MjIgfHwgY2hyID09PSAweDI3O1xyXG59XHJcbmZ1bmN0aW9uIHBhcnNlQnJhY2tldChjaHIpIHtcclxuICAgIHZhciBpbkJyYWNrZXQgPSAxO1xyXG4gICAgZXhwcmVzc2lvblBvcyA9IGluZGV4O1xyXG4gICAgd2hpbGUgKCFlb2YoKSkge1xyXG4gICAgICAgIGNociA9IG5leHQoKTtcclxuICAgICAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7XHJcbiAgICAgICAgICAgIHBhcnNlU3RyaW5nKGNocik7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hyID09PSAweDViKVxyXG4gICAgICAgICAgICBpbkJyYWNrZXQrKztcclxuICAgICAgICBpZiAoY2hyID09PSAweDVkKVxyXG4gICAgICAgICAgICBpbkJyYWNrZXQtLTtcclxuICAgICAgICBpZiAoaW5CcmFja2V0ID09PSAwKSB7XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb25FbmRQb3MgPSBpbmRleDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nKGNocikge1xyXG4gICAgdmFyIHN0cmluZ1F1b3RlID0gY2hyO1xyXG4gICAgd2hpbGUgKCFlb2YoKSkge1xyXG4gICAgICAgIGNociA9IG5leHQoKTtcclxuICAgICAgICBpZiAoY2hyID09PSBzdHJpbmdRdW90ZSkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxudmFyIHdhcm4kMTtcclxuLy8gaW4gc29tZSBjYXNlcywgdGhlIGV2ZW50IHVzZWQgaGFzIHRvIGJlIGRldGVybWluZWQgYXQgcnVudGltZVxyXG4vLyBzbyB3ZSB1c2VkIHNvbWUgcmVzZXJ2ZWQgdG9rZW5zIGR1cmluZyBjb21waWxlLlxyXG52YXIgUkFOR0VfVE9LRU4gPSAnX19yJztcclxudmFyIENIRUNLQk9YX1JBRElPX1RPS0VOID0gJ19fYyc7XHJcbmZ1bmN0aW9uIG1vZGVsJDEoZWwsIGRpciwgX3dhcm4pIHtcclxuICAgIHdhcm4kMSA9IF93YXJuO1xyXG4gICAgdmFyIHZhbHVlID0gZGlyLnZhbHVlO1xyXG4gICAgdmFyIG1vZGlmaWVycyA9IGRpci5tb2RpZmllcnM7XHJcbiAgICB2YXIgdGFnID0gZWwudGFnO1xyXG4gICAgdmFyIHR5cGUgPSBlbC5hdHRyc01hcC50eXBlO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAvLyBpbnB1dHMgd2l0aCB0eXBlPVwiZmlsZVwiIGFyZSByZWFkIG9ubHkgYW5kIHNldHRpbmcgdGhlIGlucHV0J3NcclxuICAgICAgICAvLyB2YWx1ZSB3aWxsIHRocm93IGFuIGVycm9yLlxyXG4gICAgICAgIGlmICh0YWcgPT09ICdpbnB1dCcgJiYgdHlwZSA9PT0gJ2ZpbGUnKSB7XHJcbiAgICAgICAgICAgIHdhcm4kMShcIjxcIi5jb25jYXQoZWwudGFnLCBcIiB2LW1vZGVsPVxcXCJcIikuY29uY2F0KHZhbHVlLCBcIlxcXCIgdHlwZT1cXFwiZmlsZVxcXCI+OlxcblwiKSArXHJcbiAgICAgICAgICAgICAgICBcIkZpbGUgaW5wdXRzIGFyZSByZWFkIG9ubHkuIFVzZSBhIHYtb246Y2hhbmdlIGxpc3RlbmVyIGluc3RlYWQuXCIsIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChlbC5jb21wb25lbnQpIHtcclxuICAgICAgICBnZW5Db21wb25lbnRNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7XHJcbiAgICAgICAgLy8gY29tcG9uZW50IHYtbW9kZWwgZG9lc24ndCBuZWVkIGV4dHJhIHJ1bnRpbWVcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0YWcgPT09ICdzZWxlY3QnKSB7XHJcbiAgICAgICAgZ2VuU2VsZWN0KGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRhZyA9PT0gJ2lucHV0JyAmJiB0eXBlID09PSAnY2hlY2tib3gnKSB7XHJcbiAgICAgICAgZ2VuQ2hlY2tib3hNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0YWcgPT09ICdpbnB1dCcgJiYgdHlwZSA9PT0gJ3JhZGlvJykge1xyXG4gICAgICAgIGdlblJhZGlvTW9kZWwoZWwsIHZhbHVlLCBtb2RpZmllcnMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGFnID09PSAnaW5wdXQnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJykge1xyXG4gICAgICAgIGdlbkRlZmF1bHRNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkge1xyXG4gICAgICAgIGdlbkNvbXBvbmVudE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcclxuICAgICAgICAvLyBjb21wb25lbnQgdi1tb2RlbCBkb2Vzbid0IG5lZWQgZXh0cmEgcnVudGltZVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICB3YXJuJDEoXCI8XCIuY29uY2F0KGVsLnRhZywgXCIgdi1tb2RlbD1cXFwiXCIpLmNvbmNhdCh2YWx1ZSwgXCJcXFwiPjogXCIpICtcclxuICAgICAgICAgICAgXCJ2LW1vZGVsIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBlbGVtZW50IHR5cGUuIFwiICtcclxuICAgICAgICAgICAgXCJJZiB5b3UgYXJlIHdvcmtpbmcgd2l0aCBjb250ZW50ZWRpdGFibGUsIGl0J3MgcmVjb21tZW5kZWQgdG8gXCIgK1xyXG4gICAgICAgICAgICAnd3JhcCBhIGxpYnJhcnkgZGVkaWNhdGVkIGZvciB0aGF0IHB1cnBvc2UgaW5zaWRlIGEgY3VzdG9tIGNvbXBvbmVudC4nLCBlbC5yYXdBdHRyc01hcFsndi1tb2RlbCddKTtcclxuICAgIH1cclxuICAgIC8vIGVuc3VyZSBydW50aW1lIGRpcmVjdGl2ZSBtZXRhZGF0YVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuZnVuY3Rpb24gZ2VuQ2hlY2tib3hNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycykge1xyXG4gICAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyO1xyXG4gICAgdmFyIHZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndmFsdWUnKSB8fCAnbnVsbCc7XHJcbiAgICB2YXIgdHJ1ZVZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndHJ1ZS12YWx1ZScpIHx8ICd0cnVlJztcclxuICAgIHZhciBmYWxzZVZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnZmFsc2UtdmFsdWUnKSB8fCAnZmFsc2UnO1xyXG4gICAgYWRkUHJvcChlbCwgJ2NoZWNrZWQnLCBcIkFycmF5LmlzQXJyYXkoXCIuY29uY2F0KHZhbHVlLCBcIilcIikgK1xyXG4gICAgICAgIFwiP19pKFwiLmNvbmNhdCh2YWx1ZSwgXCIsXCIpLmNvbmNhdCh2YWx1ZUJpbmRpbmcsIFwiKT4tMVwiKSArXHJcbiAgICAgICAgKHRydWVWYWx1ZUJpbmRpbmcgPT09ICd0cnVlJ1xyXG4gICAgICAgICAgICA/IFwiOihcIi5jb25jYXQodmFsdWUsIFwiKVwiKVxyXG4gICAgICAgICAgICA6IFwiOl9xKFwiLmNvbmNhdCh2YWx1ZSwgXCIsXCIpLmNvbmNhdCh0cnVlVmFsdWVCaW5kaW5nLCBcIilcIikpKTtcclxuICAgIGFkZEhhbmRsZXIoZWwsICdjaGFuZ2UnLCBcInZhciAkJGE9XCIuY29uY2F0KHZhbHVlLCBcIixcIikgK1xyXG4gICAgICAgICckJGVsPSRldmVudC50YXJnZXQsJyArXHJcbiAgICAgICAgXCIkJGM9JCRlbC5jaGVja2VkPyhcIi5jb25jYXQodHJ1ZVZhbHVlQmluZGluZywgXCIpOihcIikuY29uY2F0KGZhbHNlVmFsdWVCaW5kaW5nLCBcIik7XCIpICtcclxuICAgICAgICAnaWYoQXJyYXkuaXNBcnJheSgkJGEpKXsnICtcclxuICAgICAgICBcInZhciAkJHY9XCIuY29uY2F0KG51bWJlciA/ICdfbignICsgdmFsdWVCaW5kaW5nICsgJyknIDogdmFsdWVCaW5kaW5nLCBcIixcIikgK1xyXG4gICAgICAgICckJGk9X2koJCRhLCQkdik7JyArXHJcbiAgICAgICAgXCJpZigkJGVsLmNoZWNrZWQpeyQkaTwwJiYoXCIuY29uY2F0KGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLmNvbmNhdChbJCR2XSknKSwgXCIpfVwiKSArXHJcbiAgICAgICAgXCJlbHNleyQkaT4tMSYmKFwiLmNvbmNhdChnZW5Bc3NpZ25tZW50Q29kZSh2YWx1ZSwgJyQkYS5zbGljZSgwLCQkaSkuY29uY2F0KCQkYS5zbGljZSgkJGkrMSkpJyksIFwiKX1cIikgK1xyXG4gICAgICAgIFwifWVsc2V7XCIuY29uY2F0KGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRjJyksIFwifVwiKSwgbnVsbCwgdHJ1ZSk7XHJcbn1cclxuZnVuY3Rpb24gZ2VuUmFkaW9Nb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycykge1xyXG4gICAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyO1xyXG4gICAgdmFyIHZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndmFsdWUnKSB8fCAnbnVsbCc7XHJcbiAgICB2YWx1ZUJpbmRpbmcgPSBudW1iZXIgPyBcIl9uKFwiLmNvbmNhdCh2YWx1ZUJpbmRpbmcsIFwiKVwiKSA6IHZhbHVlQmluZGluZztcclxuICAgIGFkZFByb3AoZWwsICdjaGVja2VkJywgXCJfcShcIi5jb25jYXQodmFsdWUsIFwiLFwiKS5jb25jYXQodmFsdWVCaW5kaW5nLCBcIilcIikpO1xyXG4gICAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsIGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCB2YWx1ZUJpbmRpbmcpLCBudWxsLCB0cnVlKTtcclxufVxyXG5mdW5jdGlvbiBnZW5TZWxlY3QoZWwsIHZhbHVlLCBtb2RpZmllcnMpIHtcclxuICAgIHZhciBudW1iZXIgPSBtb2RpZmllcnMgJiYgbW9kaWZpZXJzLm51bWJlcjtcclxuICAgIHZhciBzZWxlY3RlZFZhbCA9IFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiICtcclxuICAgICAgICBcIi5jYWxsKCRldmVudC50YXJnZXQub3B0aW9ucyxmdW5jdGlvbihvKXtyZXR1cm4gby5zZWxlY3RlZH0pXCIgK1xyXG4gICAgICAgIFwiLm1hcChmdW5jdGlvbihvKXt2YXIgdmFsID0gXFxcIl92YWx1ZVxcXCIgaW4gbyA/IG8uX3ZhbHVlIDogby52YWx1ZTtcIiArXHJcbiAgICAgICAgXCJyZXR1cm4gXCIuY29uY2F0KG51bWJlciA/ICdfbih2YWwpJyA6ICd2YWwnLCBcIn0pXCIpO1xyXG4gICAgdmFyIGFzc2lnbm1lbnQgPSAnJGV2ZW50LnRhcmdldC5tdWx0aXBsZSA/ICQkc2VsZWN0ZWRWYWwgOiAkJHNlbGVjdGVkVmFsWzBdJztcclxuICAgIHZhciBjb2RlID0gXCJ2YXIgJCRzZWxlY3RlZFZhbCA9IFwiLmNvbmNhdChzZWxlY3RlZFZhbCwgXCI7XCIpO1xyXG4gICAgY29kZSA9IFwiXCIuY29uY2F0KGNvZGUsIFwiIFwiKS5jb25jYXQoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIGFzc2lnbm1lbnQpKTtcclxuICAgIGFkZEhhbmRsZXIoZWwsICdjaGFuZ2UnLCBjb2RlLCBudWxsLCB0cnVlKTtcclxufVxyXG5mdW5jdGlvbiBnZW5EZWZhdWx0TW9kZWwoZWwsIHZhbHVlLCBtb2RpZmllcnMpIHtcclxuICAgIHZhciB0eXBlID0gZWwuYXR0cnNNYXAudHlwZTtcclxuICAgIC8vIHdhcm4gaWYgdi1iaW5kOnZhbHVlIGNvbmZsaWN0cyB3aXRoIHYtbW9kZWxcclxuICAgIC8vIGV4Y2VwdCBmb3IgaW5wdXRzIHdpdGggdi1iaW5kOnR5cGVcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlXzEgPSBlbC5hdHRyc01hcFsndi1iaW5kOnZhbHVlJ10gfHwgZWwuYXR0cnNNYXBbJzp2YWx1ZSddO1xyXG4gICAgICAgIHZhciB0eXBlQmluZGluZyA9IGVsLmF0dHJzTWFwWyd2LWJpbmQ6dHlwZSddIHx8IGVsLmF0dHJzTWFwWyc6dHlwZSddO1xyXG4gICAgICAgIGlmICh2YWx1ZV8xICYmICF0eXBlQmluZGluZykge1xyXG4gICAgICAgICAgICB2YXIgYmluZGluZyA9IGVsLmF0dHJzTWFwWyd2LWJpbmQ6dmFsdWUnXSA/ICd2LWJpbmQ6dmFsdWUnIDogJzp2YWx1ZSc7XHJcbiAgICAgICAgICAgIHdhcm4kMShcIlwiLmNvbmNhdChiaW5kaW5nLCBcIj1cXFwiXCIpLmNvbmNhdCh2YWx1ZV8xLCBcIlxcXCIgY29uZmxpY3RzIHdpdGggdi1tb2RlbCBvbiB0aGUgc2FtZSBlbGVtZW50IFwiKSArXHJcbiAgICAgICAgICAgICAgICAnYmVjYXVzZSB0aGUgbGF0dGVyIGFscmVhZHkgZXhwYW5kcyB0byBhIHZhbHVlIGJpbmRpbmcgaW50ZXJuYWxseScsIGVsLnJhd0F0dHJzTWFwW2JpbmRpbmddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgX2EgPSBtb2RpZmllcnMgfHwge30sIGxhenkgPSBfYS5sYXp5LCBudW1iZXIgPSBfYS5udW1iZXIsIHRyaW0gPSBfYS50cmltO1xyXG4gICAgdmFyIG5lZWRDb21wb3NpdGlvbkd1YXJkID0gIWxhenkgJiYgdHlwZSAhPT0gJ3JhbmdlJztcclxuICAgIHZhciBldmVudCA9IGxhenkgPyAnY2hhbmdlJyA6IHR5cGUgPT09ICdyYW5nZScgPyBSQU5HRV9UT0tFTiA6ICdpbnB1dCc7XHJcbiAgICB2YXIgdmFsdWVFeHByZXNzaW9uID0gJyRldmVudC50YXJnZXQudmFsdWUnO1xyXG4gICAgaWYgKHRyaW0pIHtcclxuICAgICAgICB2YWx1ZUV4cHJlc3Npb24gPSBcIiRldmVudC50YXJnZXQudmFsdWUudHJpbSgpXCI7XHJcbiAgICB9XHJcbiAgICBpZiAobnVtYmVyKSB7XHJcbiAgICAgICAgdmFsdWVFeHByZXNzaW9uID0gXCJfbihcIi5jb25jYXQodmFsdWVFeHByZXNzaW9uLCBcIilcIik7XHJcbiAgICB9XHJcbiAgICB2YXIgY29kZSA9IGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCB2YWx1ZUV4cHJlc3Npb24pO1xyXG4gICAgaWYgKG5lZWRDb21wb3NpdGlvbkd1YXJkKSB7XHJcbiAgICAgICAgY29kZSA9IFwiaWYoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpcmV0dXJuO1wiLmNvbmNhdChjb2RlKTtcclxuICAgIH1cclxuICAgIGFkZFByb3AoZWwsICd2YWx1ZScsIFwiKFwiLmNvbmNhdCh2YWx1ZSwgXCIpXCIpKTtcclxuICAgIGFkZEhhbmRsZXIoZWwsIGV2ZW50LCBjb2RlLCBudWxsLCB0cnVlKTtcclxuICAgIGlmICh0cmltIHx8IG51bWJlcikge1xyXG4gICAgICAgIGFkZEhhbmRsZXIoZWwsICdibHVyJywgJyRmb3JjZVVwZGF0ZSgpJyk7XHJcbiAgICB9XHJcbn1cblxuLy8gbm9ybWFsaXplIHYtbW9kZWwgZXZlbnQgdG9rZW5zIHRoYXQgY2FuIG9ubHkgYmUgZGV0ZXJtaW5lZCBhdCBydW50aW1lLlxyXG4vLyBpdCdzIGltcG9ydGFudCB0byBwbGFjZSB0aGUgZXZlbnQgYXMgdGhlIGZpcnN0IGluIHRoZSBhcnJheSBiZWNhdXNlXHJcbi8vIHRoZSB3aG9sZSBwb2ludCBpcyBlbnN1cmluZyB0aGUgdi1tb2RlbCBjYWxsYmFjayBnZXRzIGNhbGxlZCBiZWZvcmVcclxuLy8gdXNlci1hdHRhY2hlZCBoYW5kbGVycy5cclxuZnVuY3Rpb24gbm9ybWFsaXplRXZlbnRzKG9uKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChpc0RlZihvbltSQU5HRV9UT0tFTl0pKSB7XHJcbiAgICAgICAgLy8gSUUgaW5wdXRbdHlwZT1yYW5nZV0gb25seSBzdXBwb3J0cyBgY2hhbmdlYCBldmVudFxyXG4gICAgICAgIHZhciBldmVudF8xID0gaXNJRSA/ICdjaGFuZ2UnIDogJ2lucHV0JztcclxuICAgICAgICBvbltldmVudF8xXSA9IFtdLmNvbmNhdChvbltSQU5HRV9UT0tFTl0sIG9uW2V2ZW50XzFdIHx8IFtdKTtcclxuICAgICAgICBkZWxldGUgb25bUkFOR0VfVE9LRU5dO1xyXG4gICAgfVxyXG4gICAgLy8gVGhpcyB3YXMgb3JpZ2luYWxseSBpbnRlbmRlZCB0byBmaXggIzQ1MjEgYnV0IG5vIGxvbmdlciBuZWNlc3NhcnlcclxuICAgIC8vIGFmdGVyIDIuNS4gS2VlcGluZyBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIGdlbmVyYXRlZCBjb2RlIGZyb20gPCAyLjRcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGlzRGVmKG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSkpIHtcclxuICAgICAgICBvbi5jaGFuZ2UgPSBbXS5jb25jYXQob25bQ0hFQ0tCT1hfUkFESU9fVE9LRU5dLCBvbi5jaGFuZ2UgfHwgW10pO1xyXG4gICAgICAgIGRlbGV0ZSBvbltDSEVDS0JPWF9SQURJT19UT0tFTl07XHJcbiAgICB9XHJcbn1cclxudmFyIHRhcmdldDtcclxuZnVuY3Rpb24gY3JlYXRlT25jZUhhbmRsZXIoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHtcclxuICAgIHZhciBfdGFyZ2V0ID0gdGFyZ2V0OyAvLyBzYXZlIGN1cnJlbnQgdGFyZ2V0IGVsZW1lbnQgaW4gY2xvc3VyZVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xyXG4gICAgICAgIHZhciByZXMgPSBoYW5kbGVyLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgaWYgKHJlcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZW1vdmUoZXZlbnQsIG9uY2VIYW5kbGVyLCBjYXB0dXJlLCBfdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbi8vICM5NDQ2OiBGaXJlZm94IDw9IDUzIChpbiBwYXJ0aWN1bGFyLCBFU1IgNTIpIGhhcyBpbmNvcnJlY3QgRXZlbnQudGltZVN0YW1wXHJcbi8vIGltcGxlbWVudGF0aW9uIGFuZCBkb2VzIG5vdCBmaXJlIG1pY3JvdGFza3MgaW4gYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbiwgc29cclxuLy8gc2FmZSB0byBleGNsdWRlLlxyXG52YXIgdXNlTWljcm90YXNrRml4ID0gaXNVc2luZ01pY3JvVGFzayAmJiAhKGlzRkYgJiYgTnVtYmVyKGlzRkZbMV0pIDw9IDUzKTtcclxuZnVuY3Rpb24gYWRkKG5hbWUsIGhhbmRsZXIsIGNhcHR1cmUsIHBhc3NpdmUpIHtcclxuICAgIC8vIGFzeW5jIGVkZ2UgY2FzZSAjNjU2NjogaW5uZXIgY2xpY2sgZXZlbnQgdHJpZ2dlcnMgcGF0Y2gsIGV2ZW50IGhhbmRsZXJcclxuICAgIC8vIGF0dGFjaGVkIHRvIG91dGVyIGVsZW1lbnQgZHVyaW5nIHBhdGNoLCBhbmQgdHJpZ2dlcmVkIGFnYWluLiBUaGlzXHJcbiAgICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cclxuICAgIC8vIHRoZSBzb2x1dGlvbiBpcyBzaW1wbGU6IHdlIHNhdmUgdGhlIHRpbWVzdGFtcCB3aGVuIGEgaGFuZGxlciBpcyBhdHRhY2hlZCxcclxuICAgIC8vIGFuZCB0aGUgaGFuZGxlciB3b3VsZCBvbmx5IGZpcmUgaWYgdGhlIGV2ZW50IHBhc3NlZCB0byBpdCB3YXMgZmlyZWRcclxuICAgIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cclxuICAgIGlmICh1c2VNaWNyb3Rhc2tGaXgpIHtcclxuICAgICAgICB2YXIgYXR0YWNoZWRUaW1lc3RhbXBfMSA9IGN1cnJlbnRGbHVzaFRpbWVzdGFtcDtcclxuICAgICAgICB2YXIgb3JpZ2luYWxfMSA9IGhhbmRsZXI7XHJcbiAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgaGFuZGxlciA9IG9yaWdpbmFsXzEuX3dyYXBwZXIgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIC8vIG5vIGJ1YmJsaW5nLCBzaG91bGQgYWx3YXlzIGZpcmUuXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMganVzdCBhIHNhZmV0eSBuZXQgaW4gY2FzZSBldmVudC50aW1lU3RhbXAgaXMgdW5yZWxpYWJsZSBpblxyXG4gICAgICAgICAgICAvLyBjZXJ0YWluIHdlaXJkIGVudmlyb25tZW50cy4uLlxyXG4gICAgICAgICAgICBlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0IHx8XHJcbiAgICAgICAgICAgICAgICAvLyBldmVudCBpcyBmaXJlZCBhZnRlciBoYW5kbGVyIGF0dGFjaG1lbnRcclxuICAgICAgICAgICAgICAgIGUudGltZVN0YW1wID49IGF0dGFjaGVkVGltZXN0YW1wXzEgfHxcclxuICAgICAgICAgICAgICAgIC8vIGJhaWwgZm9yIGVudmlyb25tZW50cyB0aGF0IGhhdmUgYnVnZ3kgZXZlbnQudGltZVN0YW1wIGltcGxlbWVudGF0aW9uc1xyXG4gICAgICAgICAgICAgICAgLy8gIzk0NjIgaU9TIDkgYnVnOiBldmVudC50aW1lU3RhbXAgaXMgMCBhZnRlciBoaXN0b3J5LnB1c2hTdGF0ZVxyXG4gICAgICAgICAgICAgICAgLy8gIzk2ODEgUXRXZWJFbmdpbmUgZXZlbnQudGltZVN0YW1wIGlzIG5lZ2F0aXZlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICBlLnRpbWVTdGFtcCA8PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAvLyAjOTQ0OCBiYWlsIGlmIGV2ZW50IGlzIGZpcmVkIGluIGFub3RoZXIgZG9jdW1lbnQgaW4gYSBtdWx0aS1wYWdlXHJcbiAgICAgICAgICAgICAgICAvLyBlbGVjdHJvbi9udy5qcyBhcHAsIHNpbmNlIGV2ZW50LnRpbWVTdGFtcCB3aWxsIGJlIHVzaW5nIGEgZGlmZmVyZW50XHJcbiAgICAgICAgICAgICAgICAvLyBzdGFydGluZyByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0Lm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIsIHN1cHBvcnRzUGFzc2l2ZSA/IHsgY2FwdHVyZTogY2FwdHVyZSwgcGFzc2l2ZTogcGFzc2l2ZSB9IDogY2FwdHVyZSk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlKG5hbWUsIGhhbmRsZXIsIGNhcHR1cmUsIF90YXJnZXQpIHtcclxuICAgIChfdGFyZ2V0IHx8IHRhcmdldCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBcclxuICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgaGFuZGxlci5fd3JhcHBlciB8fCBoYW5kbGVyLCBjYXB0dXJlKTtcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVET01MaXN0ZW5lcnMob2xkVm5vZGUsIHZub2RlKSB7XHJcbiAgICBpZiAoaXNVbmRlZihvbGRWbm9kZS5kYXRhLm9uKSAmJiBpc1VuZGVmKHZub2RlLmRhdGEub24pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIG9uID0gdm5vZGUuZGF0YS5vbiB8fCB7fTtcclxuICAgIHZhciBvbGRPbiA9IG9sZFZub2RlLmRhdGEub24gfHwge307XHJcbiAgICAvLyB2bm9kZSBpcyBlbXB0eSB3aGVuIHJlbW92aW5nIGFsbCBsaXN0ZW5lcnMsXHJcbiAgICAvLyBhbmQgdXNlIG9sZCB2bm9kZSBkb20gZWxlbWVudFxyXG4gICAgdGFyZ2V0ID0gdm5vZGUuZWxtIHx8IG9sZFZub2RlLmVsbTtcclxuICAgIG5vcm1hbGl6ZUV2ZW50cyhvbik7XHJcbiAgICB1cGRhdGVMaXN0ZW5lcnMob24sIG9sZE9uLCBhZGQsIHJlbW92ZSwgY3JlYXRlT25jZUhhbmRsZXIsIHZub2RlLmNvbnRleHQpO1xyXG4gICAgdGFyZ2V0ID0gdW5kZWZpbmVkO1xyXG59XHJcbnZhciBldmVudHMgPSB7XHJcbiAgICBjcmVhdGU6IHVwZGF0ZURPTUxpc3RlbmVycyxcclxuICAgIHVwZGF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzLFxyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBlbXB0eU5vZGUgaGFzIGFjdHVhbGx5IGRhdGFcclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICh2bm9kZSkgeyByZXR1cm4gdXBkYXRlRE9NTGlzdGVuZXJzKHZub2RlLCBlbXB0eU5vZGUpOyB9XHJcbn07XG5cbnZhciBzdmdDb250YWluZXI7XHJcbmZ1bmN0aW9uIHVwZGF0ZURPTVByb3BzKG9sZFZub2RlLCB2bm9kZSkge1xyXG4gICAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5kb21Qcm9wcykgJiYgaXNVbmRlZih2bm9kZS5kYXRhLmRvbVByb3BzKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBrZXksIGN1cjtcclxuICAgIHZhciBlbG0gPSB2bm9kZS5lbG07XHJcbiAgICB2YXIgb2xkUHJvcHMgPSBvbGRWbm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xyXG4gICAgdmFyIHByb3BzID0gdm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTtcclxuICAgIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxyXG4gICAgaWYgKGlzRGVmKHByb3BzLl9fb2JfXykgfHwgaXNUcnVlKHByb3BzLl92X2F0dHJfcHJveHkpKSB7XHJcbiAgICAgICAgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzID0gZXh0ZW5kKHt9LCBwcm9wcyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGtleSBpbiBvbGRQcm9wcykge1xyXG4gICAgICAgIGlmICghKGtleSBpbiBwcm9wcykpIHtcclxuICAgICAgICAgICAgZWxtW2tleV0gPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgIGN1ciA9IHByb3BzW2tleV07XHJcbiAgICAgICAgLy8gaWdub3JlIGNoaWxkcmVuIGlmIHRoZSBub2RlIGhhcyB0ZXh0Q29udGVudCBvciBpbm5lckhUTUwsXHJcbiAgICAgICAgLy8gYXMgdGhlc2Ugd2lsbCB0aHJvdyBhd2F5IGV4aXN0aW5nIERPTSBub2RlcyBhbmQgY2F1c2UgcmVtb3ZhbCBlcnJvcnNcclxuICAgICAgICAvLyBvbiBzdWJzZXF1ZW50IHBhdGNoZXMgKCMzMzYwKVxyXG4gICAgICAgIGlmIChrZXkgPT09ICd0ZXh0Q29udGVudCcgfHwga2V5ID09PSAnaW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICB2bm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICBpZiAoY3VyID09PSBvbGRQcm9wc1trZXldKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIC8vICM2NjAxIHdvcmsgYXJvdW5kIENocm9tZSB2ZXJzaW9uIDw9IDU1IGJ1ZyB3aGVyZSBzaW5nbGUgdGV4dE5vZGVcclxuICAgICAgICAgICAgLy8gcmVwbGFjZWQgYnkgaW5uZXJIVE1ML3RleHRDb250ZW50IHJldGFpbnMgaXRzIHBhcmVudE5vZGUgcHJvcGVydHlcclxuICAgICAgICAgICAgaWYgKGVsbS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5jaGlsZE5vZGVzWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa2V5ID09PSAndmFsdWUnICYmIGVsbS50YWdOYW1lICE9PSAnUFJPR1JFU1MnKSB7XHJcbiAgICAgICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXHJcbiAgICAgICAgICAgIC8vIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmUgc3RyaW5naWZpZWRcclxuICAgICAgICAgICAgZWxtLl92YWx1ZSA9IGN1cjtcclxuICAgICAgICAgICAgLy8gYXZvaWQgcmVzZXR0aW5nIGN1cnNvciBwb3NpdGlvbiB3aGVuIHZhbHVlIGlzIHRoZSBzYW1lXHJcbiAgICAgICAgICAgIHZhciBzdHJDdXIgPSBpc1VuZGVmKGN1cikgPyAnJyA6IFN0cmluZyhjdXIpO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlVmFsdWUoZWxtLCBzdHJDdXIpKSB7XHJcbiAgICAgICAgICAgICAgICBlbG0udmFsdWUgPSBzdHJDdXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJyAmJlxyXG4gICAgICAgICAgICBpc1NWRyhlbG0udGFnTmFtZSkgJiZcclxuICAgICAgICAgICAgaXNVbmRlZihlbG0uaW5uZXJIVE1MKSkge1xyXG4gICAgICAgICAgICAvLyBJRSBkb2Vzbid0IHN1cHBvcnQgaW5uZXJIVE1MIGZvciBTVkcgZWxlbWVudHNcclxuICAgICAgICAgICAgc3ZnQ29udGFpbmVyID0gc3ZnQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBzdmdDb250YWluZXIuaW5uZXJIVE1MID0gXCI8c3ZnPlwiLmNvbmNhdChjdXIsIFwiPC9zdmc+XCIpO1xyXG4gICAgICAgICAgICB2YXIgc3ZnID0gc3ZnQ29udGFpbmVyLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIHdoaWxlIChlbG0uZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoc3ZnLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIGVsbS5hcHBlbmRDaGlsZChzdmcuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgLy8gc2tpcCB0aGUgdXBkYXRlIGlmIG9sZCBhbmQgbmV3IFZET00gc3RhdGUgaXMgdGhlIHNhbWUuXHJcbiAgICAgICAgLy8gYHZhbHVlYCBpcyBoYW5kbGVkIHNlcGFyYXRlbHkgYmVjYXVzZSB0aGUgRE9NIHZhbHVlIG1heSBiZSB0ZW1wb3JhcmlseVxyXG4gICAgICAgIC8vIG91dCBvZiBzeW5jIHdpdGggVkRPTSBzdGF0ZSBkdWUgdG8gZm9jdXMsIGNvbXBvc2l0aW9uIGFuZCBtb2RpZmllcnMuXHJcbiAgICAgICAgLy8gVGhpcyAgIzQ1MjEgYnkgc2tpcHBpbmcgdGhlIHVubmVjZXNzYXJ5IGBjaGVja2VkYCB1cGRhdGUuXHJcbiAgICAgICAgY3VyICE9PSBvbGRQcm9wc1trZXldKSB7XHJcbiAgICAgICAgICAgIC8vIHNvbWUgcHJvcGVydHkgdXBkYXRlcyBjYW4gdGhyb3dcclxuICAgICAgICAgICAgLy8gZS5nLiBgdmFsdWVgIG9uIDxwcm9ncmVzcz4gdy8gbm9uLWZpbml0ZSB2YWx1ZVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZWxtW2tleV0gPSBjdXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzaG91bGRVcGRhdGVWYWx1ZShlbG0sIGNoZWNrVmFsKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAhZWxtLmNvbXBvc2luZyAmJlxyXG4gICAgICAgIChlbG0udGFnTmFtZSA9PT0gJ09QVElPTicgfHxcclxuICAgICAgICAgICAgaXNOb3RJbkZvY3VzQW5kRGlydHkoZWxtLCBjaGVja1ZhbCkgfHxcclxuICAgICAgICAgICAgaXNEaXJ0eVdpdGhNb2RpZmllcnMoZWxtLCBjaGVja1ZhbCkpKTtcclxufVxyXG5mdW5jdGlvbiBpc05vdEluRm9jdXNBbmREaXJ0eShlbG0sIGNoZWNrVmFsKSB7XHJcbiAgICAvLyByZXR1cm4gdHJ1ZSB3aGVuIHRleHRib3ggKC5udW1iZXIgYW5kIC50cmltKSBsb3NlcyBmb2N1cyBhbmQgaXRzIHZhbHVlIGlzXHJcbiAgICAvLyBub3QgZXF1YWwgdG8gdGhlIHVwZGF0ZWQgdmFsdWVcclxuICAgIHZhciBub3RJbkZvY3VzID0gdHJ1ZTtcclxuICAgIC8vICM2MTU3XHJcbiAgICAvLyB3b3JrIGFyb3VuZCBJRSBidWcgd2hlbiBhY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbiBhbiBpZnJhbWVcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbm90SW5Gb2N1cyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGVsbTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiBub3RJbkZvY3VzICYmIGVsbS52YWx1ZSAhPT0gY2hlY2tWYWw7XHJcbn1cclxuZnVuY3Rpb24gaXNEaXJ0eVdpdGhNb2RpZmllcnMoZWxtLCBuZXdWYWwpIHtcclxuICAgIHZhciB2YWx1ZSA9IGVsbS52YWx1ZTtcclxuICAgIHZhciBtb2RpZmllcnMgPSBlbG0uX3ZNb2RpZmllcnM7IC8vIGluamVjdGVkIGJ5IHYtbW9kZWwgcnVudGltZVxyXG4gICAgaWYgKGlzRGVmKG1vZGlmaWVycykpIHtcclxuICAgICAgICBpZiAobW9kaWZpZXJzLm51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9OdW1iZXIodmFsdWUpICE9PSB0b051bWJlcihuZXdWYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kaWZpZXJzLnRyaW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRyaW0oKSAhPT0gbmV3VmFsLnRyaW0oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWUgIT09IG5ld1ZhbDtcclxufVxyXG52YXIgZG9tUHJvcHMgPSB7XHJcbiAgICBjcmVhdGU6IHVwZGF0ZURPTVByb3BzLFxyXG4gICAgdXBkYXRlOiB1cGRhdGVET01Qcm9wc1xyXG59O1xuXG52YXIgcGFyc2VTdHlsZVRleHQgPSBjYWNoZWQoZnVuY3Rpb24gKGNzc1RleHQpIHtcclxuICAgIHZhciByZXMgPSB7fTtcclxuICAgIHZhciBsaXN0RGVsaW1pdGVyID0gLzsoPyFbXihdKlxcKSkvZztcclxuICAgIHZhciBwcm9wZXJ0eURlbGltaXRlciA9IC86KC4rKS87XHJcbiAgICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlcik7XHJcbiAgICAgICAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXNbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXM7XHJcbn0pO1xyXG4vLyBtZXJnZSBzdGF0aWMgYW5kIGR5bmFtaWMgc3R5bGUgZGF0YSBvbiB0aGUgc2FtZSB2bm9kZVxyXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZURhdGEoZGF0YSkge1xyXG4gICAgdmFyIHN0eWxlID0gbm9ybWFsaXplU3R5bGVCaW5kaW5nKGRhdGEuc3R5bGUpO1xyXG4gICAgLy8gc3RhdGljIHN0eWxlIGlzIHByZS1wcm9jZXNzZWQgaW50byBhbiBvYmplY3QgZHVyaW5nIGNvbXBpbGF0aW9uXHJcbiAgICAvLyBhbmQgaXMgYWx3YXlzIGEgZnJlc2ggb2JqZWN0LCBzbyBpdCdzIHNhZmUgdG8gbWVyZ2UgaW50byBpdFxyXG4gICAgcmV0dXJuIGRhdGEuc3RhdGljU3R5bGUgPyBleHRlbmQoZGF0YS5zdGF0aWNTdHlsZSwgc3R5bGUpIDogc3R5bGU7XHJcbn1cclxuLy8gbm9ybWFsaXplIHBvc3NpYmxlIGFycmF5IC8gc3RyaW5nIHZhbHVlcyBpbnRvIE9iamVjdFxyXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZUJpbmRpbmcoYmluZGluZ1N0eWxlKSB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShiaW5kaW5nU3R5bGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvT2JqZWN0KGJpbmRpbmdTdHlsZSk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGJpbmRpbmdTdHlsZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VTdHlsZVRleHQoYmluZGluZ1N0eWxlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBiaW5kaW5nU3R5bGU7XHJcbn1cclxuLyoqXHJcbiAqIHBhcmVudCBjb21wb25lbnQgc3R5bGUgc2hvdWxkIGJlIGFmdGVyIGNoaWxkJ3NcclxuICogc28gdGhhdCBwYXJlbnQgY29tcG9uZW50J3Mgc3R5bGUgY291bGQgb3ZlcnJpZGUgaXRcclxuICovXHJcbmZ1bmN0aW9uIGdldFN0eWxlKHZub2RlLCBjaGVja0NoaWxkKSB7XHJcbiAgICB2YXIgcmVzID0ge307XHJcbiAgICB2YXIgc3R5bGVEYXRhO1xyXG4gICAgaWYgKGNoZWNrQ2hpbGQpIHtcclxuICAgICAgICB2YXIgY2hpbGROb2RlID0gdm5vZGU7XHJcbiAgICAgICAgd2hpbGUgKGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlICYmXHJcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUuZGF0YSAmJlxyXG4gICAgICAgICAgICAgICAgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShjaGlsZE5vZGUuZGF0YSkpKSB7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEodm5vZGUuZGF0YSkpKSB7XHJcbiAgICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcclxuICAgIH1cclxuICAgIHZhciBwYXJlbnROb2RlID0gdm5vZGU7XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHBhcmVudE5vZGUucGFyZW50IG5vdCBWTm9kZVdpdGhEYXRhXHJcbiAgICB3aGlsZSAoKHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudCkpIHtcclxuICAgICAgICBpZiAocGFyZW50Tm9kZS5kYXRhICYmIChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEocGFyZW50Tm9kZS5kYXRhKSkpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XG5cbnZhciBjc3NWYXJSRSA9IC9eLS0vO1xyXG52YXIgaW1wb3J0YW50UkUgPSAvXFxzKiFpbXBvcnRhbnQkLztcclxudmFyIHNldFByb3AgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbCkge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoY3NzVmFyUkUudGVzdChuYW1lKSkge1xyXG4gICAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcclxuICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUobmFtZSksIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCAnJyksICdpbXBvcnRhbnQnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZShuYW1lKTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgdmFsdWVzIGFycmF5IGNyZWF0ZWQgYnkgYXV0b3ByZWZpeGVyLCBlLmcuXHJcbiAgICAgICAgICAgIC8vIHtkaXNwbGF5OiBbXCItd2Via2l0LWJveFwiLCBcIi1tcy1mbGV4Ym94XCIsIFwiZmxleFwiXX1cclxuICAgICAgICAgICAgLy8gU2V0IHRoZW0gb25lIGJ5IG9uZSwgYW5kIHRoZSBicm93c2VyIHdpbGwgb25seSBzZXQgdGhvc2UgaXQgY2FuIHJlY29nbml6ZVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZVtub3JtYWxpemVkTmFtZV0gPSB2YWxbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnN0eWxlW25vcm1hbGl6ZWROYW1lXSA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbnZhciB2ZW5kb3JOYW1lcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xyXG52YXIgZW1wdHlTdHlsZTtcclxudmFyIG5vcm1hbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgZW1wdHlTdHlsZSA9IGVtcHR5U3R5bGUgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XHJcbiAgICBwcm9wID0gY2FtZWxpemUocHJvcCk7XHJcbiAgICBpZiAocHJvcCAhPT0gJ2ZpbHRlcicgJiYgcHJvcCBpbiBlbXB0eVN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3A7XHJcbiAgICB9XHJcbiAgICB2YXIgY2FwTmFtZSA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZW5kb3JOYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBuYW1lXzEgPSB2ZW5kb3JOYW1lc1tpXSArIGNhcE5hbWU7XHJcbiAgICAgICAgaWYgKG5hbWVfMSBpbiBlbXB0eVN0eWxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lXzE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuZnVuY3Rpb24gdXBkYXRlU3R5bGUob2xkVm5vZGUsIHZub2RlKSB7XHJcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XHJcbiAgICB2YXIgb2xkRGF0YSA9IG9sZFZub2RlLmRhdGE7XHJcbiAgICBpZiAoaXNVbmRlZihkYXRhLnN0YXRpY1N0eWxlKSAmJlxyXG4gICAgICAgIGlzVW5kZWYoZGF0YS5zdHlsZSkgJiZcclxuICAgICAgICBpc1VuZGVmKG9sZERhdGEuc3RhdGljU3R5bGUpICYmXHJcbiAgICAgICAgaXNVbmRlZihvbGREYXRhLnN0eWxlKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBjdXIsIG5hbWU7XHJcbiAgICB2YXIgZWwgPSB2bm9kZS5lbG07XHJcbiAgICB2YXIgb2xkU3RhdGljU3R5bGUgPSBvbGREYXRhLnN0YXRpY1N0eWxlO1xyXG4gICAgdmFyIG9sZFN0eWxlQmluZGluZyA9IG9sZERhdGEubm9ybWFsaXplZFN0eWxlIHx8IG9sZERhdGEuc3R5bGUgfHwge307XHJcbiAgICAvLyBpZiBzdGF0aWMgc3R5bGUgZXhpc3RzLCBzdHlsZWJpbmRpbmcgYWxyZWFkeSBtZXJnZWQgaW50byBpdCB3aGVuIGRvaW5nIG5vcm1hbGl6ZVN0eWxlRGF0YVxyXG4gICAgdmFyIG9sZFN0eWxlID0gb2xkU3RhdGljU3R5bGUgfHwgb2xkU3R5bGVCaW5kaW5nO1xyXG4gICAgdmFyIHN0eWxlID0gbm9ybWFsaXplU3R5bGVCaW5kaW5nKHZub2RlLmRhdGEuc3R5bGUpIHx8IHt9O1xyXG4gICAgLy8gc3RvcmUgbm9ybWFsaXplZCBzdHlsZSB1bmRlciBhIGRpZmZlcmVudCBrZXkgZm9yIG5leHQgZGlmZlxyXG4gICAgLy8gbWFrZSBzdXJlIHRvIGNsb25lIGl0IGlmIGl0J3MgcmVhY3RpdmUsIHNpbmNlIHRoZSB1c2VyIGxpa2VseSB3YW50c1xyXG4gICAgLy8gdG8gbXV0YXRlIGl0LlxyXG4gICAgdm5vZGUuZGF0YS5ub3JtYWxpemVkU3R5bGUgPSBpc0RlZihzdHlsZS5fX29iX18pID8gZXh0ZW5kKHt9LCBzdHlsZSkgOiBzdHlsZTtcclxuICAgIHZhciBuZXdTdHlsZSA9IGdldFN0eWxlKHZub2RlLCB0cnVlKTtcclxuICAgIGZvciAobmFtZSBpbiBvbGRTdHlsZSkge1xyXG4gICAgICAgIGlmIChpc1VuZGVmKG5ld1N0eWxlW25hbWVdKSkge1xyXG4gICAgICAgICAgICBzZXRQcm9wKGVsLCBuYW1lLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yIChuYW1lIGluIG5ld1N0eWxlKSB7XHJcbiAgICAgICAgY3VyID0gbmV3U3R5bGVbbmFtZV07XHJcbiAgICAgICAgaWYgKGN1ciAhPT0gb2xkU3R5bGVbbmFtZV0pIHtcclxuICAgICAgICAgICAgLy8gaWU5IHNldHRpbmcgdG8gbnVsbCBoYXMgbm8gZWZmZWN0LCBtdXN0IHVzZSBlbXB0eSBzdHJpbmdcclxuICAgICAgICAgICAgc2V0UHJvcChlbCwgbmFtZSwgY3VyID09IG51bGwgPyAnJyA6IGN1cik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciBzdHlsZSQxID0ge1xyXG4gICAgY3JlYXRlOiB1cGRhdGVTdHlsZSxcclxuICAgIHVwZGF0ZTogdXBkYXRlU3R5bGVcclxufTtcblxudmFyIHdoaXRlc3BhY2VSRSQxID0gL1xccysvO1xyXG4vKipcclxuICogQWRkIGNsYXNzIHdpdGggY29tcGF0aWJpbGl0eSBmb3IgU1ZHIHNpbmNlIGNsYXNzTGlzdCBpcyBub3Qgc3VwcG9ydGVkIG9uXHJcbiAqIFNWRyBlbGVtZW50cyBpbiBJRVxyXG4gKi9cclxuZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNscykge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmIChlbC5jbGFzc0xpc3QpIHtcclxuICAgICAgICBpZiAoY2xzLmluZGV4T2YoJyAnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIGNscy5zcGxpdCh3aGl0ZXNwYWNlUkUkMSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChjKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNscyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGN1ciA9IFwiIFwiLmNvbmNhdChlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycsIFwiIFwiKTtcclxuICAgICAgICBpZiAoY3VyLmluZGV4T2YoJyAnICsgY2xzICsgJyAnKSA8IDApIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIChjdXIgKyBjbHMpLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZW1vdmUgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb25cclxuICogU1ZHIGVsZW1lbnRzIGluIElFXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xzKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICghY2xzIHx8ICEoY2xzID0gY2xzLnRyaW0oKSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgaWYgKGVsLmNsYXNzTGlzdCkge1xyXG4gICAgICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHtcclxuICAgICAgICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSQxKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFlbC5jbGFzc0xpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgY3VyID0gXCIgXCIuY29uY2F0KGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJywgXCIgXCIpO1xyXG4gICAgICAgIHZhciB0YXIgPSAnICcgKyBjbHMgKyAnICc7XHJcbiAgICAgICAgd2hpbGUgKGN1ci5pbmRleE9mKHRhcikgPj0gMCkge1xyXG4gICAgICAgICAgICBjdXIgPSBjdXIucmVwbGFjZSh0YXIsICcgJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1ciA9IGN1ci50cmltKCk7XHJcbiAgICAgICAgaWYgKGN1cikge1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY3VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb24oZGVmKSB7XHJcbiAgICBpZiAoIWRlZikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICBpZiAodHlwZW9mIGRlZiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICB2YXIgcmVzID0ge307XHJcbiAgICAgICAgaWYgKGRlZi5jc3MgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZChyZXMsIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZi5uYW1lIHx8ICd2JykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleHRlbmQocmVzLCBkZWYpO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBhdXRvQ3NzVHJhbnNpdGlvbihkZWYpO1xyXG4gICAgfVxyXG59XHJcbnZhciBhdXRvQ3NzVHJhbnNpdGlvbiA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlbnRlckNsYXNzOiBcIlwiLmNvbmNhdChuYW1lLCBcIi1lbnRlclwiKSxcclxuICAgICAgICBlbnRlclRvQ2xhc3M6IFwiXCIuY29uY2F0KG5hbWUsIFwiLWVudGVyLXRvXCIpLFxyXG4gICAgICAgIGVudGVyQWN0aXZlQ2xhc3M6IFwiXCIuY29uY2F0KG5hbWUsIFwiLWVudGVyLWFjdGl2ZVwiKSxcclxuICAgICAgICBsZWF2ZUNsYXNzOiBcIlwiLmNvbmNhdChuYW1lLCBcIi1sZWF2ZVwiKSxcclxuICAgICAgICBsZWF2ZVRvQ2xhc3M6IFwiXCIuY29uY2F0KG5hbWUsIFwiLWxlYXZlLXRvXCIpLFxyXG4gICAgICAgIGxlYXZlQWN0aXZlQ2xhc3M6IFwiXCIuY29uY2F0KG5hbWUsIFwiLWxlYXZlLWFjdGl2ZVwiKVxyXG4gICAgfTtcclxufSk7XHJcbnZhciBoYXNUcmFuc2l0aW9uID0gaW5Ccm93c2VyICYmICFpc0lFOTtcclxudmFyIFRSQU5TSVRJT04gPSAndHJhbnNpdGlvbic7XHJcbnZhciBBTklNQVRJT04gPSAnYW5pbWF0aW9uJztcclxuLy8gVHJhbnNpdGlvbiBwcm9wZXJ0eS9ldmVudCBzbmlmZmluZ1xyXG52YXIgdHJhbnNpdGlvblByb3AgPSAndHJhbnNpdGlvbic7XHJcbnZhciB0cmFuc2l0aW9uRW5kRXZlbnQgPSAndHJhbnNpdGlvbmVuZCc7XHJcbnZhciBhbmltYXRpb25Qcm9wID0gJ2FuaW1hdGlvbic7XHJcbnZhciBhbmltYXRpb25FbmRFdmVudCA9ICdhbmltYXRpb25lbmQnO1xyXG5pZiAoaGFzVHJhbnNpdGlvbikge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAod2luZG93Lm9udHJhbnNpdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgd2luZG93Lm9ud2Via2l0dHJhbnNpdGlvbmVuZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdHJhbnNpdGlvblByb3AgPSAnV2Via2l0VHJhbnNpdGlvbic7XHJcbiAgICAgICAgdHJhbnNpdGlvbkVuZEV2ZW50ID0gJ3dlYmtpdFRyYW5zaXRpb25FbmQnO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5vbmFuaW1hdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7XHJcbiAgICAgICAgYW5pbWF0aW9uRW5kRXZlbnQgPSAnd2Via2l0QW5pbWF0aW9uRW5kJztcclxuICAgIH1cclxufVxyXG4vLyBiaW5kaW5nIHRvIHdpbmRvdyBpcyBuZWNlc3NhcnkgdG8gbWFrZSBob3QgcmVsb2FkIHdvcmsgaW4gSUUgaW4gc3RyaWN0IG1vZGVcclxudmFyIHJhZiA9IGluQnJvd3NlclxyXG4gICAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcbiAgICAgICAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KVxyXG4gICAgICAgIDogc2V0VGltZW91dFxyXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiAoLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZm4pIHsgcmV0dXJuIGZuKCk7IH07XHJcbmZ1bmN0aW9uIG5leHRGcmFtZShmbikge1xyXG4gICAgcmFmKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgcmFmKGZuKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XHJcbiAgICB2YXIgdHJhbnNpdGlvbkNsYXNzZXMgPSBlbC5fdHJhbnNpdGlvbkNsYXNzZXMgfHwgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcyA9IFtdKTtcclxuICAgIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcy5pbmRleE9mKGNscykgPCAwKSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbkNsYXNzZXMucHVzaChjbHMpO1xyXG4gICAgICAgIGFkZENsYXNzKGVsLCBjbHMpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XHJcbiAgICBpZiAoZWwuX3RyYW5zaXRpb25DbGFzc2VzKSB7XHJcbiAgICAgICAgcmVtb3ZlJDIoZWwuX3RyYW5zaXRpb25DbGFzc2VzLCBjbHMpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlQ2xhc3MoZWwsIGNscyk7XHJcbn1cclxuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGNiKSB7XHJcbiAgICB2YXIgX2EgPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSwgdHlwZSA9IF9hLnR5cGUsIHRpbWVvdXQgPSBfYS50aW1lb3V0LCBwcm9wQ291bnQgPSBfYS5wcm9wQ291bnQ7XHJcbiAgICBpZiAoIXR5cGUpXHJcbiAgICAgICAgcmV0dXJuIGNiKCk7XHJcbiAgICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7XHJcbiAgICB2YXIgZW5kZWQgPSAwO1xyXG4gICAgdmFyIGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBvbkVuZCk7XHJcbiAgICAgICAgY2IoKTtcclxuICAgIH07XHJcbiAgICB2YXIgb25FbmQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZWwpIHtcclxuICAgICAgICAgICAgaWYgKCsrZW5kZWQgPj0gcHJvcENvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBlbmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcclxuICAgICAgICAgICAgZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgdGltZW91dCArIDEpO1xyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xyXG59XHJcbnZhciB0cmFuc2Zvcm1SRSA9IC9cXGIodHJhbnNmb3JtfGFsbCkoLHwkKS87XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpIHtcclxuICAgIHZhciBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XHJcbiAgICAvLyBKU0RPTSBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXHJcbiAgICB2YXIgdHJhbnNpdGlvbkRlbGF5cyA9IChzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnRGVsYXknXSB8fCAnJykuc3BsaXQoJywgJyk7XHJcbiAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IChzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnRHVyYXRpb24nXSB8fCAnJykuc3BsaXQoJywgJyk7XHJcbiAgICB2YXIgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xyXG4gICAgdmFyIGFuaW1hdGlvbkRlbGF5cyA9IChzdHlsZXNbYW5pbWF0aW9uUHJvcCArICdEZWxheSddIHx8ICcnKS5zcGxpdCgnLCAnKTtcclxuICAgIHZhciBhbmltYXRpb25EdXJhdGlvbnMgPSAoc3R5bGVzW2FuaW1hdGlvblByb3AgKyAnRHVyYXRpb24nXSB8fCAnJykuc3BsaXQoJywgJyk7XHJcbiAgICB2YXIgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xyXG4gICAgdmFyIHR5cGU7XHJcbiAgICB2YXIgdGltZW91dCA9IDA7XHJcbiAgICB2YXIgcHJvcENvdW50ID0gMDtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcclxuICAgICAgICAgICAgdHlwZSA9IFRSQU5TSVRJT047XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcclxuICAgICAgICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcclxuICAgICAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcclxuICAgICAgICAgICAgdHlwZSA9IEFOSU1BVElPTjtcclxuICAgICAgICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcclxuICAgICAgICB0eXBlID1cclxuICAgICAgICAgICAgdGltZW91dCA+IDBcclxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBUUkFOU0lUSU9OXHJcbiAgICAgICAgICAgICAgICAgICAgOiBBTklNQVRJT05cclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICBwcm9wQ291bnQgPSB0eXBlXHJcbiAgICAgICAgICAgID8gdHlwZSA9PT0gVFJBTlNJVElPTlxyXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoXHJcbiAgICAgICAgICAgIDogMDtcclxuICAgIH1cclxuICAgIHZhciBoYXNUcmFuc2Zvcm0gPSB0eXBlID09PSBUUkFOU0lUSU9OICYmIHRyYW5zZm9ybVJFLnRlc3Qoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ1Byb3BlcnR5J10pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIHRpbWVvdXQ6IHRpbWVvdXQsXHJcbiAgICAgICAgcHJvcENvdW50OiBwcm9wQ291bnQsXHJcbiAgICAgICAgaGFzVHJhbnNmb3JtOiBoYXNUcmFuc2Zvcm1cclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0VGltZW91dChkZWxheXMsIGR1cmF0aW9ucykge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBkdXJhdGlvbnMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSk7XHJcbiAgICB9KSk7XHJcbn1cclxuLy8gT2xkIHZlcnNpb25zIG9mIENocm9taXVtIChiZWxvdyA2MS4wLjMxNjMuMTAwKSBmb3JtYXRzIGZsb2F0aW5nIHBvaW50ZXIgbnVtYmVyc1xyXG4vLyBpbiBhIGxvY2FsZS1kZXBlbmRlbnQgd2F5LCB1c2luZyBhIGNvbW1hIGluc3RlYWQgb2YgYSBkb3QuXHJcbi8vIElmIGNvbW1hIGlzIG5vdCByZXBsYWNlZCB3aXRoIGEgZG90LCB0aGUgaW5wdXQgd2lsbCBiZSByb3VuZGVkIGRvd24gKGkuZS4gYWN0aW5nXHJcbi8vIGFzIGEgZmxvb3IgZnVuY3Rpb24pIGNhdXNpbmcgdW5leHBlY3RlZCBiZWhhdmlvcnNcclxuZnVuY3Rpb24gdG9NcyhzKSB7XHJcbiAgICByZXR1cm4gTnVtYmVyKHMuc2xpY2UoMCwgLTEpLnJlcGxhY2UoJywnLCAnLicpKSAqIDEwMDA7XHJcbn1cblxuZnVuY3Rpb24gZW50ZXIodm5vZGUsIHRvZ2dsZURpc3BsYXkpIHtcclxuICAgIHZhciBlbCA9IHZub2RlLmVsbTtcclxuICAgIC8vIGNhbGwgbGVhdmUgY2FsbGJhY2sgbm93XHJcbiAgICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7XHJcbiAgICAgICAgZWwuX2xlYXZlQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcclxuICAgICAgICBlbC5fbGVhdmVDYigpO1xyXG4gICAgfVxyXG4gICAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xyXG4gICAgaWYgKGlzVW5kZWYoZGF0YSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChpc0RlZihlbC5fZW50ZXJDYikgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgY3NzID0gZGF0YS5jc3MsIHR5cGUgPSBkYXRhLnR5cGUsIGVudGVyQ2xhc3MgPSBkYXRhLmVudGVyQ2xhc3MsIGVudGVyVG9DbGFzcyA9IGRhdGEuZW50ZXJUb0NsYXNzLCBlbnRlckFjdGl2ZUNsYXNzID0gZGF0YS5lbnRlckFjdGl2ZUNsYXNzLCBhcHBlYXJDbGFzcyA9IGRhdGEuYXBwZWFyQ2xhc3MsIGFwcGVhclRvQ2xhc3MgPSBkYXRhLmFwcGVhclRvQ2xhc3MsIGFwcGVhckFjdGl2ZUNsYXNzID0gZGF0YS5hcHBlYXJBY3RpdmVDbGFzcywgYmVmb3JlRW50ZXIgPSBkYXRhLmJlZm9yZUVudGVyLCBlbnRlciA9IGRhdGEuZW50ZXIsIGFmdGVyRW50ZXIgPSBkYXRhLmFmdGVyRW50ZXIsIGVudGVyQ2FuY2VsbGVkID0gZGF0YS5lbnRlckNhbmNlbGxlZCwgYmVmb3JlQXBwZWFyID0gZGF0YS5iZWZvcmVBcHBlYXIsIGFwcGVhciA9IGRhdGEuYXBwZWFyLCBhZnRlckFwcGVhciA9IGRhdGEuYWZ0ZXJBcHBlYXIsIGFwcGVhckNhbmNlbGxlZCA9IGRhdGEuYXBwZWFyQ2FuY2VsbGVkLCBkdXJhdGlvbiA9IGRhdGEuZHVyYXRpb247XHJcbiAgICAvLyBhY3RpdmVJbnN0YW5jZSB3aWxsIGFsd2F5cyBiZSB0aGUgPHRyYW5zaXRpb24+IGNvbXBvbmVudCBtYW5hZ2luZyB0aGlzXHJcbiAgICAvLyB0cmFuc2l0aW9uLiBPbmUgZWRnZSBjYXNlIHRvIGNoZWNrIGlzIHdoZW4gdGhlIDx0cmFuc2l0aW9uPiBpcyBwbGFjZWRcclxuICAgIC8vIGFzIHRoZSByb290IG5vZGUgb2YgYSBjaGlsZCBjb21wb25lbnQuIEluIHRoYXQgY2FzZSB3ZSBuZWVkIHRvIGNoZWNrXHJcbiAgICAvLyA8dHJhbnNpdGlvbj4ncyBwYXJlbnQgZm9yIGFwcGVhciBjaGVjay5cclxuICAgIHZhciBjb250ZXh0ID0gYWN0aXZlSW5zdGFuY2U7XHJcbiAgICB2YXIgdHJhbnNpdGlvbk5vZGUgPSBhY3RpdmVJbnN0YW5jZS4kdm5vZGU7XHJcbiAgICB3aGlsZSAodHJhbnNpdGlvbk5vZGUgJiYgdHJhbnNpdGlvbk5vZGUucGFyZW50KSB7XHJcbiAgICAgICAgY29udGV4dCA9IHRyYW5zaXRpb25Ob2RlLmNvbnRleHQ7XHJcbiAgICAgICAgdHJhbnNpdGlvbk5vZGUgPSB0cmFuc2l0aW9uTm9kZS5wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICB2YXIgaXNBcHBlYXIgPSAhY29udGV4dC5faXNNb3VudGVkIHx8ICF2bm9kZS5pc1Jvb3RJbnNlcnQ7XHJcbiAgICBpZiAoaXNBcHBlYXIgJiYgIWFwcGVhciAmJiBhcHBlYXIgIT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHN0YXJ0Q2xhc3MgPSBpc0FwcGVhciAmJiBhcHBlYXJDbGFzcyA/IGFwcGVhckNsYXNzIDogZW50ZXJDbGFzcztcclxuICAgIHZhciBhY3RpdmVDbGFzcyA9IGlzQXBwZWFyICYmIGFwcGVhckFjdGl2ZUNsYXNzID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzO1xyXG4gICAgdmFyIHRvQ2xhc3MgPSBpc0FwcGVhciAmJiBhcHBlYXJUb0NsYXNzID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcztcclxuICAgIHZhciBiZWZvcmVFbnRlckhvb2sgPSBpc0FwcGVhciA/IGJlZm9yZUFwcGVhciB8fCBiZWZvcmVFbnRlciA6IGJlZm9yZUVudGVyO1xyXG4gICAgdmFyIGVudGVySG9vayA9IGlzQXBwZWFyID8gKGlzRnVuY3Rpb24oYXBwZWFyKSA/IGFwcGVhciA6IGVudGVyKSA6IGVudGVyO1xyXG4gICAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXIgPyBhZnRlckFwcGVhciB8fCBhZnRlckVudGVyIDogYWZ0ZXJFbnRlcjtcclxuICAgIHZhciBlbnRlckNhbmNlbGxlZEhvb2sgPSBpc0FwcGVhclxyXG4gICAgICAgID8gYXBwZWFyQ2FuY2VsbGVkIHx8IGVudGVyQ2FuY2VsbGVkXHJcbiAgICAgICAgOiBlbnRlckNhbmNlbGxlZDtcclxuICAgIHZhciBleHBsaWNpdEVudGVyRHVyYXRpb24gPSB0b051bWJlcihpc09iamVjdChkdXJhdGlvbikgPyBkdXJhdGlvbi5lbnRlciA6IGR1cmF0aW9uKTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGV4cGxpY2l0RW50ZXJEdXJhdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgY2hlY2tEdXJhdGlvbihleHBsaWNpdEVudGVyRHVyYXRpb24sICdlbnRlcicsIHZub2RlKTtcclxuICAgIH1cclxuICAgIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XHJcbiAgICB2YXIgdXNlcldhbnRzQ29udHJvbCA9IGdldEhvb2tBcmd1bWVudHNMZW5ndGgoZW50ZXJIb29rKTtcclxuICAgIHZhciBjYiA9IChlbC5fZW50ZXJDYiA9IG9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChleHBlY3RzQ1NTKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgdG9DbGFzcyk7XHJcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgaWYgKGNiLmNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICBpZiAoZXhwZWN0c0NTUykge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbnRlckNhbmNlbGxlZEhvb2sgJiYgZW50ZXJDYW5jZWxsZWRIb29rKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFmdGVyRW50ZXJIb29rICYmIGFmdGVyRW50ZXJIb29rKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuX2VudGVyQ2IgPSBudWxsO1xyXG4gICAgfSkpO1xyXG4gICAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcclxuICAgICAgICAvLyByZW1vdmUgcGVuZGluZyBsZWF2ZSBlbGVtZW50IG9uIGVudGVyIGJ5IGluamVjdGluZyBhbiBpbnNlcnQgaG9va1xyXG4gICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAnaW5zZXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgdmFyIHBlbmRpbmdOb2RlID0gcGFyZW50ICYmIHBhcmVudC5fcGVuZGluZyAmJiBwYXJlbnQuX3BlbmRpbmdbdm5vZGUua2V5XTtcclxuICAgICAgICAgICAgaWYgKHBlbmRpbmdOb2RlICYmXHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nTm9kZS50YWcgPT09IHZub2RlLnRhZyAmJlxyXG4gICAgICAgICAgICAgICAgcGVuZGluZ05vZGUuZWxtLl9sZWF2ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nTm9kZS5lbG0uX2xlYXZlQ2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBzdGFydCBlbnRlciB0cmFuc2l0aW9uXHJcbiAgICBiZWZvcmVFbnRlckhvb2sgJiYgYmVmb3JlRW50ZXJIb29rKGVsKTtcclxuICAgIGlmIChleHBlY3RzQ1NTKSB7XHJcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcclxuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcclxuICAgICAgICBuZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIGlmICghY2IuY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHRvQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyV2FudHNDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdEVudGVyRHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIGV4cGxpY2l0RW50ZXJEdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICh2bm9kZS5kYXRhLnNob3cpIHtcclxuICAgICAgICB0b2dnbGVEaXNwbGF5ICYmIHRvZ2dsZURpc3BsYXkoKTtcclxuICAgICAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7XHJcbiAgICB9XHJcbiAgICBpZiAoIWV4cGVjdHNDU1MgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcclxuICAgICAgICBjYigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGxlYXZlKHZub2RlLCBybSkge1xyXG4gICAgdmFyIGVsID0gdm5vZGUuZWxtO1xyXG4gICAgLy8gY2FsbCBlbnRlciBjYWxsYmFjayBub3dcclxuICAgIGlmIChpc0RlZihlbC5fZW50ZXJDYikpIHtcclxuICAgICAgICBlbC5fZW50ZXJDYi5jYW5jZWxsZWQgPSB0cnVlO1xyXG4gICAgICAgIGVsLl9lbnRlckNiKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XHJcbiAgICBpZiAoaXNVbmRlZihkYXRhKSB8fCBlbC5ub2RlVHlwZSAhPT0gMSkge1xyXG4gICAgICAgIHJldHVybiBybSgpO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGNzcyA9IGRhdGEuY3NzLCB0eXBlID0gZGF0YS50eXBlLCBsZWF2ZUNsYXNzID0gZGF0YS5sZWF2ZUNsYXNzLCBsZWF2ZVRvQ2xhc3MgPSBkYXRhLmxlYXZlVG9DbGFzcywgbGVhdmVBY3RpdmVDbGFzcyA9IGRhdGEubGVhdmVBY3RpdmVDbGFzcywgYmVmb3JlTGVhdmUgPSBkYXRhLmJlZm9yZUxlYXZlLCBsZWF2ZSA9IGRhdGEubGVhdmUsIGFmdGVyTGVhdmUgPSBkYXRhLmFmdGVyTGVhdmUsIGxlYXZlQ2FuY2VsbGVkID0gZGF0YS5sZWF2ZUNhbmNlbGxlZCwgZGVsYXlMZWF2ZSA9IGRhdGEuZGVsYXlMZWF2ZSwgZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uO1xyXG4gICAgdmFyIGV4cGVjdHNDU1MgPSBjc3MgIT09IGZhbHNlICYmICFpc0lFOTtcclxuICAgIHZhciB1c2VyV2FudHNDb250cm9sID0gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aChsZWF2ZSk7XHJcbiAgICB2YXIgZXhwbGljaXRMZWF2ZUR1cmF0aW9uID0gdG9OdW1iZXIoaXNPYmplY3QoZHVyYXRpb24pID8gZHVyYXRpb24ubGVhdmUgOiBkdXJhdGlvbik7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBpc0RlZihleHBsaWNpdExlYXZlRHVyYXRpb24pKSB7XHJcbiAgICAgICAgY2hlY2tEdXJhdGlvbihleHBsaWNpdExlYXZlRHVyYXRpb24sICdsZWF2ZScsIHZub2RlKTtcclxuICAgIH1cclxuICAgIHZhciBjYiA9IChlbC5fbGVhdmVDYiA9IG9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUuX3BlbmRpbmcpIHtcclxuICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5fcGVuZGluZ1t2bm9kZS5rZXldID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcclxuICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xyXG4gICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgaWYgKGNiLmNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICBpZiAoZXhwZWN0c0NTUykge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZWF2ZUNhbmNlbGxlZCAmJiBsZWF2ZUNhbmNlbGxlZChlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBybSgpO1xyXG4gICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbC5fbGVhdmVDYiA9IG51bGw7XHJcbiAgICB9KSk7XHJcbiAgICBpZiAoZGVsYXlMZWF2ZSkge1xyXG4gICAgICAgIGRlbGF5TGVhdmUocGVyZm9ybUxlYXZlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGVyZm9ybUxlYXZlKCkge1xyXG4gICAgICAgIC8vIHRoZSBkZWxheWVkIGxlYXZlIG1heSBoYXZlIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgaWYgKGNiLmNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJlY29yZCBsZWF2aW5nIGVsZW1lbnRcclxuICAgICAgICBpZiAoIXZub2RlLmRhdGEuc2hvdyAmJiBlbC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIChlbC5wYXJlbnROb2RlLl9wZW5kaW5nIHx8IChlbC5wYXJlbnROb2RlLl9wZW5kaW5nID0ge30pKVt2bm9kZS5rZXldID1cclxuICAgICAgICAgICAgICAgIHZub2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiZWZvcmVMZWF2ZSAmJiBiZWZvcmVMZWF2ZShlbCk7XHJcbiAgICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICBpZiAoIWNiLmNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXVzZXJXYW50c0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdExlYXZlRHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCBleHBsaWNpdExlYXZlRHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZWF2ZSAmJiBsZWF2ZShlbCwgY2IpO1xyXG4gICAgICAgIGlmICghZXhwZWN0c0NTUyAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xyXG4gICAgICAgICAgICBjYigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBvbmx5IHVzZWQgaW4gZGV2IG1vZGVcclxuZnVuY3Rpb24gY2hlY2tEdXJhdGlvbih2YWwsIG5hbWUsIHZub2RlKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICB3YXJuJDIoXCI8dHJhbnNpdGlvbj4gZXhwbGljaXQgXCIuY29uY2F0KG5hbWUsIFwiIGR1cmF0aW9uIGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIFwiKSArXHJcbiAgICAgICAgICAgIFwiZ290IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh2YWwpLCBcIi5cIiksIHZub2RlLmNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNOYU4odmFsKSkge1xyXG4gICAgICAgIHdhcm4kMihcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIi5jb25jYXQobmFtZSwgXCIgZHVyYXRpb24gaXMgTmFOIC0gXCIpICtcclxuICAgICAgICAgICAgJ3RoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC4nLCB2bm9kZS5jb250ZXh0KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1ZhbGlkRHVyYXRpb24odmFsKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbCk7XHJcbn1cclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHRyYW5zaXRpb24gaG9vaydzIGFyZ3VtZW50IGxlbmd0aC4gVGhlIGhvb2sgbWF5IGJlOlxyXG4gKiAtIGEgbWVyZ2VkIGhvb2sgKGludm9rZXIpIHdpdGggdGhlIG9yaWdpbmFsIGluIC5mbnNcclxuICogLSBhIHdyYXBwZWQgY29tcG9uZW50IG1ldGhvZCAoY2hlY2sgLl9sZW5ndGgpXHJcbiAqIC0gYSBwbGFpbiBmdW5jdGlvbiAoLmxlbmd0aClcclxuICovXHJcbmZ1bmN0aW9uIGdldEhvb2tBcmd1bWVudHNMZW5ndGgoZm4pIHtcclxuICAgIGlmIChpc1VuZGVmKGZuKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIHZhciBpbnZva2VyRm5zID0gZm4uZm5zO1xyXG4gICAgaWYgKGlzRGVmKGludm9rZXJGbnMpKSB7XHJcbiAgICAgICAgLy8gaW52b2tlclxyXG4gICAgICAgIHJldHVybiBnZXRIb29rQXJndW1lbnRzTGVuZ3RoKEFycmF5LmlzQXJyYXkoaW52b2tlckZucykgPyBpbnZva2VyRm5zWzBdIDogaW52b2tlckZucyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgcmV0dXJuIChmbi5fbGVuZ3RoIHx8IGZuLmxlbmd0aCkgPiAxO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIF9lbnRlcihfLCB2bm9kZSkge1xyXG4gICAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkge1xyXG4gICAgICAgIGVudGVyKHZub2RlKTtcclxuICAgIH1cclxufVxyXG52YXIgdHJhbnNpdGlvbiA9IGluQnJvd3NlclxyXG4gICAgPyB7XHJcbiAgICAgICAgY3JlYXRlOiBfZW50ZXIsXHJcbiAgICAgICAgYWN0aXZhdGU6IF9lbnRlcixcclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICh2bm9kZSwgcm0pIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgICAgbGVhdmUodm5vZGUsIHJtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJtKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICA6IHt9O1xuXG52YXIgcGxhdGZvcm1Nb2R1bGVzID0gW2F0dHJzLCBrbGFzcyQxLCBldmVudHMsIGRvbVByb3BzLCBzdHlsZSQxLCB0cmFuc2l0aW9uXTtcblxuLy8gdGhlIGRpcmVjdGl2ZSBtb2R1bGUgc2hvdWxkIGJlIGFwcGxpZWQgbGFzdCwgYWZ0ZXIgYWxsXHJcbi8vIGJ1aWx0LWluIG1vZHVsZXMgaGF2ZSBiZWVuIGFwcGxpZWQuXHJcbnZhciBtb2R1bGVzJDEgPSBwbGF0Zm9ybU1vZHVsZXMuY29uY2F0KGJhc2VNb2R1bGVzKTtcclxudmFyIHBhdGNoID0gY3JlYXRlUGF0Y2hGdW5jdGlvbih7IG5vZGVPcHM6IG5vZGVPcHMsIG1vZHVsZXM6IG1vZHVsZXMkMSB9KTtcblxuLyoqXHJcbiAqIE5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBsaWtlIGF0dGFjaGluZ1xyXG4gKiBwcm9wZXJ0aWVzIHRvIEVsZW1lbnRzLlxyXG4gKi9cclxuLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbmlmIChpc0lFOSkge1xyXG4gICAgLy8gaHR0cDovL3d3dy5tYXR0czQxMS5jb20vcG9zdC9pbnRlcm5ldC1leHBsb3Jlci05LW9uaW5wdXQvXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgaWYgKGVsICYmIGVsLnZtb2RlbCkge1xyXG4gICAgICAgICAgICB0cmlnZ2VyKGVsLCAnaW5wdXQnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG52YXIgZGlyZWN0aXZlID0ge1xyXG4gICAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIChlbCwgYmluZGluZywgdm5vZGUsIG9sZFZub2RlKSB7XHJcbiAgICAgICAgaWYgKHZub2RlLnRhZyA9PT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICAgICAgLy8gIzY5MDNcclxuICAgICAgICAgICAgaWYgKG9sZFZub2RlLmVsbSAmJiAhb2xkVm5vZGUuZWxtLl92T3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUsICdwb3N0cGF0Y2gnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLmNvbXBvbmVudFVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsLl92T3B0aW9ucyA9IFtdLm1hcC5jYWxsKGVsLm9wdGlvbnMsIGdldFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodm5vZGUudGFnID09PSAndGV4dGFyZWEnIHx8IGlzVGV4dElucHV0VHlwZShlbC50eXBlKSkge1xyXG4gICAgICAgICAgICBlbC5fdk1vZGlmaWVycyA9IGJpbmRpbmcubW9kaWZpZXJzO1xyXG4gICAgICAgICAgICBpZiAoIWJpbmRpbmcubW9kaWZpZXJzLmxhenkpIHtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uc3RhcnQnLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcclxuICAgICAgICAgICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW5cclxuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGluZyBmb2N1cyBiZWZvcmUgY29uZmlybWluZyBjb21wb3NpdGlvbiBjaG9pY2VcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWVcclxuICAgICAgICAgICAgICAgIC8vIGZpcmVzIFwiY2hhbmdlXCIgaW5zdGVhZCBvZiBcImlucHV0XCIgb24gYXV0b2NvbXBsZXRlLlxyXG4gICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25Db21wb3NpdGlvbkVuZCk7XHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgICAgIGlmIChpc0lFOSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnZtb2RlbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50VXBkYXRlZDogZnVuY3Rpb24gKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGlmICh2bm9kZS50YWcgPT09ICdzZWxlY3QnKSB7XHJcbiAgICAgICAgICAgIHNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bm9kZS5jb250ZXh0KTtcclxuICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGUgb3B0aW9ucyByZW5kZXJlZCBieSB2LWZvciBoYXZlIGNoYW5nZWQsXHJcbiAgICAgICAgICAgIC8vIGl0J3MgcG9zc2libGUgdGhhdCB0aGUgdmFsdWUgaXMgb3V0LW9mLXN5bmMgd2l0aCB0aGUgcmVuZGVyZWQgb3B0aW9ucy5cclxuICAgICAgICAgICAgLy8gZGV0ZWN0IHN1Y2ggY2FzZXMgYW5kIGZpbHRlciBvdXQgdmFsdWVzIHRoYXQgbm8gbG9uZ2VyIGhhcyBhIG1hdGNoaW5nXHJcbiAgICAgICAgICAgIC8vIG9wdGlvbiBpbiB0aGUgRE9NLlxyXG4gICAgICAgICAgICB2YXIgcHJldk9wdGlvbnNfMSA9IGVsLl92T3B0aW9ucztcclxuICAgICAgICAgICAgdmFyIGN1ck9wdGlvbnNfMSA9IChlbC5fdk9wdGlvbnMgPSBbXS5tYXAuY2FsbChlbC5vcHRpb25zLCBnZXRWYWx1ZSkpO1xyXG4gICAgICAgICAgICBpZiAoY3VyT3B0aW9uc18xLnNvbWUoZnVuY3Rpb24gKG8sIGkpIHsgcmV0dXJuICFsb29zZUVxdWFsKG8sIHByZXZPcHRpb25zXzFbaV0pOyB9KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdHJpZ2dlciBjaGFuZ2UgZXZlbnQgaWZcclxuICAgICAgICAgICAgICAgIC8vIG5vIG1hdGNoaW5nIG9wdGlvbiBmb3VuZCBmb3IgYXQgbGVhc3Qgb25lIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB2YXIgbmVlZFJlc2V0ID0gZWwubXVsdGlwbGVcclxuICAgICAgICAgICAgICAgICAgICA/IGJpbmRpbmcudmFsdWUuc29tZShmdW5jdGlvbiAodikgeyByZXR1cm4gaGFzTm9NYXRjaGluZ09wdGlvbih2LCBjdXJPcHRpb25zXzEpOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIDogYmluZGluZy52YWx1ZSAhPT0gYmluZGluZy5vbGRWYWx1ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNOb01hdGNoaW5nT3B0aW9uKGJpbmRpbmcudmFsdWUsIGN1ck9wdGlvbnNfMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmVlZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm0pIHtcclxuICAgIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGlzSUUgfHwgaXNFZGdlKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBhY3R1YWxseVNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bSkge1xyXG4gICAgdmFyIHZhbHVlID0gYmluZGluZy52YWx1ZTtcclxuICAgIHZhciBpc011bHRpcGxlID0gZWwubXVsdGlwbGU7XHJcbiAgICBpZiAoaXNNdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHdhcm4kMihcIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cXFwiXCIuY29uY2F0KGJpbmRpbmcuZXhwcmVzc2lvbiwgXCJcXFwiPiBcIikgK1xyXG4gICAgICAgICAgICAgICAgXCJleHBlY3RzIGFuIEFycmF5IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCBcIi5jb25jYXQoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIC5jYWxsKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZSg4LCAtMSkpLCB2bSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHNlbGVjdGVkLCBvcHRpb247XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcclxuICAgICAgICBpZiAoaXNNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgZ2V0VmFsdWUob3B0aW9uKSkgPiAtMTtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbC5zZWxlY3RlZEluZGV4ICE9PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzTXVsdGlwbGUpIHtcclxuICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzTm9NYXRjaGluZ09wdGlvbih2YWx1ZSwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG9wdGlvbnMuZXZlcnkoZnVuY3Rpb24gKG8pIHsgcmV0dXJuICFsb29zZUVxdWFsKG8sIHZhbHVlKTsgfSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VmFsdWUob3B0aW9uKSB7XHJcbiAgICByZXR1cm4gJ192YWx1ZScgaW4gb3B0aW9uID8gb3B0aW9uLl92YWx1ZSA6IG9wdGlvbi52YWx1ZTtcclxufVxyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xyXG4gICAgZS50YXJnZXQuY29tcG9zaW5nID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcclxuICAgIC8vIHByZXZlbnQgdHJpZ2dlcmluZyBhbiBpbnB1dCBldmVudCBmb3Igbm8gcmVhc29uXHJcbiAgICBpZiAoIWUudGFyZ2V0LmNvbXBvc2luZylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTtcclxuICAgIHRyaWdnZXIoZS50YXJnZXQsICdpbnB1dCcpO1xyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXIoZWwsIHR5cGUpIHtcclxuICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTtcclxuICAgIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xyXG4gICAgZWwuZGlzcGF0Y2hFdmVudChlKTtcclxufVxuXG4vLyByZWN1cnNpdmVseSBzZWFyY2ggZm9yIHBvc3NpYmxlIHRyYW5zaXRpb24gZGVmaW5lZCBpbnNpZGUgdGhlIGNvbXBvbmVudCByb290XHJcbmZ1bmN0aW9uIGxvY2F0ZU5vZGUodm5vZGUpIHtcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIHJldHVybiB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJiAoIXZub2RlLmRhdGEgfHwgIXZub2RlLmRhdGEudHJhbnNpdGlvbilcclxuICAgICAgICA/IGxvY2F0ZU5vZGUodm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlKVxyXG4gICAgICAgIDogdm5vZGU7XHJcbn1cclxudmFyIHNob3cgPSB7XHJcbiAgICBiaW5kOiBmdW5jdGlvbiAoZWwsIF9hLCB2bm9kZSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IF9hLnZhbHVlO1xyXG4gICAgICAgIHZub2RlID0gbG9jYXRlTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb24gPSB2bm9kZS5kYXRhICYmIHZub2RlLmRhdGEudHJhbnNpdGlvbjtcclxuICAgICAgICB2YXIgb3JpZ2luYWxEaXNwbGF5ID0gKGVsLl9fdk9yaWdpbmFsRGlzcGxheSA9XHJcbiAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICcnIDogZWwuc3R5bGUuZGlzcGxheSk7XHJcbiAgICAgICAgaWYgKHZhbHVlICYmIHRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgdm5vZGUuZGF0YS5zaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZW50ZXIodm5vZGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBvcmlnaW5hbERpc3BsYXk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gb3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIChlbCwgX2EsIHZub2RlKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gX2EudmFsdWUsIG9sZFZhbHVlID0gX2Eub2xkVmFsdWU7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCF2YWx1ZSA9PT0gIW9sZFZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcclxuICAgICAgICB2YXIgdHJhbnNpdGlvbiA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHZub2RlLmRhdGEuc2hvdyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZW50ZXIodm5vZGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZWF2ZSh2bm9kZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX192T3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1bmJpbmQ6IGZ1bmN0aW9uIChlbCwgYmluZGluZywgdm5vZGUsIG9sZFZub2RlLCBpc0Rlc3Ryb3kpIHtcclxuICAgICAgICBpZiAoIWlzRGVzdHJveSkge1xyXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcblxudmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHtcclxuICAgIG1vZGVsOiBkaXJlY3RpdmUsXHJcbiAgICBzaG93OiBzaG93XHJcbn07XG5cbi8vIFByb3ZpZGVzIHRyYW5zaXRpb24gc3VwcG9ydCBmb3IgYSBzaW5nbGUgZWxlbWVudC9jb21wb25lbnQuXHJcbnZhciB0cmFuc2l0aW9uUHJvcHMgPSB7XHJcbiAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICBhcHBlYXI6IEJvb2xlYW4sXHJcbiAgICBjc3M6IEJvb2xlYW4sXHJcbiAgICBtb2RlOiBTdHJpbmcsXHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnRlckNsYXNzOiBTdHJpbmcsXHJcbiAgICBsZWF2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBlbnRlclRvQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlVG9DbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyQ2xhc3M6IFN0cmluZyxcclxuICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBkdXJhdGlvbjogW051bWJlciwgU3RyaW5nLCBPYmplY3RdXHJcbn07XHJcbi8vIGluIGNhc2UgdGhlIGNoaWxkIGlzIGFsc28gYW4gYWJzdHJhY3QgY29tcG9uZW50LCBlLmcuIDxrZWVwLWFsaXZlPlxyXG4vLyB3ZSB3YW50IHRvIHJlY3Vyc2l2ZWx5IHJldHJpZXZlIHRoZSByZWFsIGNvbXBvbmVudCB0byBiZSByZW5kZXJlZFxyXG5mdW5jdGlvbiBnZXRSZWFsQ2hpbGQodm5vZGUpIHtcclxuICAgIHZhciBjb21wT3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XHJcbiAgICBpZiAoY29tcE9wdGlvbnMgJiYgY29tcE9wdGlvbnMuQ3Rvci5vcHRpb25zLmFic3RyYWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldFJlYWxDaGlsZChnZXRGaXJzdENvbXBvbmVudENoaWxkKGNvbXBPcHRpb25zLmNoaWxkcmVuKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdm5vZGU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZXh0cmFjdFRyYW5zaXRpb25EYXRhKGNvbXApIHtcclxuICAgIHZhciBkYXRhID0ge307XHJcbiAgICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7XHJcbiAgICAvLyBwcm9wc1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMucHJvcHNEYXRhKSB7XHJcbiAgICAgICAgZGF0YVtrZXldID0gY29tcFtrZXldO1xyXG4gICAgfVxyXG4gICAgLy8gZXZlbnRzLlxyXG4gICAgLy8gZXh0cmFjdCBsaXN0ZW5lcnMgYW5kIHBhc3MgdGhlbSBkaXJlY3RseSB0byB0aGUgdHJhbnNpdGlvbiBtZXRob2RzXHJcbiAgICB2YXIgbGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGxpc3RlbmVycykge1xyXG4gICAgICAgIGRhdGFbY2FtZWxpemUoa2V5KV0gPSBsaXN0ZW5lcnNba2V5XTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcbmZ1bmN0aW9uIHBsYWNlaG9sZGVyKGgsIHJhd0NoaWxkKSB7XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICBpZiAoL1xcZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpKSB7XHJcbiAgICAgICAgcmV0dXJuIGgoJ2tlZXAtYWxpdmUnLCB7XHJcbiAgICAgICAgICAgIHByb3BzOiByYXdDaGlsZC5jb21wb25lbnRPcHRpb25zLnByb3BzRGF0YVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhc1BhcmVudFRyYW5zaXRpb24odm5vZGUpIHtcclxuICAgIHdoaWxlICgodm5vZGUgPSB2bm9kZS5wYXJlbnQpKSB7XHJcbiAgICAgICAgaWYgKHZub2RlLmRhdGEudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNTYW1lQ2hpbGQoY2hpbGQsIG9sZENoaWxkKSB7XHJcbiAgICByZXR1cm4gb2xkQ2hpbGQua2V5ID09PSBjaGlsZC5rZXkgJiYgb2xkQ2hpbGQudGFnID09PSBjaGlsZC50YWc7XHJcbn1cclxudmFyIGlzTm90VGV4dE5vZGUgPSBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50YWcgfHwgaXNBc3luY1BsYWNlaG9sZGVyKGMpOyB9O1xyXG52YXIgaXNWU2hvd0RpcmVjdGl2ZSA9IGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm5hbWUgPT09ICdzaG93JzsgfTtcclxudmFyIFRyYW5zaXRpb24gPSB7XHJcbiAgICBuYW1lOiAndHJhbnNpdGlvbicsXHJcbiAgICBwcm9wczogdHJhbnNpdGlvblByb3BzLFxyXG4gICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLiRzbG90cy5kZWZhdWx0O1xyXG4gICAgICAgIGlmICghY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmaWx0ZXIgb3V0IHRleHQgbm9kZXMgKHBvc3NpYmxlIHdoaXRlc3BhY2VzKVxyXG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKGlzTm90VGV4dE5vZGUpO1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgd2FybiQyKCc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50LiBVc2UgJyArXHJcbiAgICAgICAgICAgICAgICAnPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy4nLCB0aGlzLiRwYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTtcclxuICAgICAgICAvLyB3YXJuIGludmFsaWQgbW9kZVxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG1vZGUgJiYgbW9kZSAhPT0gJ2luLW91dCcgJiYgbW9kZSAhPT0gJ291dC1pbicpIHtcclxuICAgICAgICAgICAgd2FybiQyKCdpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAnICsgbW9kZSwgdGhpcy4kcGFyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJhd0NoaWxkID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGNvbXBvbmVudCByb290IG5vZGUgYW5kIHRoZSBjb21wb25lbnQnc1xyXG4gICAgICAgIC8vIHBhcmVudCBjb250YWluZXIgbm9kZSBhbHNvIGhhcyB0cmFuc2l0aW9uLCBza2lwLlxyXG4gICAgICAgIGlmIChoYXNQYXJlbnRUcmFuc2l0aW9uKHRoaXMuJHZub2RlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmF3Q2hpbGQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zaXRpb24gZGF0YSB0byBjaGlsZFxyXG4gICAgICAgIC8vIHVzZSBnZXRSZWFsQ2hpbGQoKSB0byBpZ25vcmUgYWJzdHJhY3QgY29tcG9uZW50cyBlLmcuIGtlZXAtYWxpdmVcclxuICAgICAgICB2YXIgY2hpbGQgPSBnZXRSZWFsQ2hpbGQocmF3Q2hpbGQpO1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmICghY2hpbGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJhd0NoaWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fbGVhdmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlbnN1cmUgYSBrZXkgdGhhdCBpcyB1bmlxdWUgdG8gdGhlIHZub2RlIHR5cGUgYW5kIHRvIHRoaXMgdHJhbnNpdGlvblxyXG4gICAgICAgIC8vIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhpcyBrZXkgd2lsbCBiZSB1c2VkIHRvIHJlbW92ZSBwZW5kaW5nIGxlYXZpbmcgbm9kZXNcclxuICAgICAgICAvLyBkdXJpbmcgZW50ZXJpbmcuXHJcbiAgICAgICAgdmFyIGlkID0gXCJfX3RyYW5zaXRpb24tXCIuY29uY2F0KHRoaXMuX3VpZCwgXCItXCIpO1xyXG4gICAgICAgIGNoaWxkLmtleSA9XHJcbiAgICAgICAgICAgIGNoaWxkLmtleSA9PSBudWxsXHJcbiAgICAgICAgICAgICAgICA/IGNoaWxkLmlzQ29tbWVudFxyXG4gICAgICAgICAgICAgICAgICAgID8gaWQgKyAnY29tbWVudCdcclxuICAgICAgICAgICAgICAgICAgICA6IGlkICsgY2hpbGQudGFnXHJcbiAgICAgICAgICAgICAgICA6IGlzUHJpbWl0aXZlKGNoaWxkLmtleSlcclxuICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhjaGlsZC5rZXkpLmluZGV4T2YoaWQpID09PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2hpbGQua2V5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaWQgKyBjaGlsZC5rZXlcclxuICAgICAgICAgICAgICAgICAgICA6IGNoaWxkLmtleTtcclxuICAgICAgICB2YXIgZGF0YSA9ICgoY2hpbGQuZGF0YSB8fCAoY2hpbGQuZGF0YSA9IHt9KSkudHJhbnNpdGlvbiA9XHJcbiAgICAgICAgICAgIGV4dHJhY3RUcmFuc2l0aW9uRGF0YSh0aGlzKSk7XHJcbiAgICAgICAgdmFyIG9sZFJhd0NoaWxkID0gdGhpcy5fdm5vZGU7XHJcbiAgICAgICAgdmFyIG9sZENoaWxkID0gZ2V0UmVhbENoaWxkKG9sZFJhd0NoaWxkKTtcclxuICAgICAgICAvLyBtYXJrIHYtc2hvd1xyXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIHRyYW5zaXRpb24gbW9kdWxlIGNhbiBoYW5kIG92ZXIgdGhlIGNvbnRyb2wgdG8gdGhlIGRpcmVjdGl2ZVxyXG4gICAgICAgIGlmIChjaGlsZC5kYXRhLmRpcmVjdGl2ZXMgJiYgY2hpbGQuZGF0YS5kaXJlY3RpdmVzLnNvbWUoaXNWU2hvd0RpcmVjdGl2ZSkpIHtcclxuICAgICAgICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9sZENoaWxkICYmXHJcbiAgICAgICAgICAgIG9sZENoaWxkLmRhdGEgJiZcclxuICAgICAgICAgICAgIWlzU2FtZUNoaWxkKGNoaWxkLCBvbGRDaGlsZCkgJiZcclxuICAgICAgICAgICAgIWlzQXN5bmNQbGFjZWhvbGRlcihvbGRDaGlsZCkgJiZcclxuICAgICAgICAgICAgLy8gIzY2ODcgY29tcG9uZW50IHJvb3QgaXMgYSBjb21tZW50IG5vZGVcclxuICAgICAgICAgICAgIShvbGRDaGlsZC5jb21wb25lbnRJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAgICAgb2xkQ2hpbGQuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlLmlzQ29tbWVudCkpIHtcclxuICAgICAgICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lXHJcbiAgICAgICAgICAgIC8vIGltcG9ydGFudCBmb3IgZHluYW1pYyB0cmFuc2l0aW9ucyFcclxuICAgICAgICAgICAgdmFyIG9sZERhdGEgPSAob2xkQ2hpbGQuZGF0YS50cmFuc2l0aW9uID0gZXh0ZW5kKHt9LCBkYXRhKSk7XHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSB0cmFuc2l0aW9uIG1vZGVcclxuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdvdXQtaW4nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xlYXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2FmdGVyTGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xlYXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyKGgsIHJhd0NoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnaW4tb3V0Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQXN5bmNQbGFjZWhvbGRlcihjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2xkUmF3Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVsYXllZExlYXZlXzE7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ZWRMZWF2ZV8xKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2FmdGVyRW50ZXInLCBwZXJmb3JtTGVhdmUpO1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2VudGVyQ2FuY2VsbGVkJywgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgICAgIG1lcmdlVk5vZGVIb29rKG9sZERhdGEsICdkZWxheUxlYXZlJywgZnVuY3Rpb24gKGxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXllZExlYXZlXzEgPSBsZWF2ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByYXdDaGlsZDtcclxuICAgIH1cclxufTtcblxuLy8gUHJvdmlkZXMgdHJhbnNpdGlvbiBzdXBwb3J0IGZvciBsaXN0IGl0ZW1zLlxyXG52YXIgcHJvcHMgPSBleHRlbmQoe1xyXG4gICAgdGFnOiBTdHJpbmcsXHJcbiAgICBtb3ZlQ2xhc3M6IFN0cmluZ1xyXG59LCB0cmFuc2l0aW9uUHJvcHMpO1xyXG5kZWxldGUgcHJvcHMubW9kZTtcclxudmFyIFRyYW5zaXRpb25Hcm91cCA9IHtcclxuICAgIHByb3BzOiBwcm9wcyxcclxuICAgIGJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdXBkYXRlID0gdGhpcy5fdXBkYXRlO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN0b3JlQWN0aXZlSW5zdGFuY2UgPSBzZXRBY3RpdmVJbnN0YW5jZShfdGhpcyk7XHJcbiAgICAgICAgICAgIC8vIGZvcmNlIHJlbW92aW5nIHBhc3NcclxuICAgICAgICAgICAgX3RoaXMuX19wYXRjaF9fKF90aGlzLl92bm9kZSwgX3RoaXMua2VwdCwgZmFsc2UsIC8vIGh5ZHJhdGluZ1xyXG4gICAgICAgICAgICB0cnVlIC8vIHJlbW92ZU9ubHkgKCFpbXBvcnRhbnQsIGF2b2lkcyB1bm5lY2Vzc2FyeSBtb3ZlcylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgX3RoaXMuX3Zub2RlID0gX3RoaXMua2VwdDtcclxuICAgICAgICAgICAgcmVzdG9yZUFjdGl2ZUluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZS5jYWxsKF90aGlzLCB2bm9kZSwgaHlkcmF0aW5nKTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICB2YXIgdGFnID0gdGhpcy50YWcgfHwgdGhpcy4kdm5vZGUuZGF0YS50YWcgfHwgJ3NwYW4nO1xyXG4gICAgICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIHZhciBwcmV2Q2hpbGRyZW4gPSAodGhpcy5wcmV2Q2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuKTtcclxuICAgICAgICB2YXIgcmF3Q2hpbGRyZW4gPSB0aGlzLiRzbG90cy5kZWZhdWx0IHx8IFtdO1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9ICh0aGlzLmNoaWxkcmVuID0gW10pO1xyXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRGF0YSA9IGV4dHJhY3RUcmFuc2l0aW9uRGF0YSh0aGlzKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjID0gcmF3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGlmIChjLnRhZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGMua2V5ICE9IG51bGwgJiYgU3RyaW5nKGMua2V5KS5pbmRleE9mKCdfX3ZsaXN0JykgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcFtjLmtleV0gPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIChjLmRhdGEgfHwgKGMuZGF0YSA9IHt9KSkudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25EYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRzID0gYy5jb21wb25lbnRPcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lXzEgPSBvcHRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZ2V0Q29tcG9uZW50TmFtZShvcHRzLkN0b3Iub3B0aW9ucykgfHwgb3B0cy50YWcgfHwgJydcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjLnRhZztcclxuICAgICAgICAgICAgICAgICAgICB3YXJuJDIoXCI8dHJhbnNpdGlvbi1ncm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZDogPFwiLmNvbmNhdChuYW1lXzEsIFwiPlwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICB2YXIga2VwdCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZXZDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBwcmV2Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICBjLmRhdGEudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25EYXRhO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlzIG5vdCB0eXBlZCBpbiBOb2RlXHJcbiAgICAgICAgICAgICAgICBjLmRhdGEucG9zID0gYy5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFwW2Mua2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGtlcHQucHVzaChjKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWQucHVzaChjKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmtlcHQgPSBoKHRhZywgbnVsbCwga2VwdCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlZCA9IHJlbW92ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoKHRhZywgbnVsbCwgY2hpbGRyZW4pO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByZXZDaGlsZHJlbjtcclxuICAgICAgICB2YXIgbW92ZUNsYXNzID0gdGhpcy5tb3ZlQ2xhc3MgfHwgKHRoaXMubmFtZSB8fCAndicpICsgJy1tb3ZlJztcclxuICAgICAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5oYXNNb3ZlKGNoaWxkcmVuWzBdLmVsbSwgbW92ZUNsYXNzKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlc1xyXG4gICAgICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goYXBwbHlUcmFuc2xhdGlvbik7XHJcbiAgICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXHJcbiAgICAgICAgLy8gYXNzaWduIHRvIHRoaXMgdG8gYXZvaWQgYmVpbmcgcmVtb3ZlZCBpbiB0cmVlLXNoYWtpbmdcclxuICAgICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcclxuICAgICAgICB0aGlzLl9yZWZsb3cgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgIGlmIChjLmRhdGEubW92ZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbF8xID0gYy5lbG07XHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IGVsXzEuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWxfMSwgbW92ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgIHMudHJhbnNmb3JtID0gcy5XZWJraXRUcmFuc2Zvcm0gPSBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZWxfMS5hZGRFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgKGVsXzEuX21vdmVDYiA9IGZ1bmN0aW9uIGNiKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWxfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxfMS5yZW1vdmVFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgY2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbF8xLl9tb3ZlQ2IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWxfMSwgbW92ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgaGFzTW92ZTogZnVuY3Rpb24gKGVsLCBtb3ZlQ2xhc3MpIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmICghaGFzVHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faGFzTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc01vdmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRGV0ZWN0IHdoZXRoZXIgYW4gZWxlbWVudCB3aXRoIHRoZSBtb3ZlIGNsYXNzIGFwcGxpZWQgaGFzXHJcbiAgICAgICAgICAgIC8vIENTUyB0cmFuc2l0aW9ucy4gU2luY2UgdGhlIGVsZW1lbnQgbWF5IGJlIGluc2lkZSBhbiBlbnRlcmluZ1xyXG4gICAgICAgICAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXHJcbiAgICAgICAgICAgIC8vIGFsbCBvdGhlciB0cmFuc2l0aW9uIGNsYXNzZXMgYXBwbGllZCB0byBlbnN1cmUgb25seSB0aGUgbW92ZSBjbGFzc1xyXG4gICAgICAgICAgICAvLyBpcyBhcHBsaWVkLlxyXG4gICAgICAgICAgICB2YXIgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcclxuICAgICAgICAgICAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3Nlcykge1xyXG4gICAgICAgICAgICAgICAgZWwuX3RyYW5zaXRpb25DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNscykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGNsb25lLCBjbHMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWRkQ2xhc3MoY2xvbmUsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmFwcGVuZENoaWxkKGNsb25lKTtcclxuICAgICAgICAgICAgdmFyIGluZm8gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNoaWxkKGNsb25lKTtcclxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9oYXNNb3ZlID0gaW5mby5oYXNUcmFuc2Zvcm0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMoYykge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoYy5lbG0uX21vdmVDYikge1xyXG4gICAgICAgIGMuZWxtLl9tb3ZlQ2IoKTtcclxuICAgIH1cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGMuZWxtLl9lbnRlckNiKSB7XHJcbiAgICAgICAgYy5lbG0uX2VudGVyQ2IoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XHJcbiAgICBjLmRhdGEubmV3UG9zID0gYy5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XHJcbiAgICB2YXIgb2xkUG9zID0gYy5kYXRhLnBvcztcclxuICAgIHZhciBuZXdQb3MgPSBjLmRhdGEubmV3UG9zO1xyXG4gICAgdmFyIGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcclxuICAgIHZhciBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xyXG4gICAgaWYgKGR4IHx8IGR5KSB7XHJcbiAgICAgICAgYy5kYXRhLm1vdmVkID0gdHJ1ZTtcclxuICAgICAgICB2YXIgcyA9IGMuZWxtLnN0eWxlO1xyXG4gICAgICAgIHMudHJhbnNmb3JtID0gcy5XZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQoZHgsIFwicHgsXCIpLmNvbmNhdChkeSwgXCJweClcIik7XHJcbiAgICAgICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnMHMnO1xyXG4gICAgfVxyXG59XG5cbnZhciBwbGF0Zm9ybUNvbXBvbmVudHMgPSB7XHJcbiAgICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxyXG4gICAgVHJhbnNpdGlvbkdyb3VwOiBUcmFuc2l0aW9uR3JvdXBcclxufTtcblxuLy8gaW5zdGFsbCBwbGF0Zm9ybSBzcGVjaWZpYyB1dGlsc1xyXG5WdWUuY29uZmlnLm11c3RVc2VQcm9wID0gbXVzdFVzZVByb3A7XHJcblZ1ZS5jb25maWcuaXNSZXNlcnZlZFRhZyA9IGlzUmVzZXJ2ZWRUYWc7XHJcblZ1ZS5jb25maWcuaXNSZXNlcnZlZEF0dHIgPSBpc1Jlc2VydmVkQXR0cjtcclxuVnVlLmNvbmZpZy5nZXRUYWdOYW1lc3BhY2UgPSBnZXRUYWdOYW1lc3BhY2U7XHJcblZ1ZS5jb25maWcuaXNVbmtub3duRWxlbWVudCA9IGlzVW5rbm93bkVsZW1lbnQ7XHJcbi8vIGluc3RhbGwgcGxhdGZvcm0gcnVudGltZSBkaXJlY3RpdmVzICYgY29tcG9uZW50c1xyXG5leHRlbmQoVnVlLm9wdGlvbnMuZGlyZWN0aXZlcywgcGxhdGZvcm1EaXJlY3RpdmVzKTtcclxuZXh0ZW5kKFZ1ZS5vcHRpb25zLmNvbXBvbmVudHMsIHBsYXRmb3JtQ29tcG9uZW50cyk7XHJcbi8vIGluc3RhbGwgcGxhdGZvcm0gcGF0Y2ggZnVuY3Rpb25cclxuVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gPSBpbkJyb3dzZXIgPyBwYXRjaCA6IG5vb3A7XHJcbi8vIHB1YmxpYyBtb3VudCBtZXRob2RcclxuVnVlLnByb3RvdHlwZS4kbW91bnQgPSBmdW5jdGlvbiAoZWwsIGh5ZHJhdGluZykge1xyXG4gICAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gbW91bnRDb21wb25lbnQodGhpcywgZWwsIGh5ZHJhdGluZyk7XHJcbn07XHJcbi8vIGRldnRvb2xzIGdsb2JhbCBob29rXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmlmIChpbkJyb3dzZXIpIHtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChjb25maWcuZGV2dG9vbHMpIHtcclxuICAgICAgICAgICAgaWYgKGRldnRvb2xzKSB7XHJcbiAgICAgICAgICAgICAgICBkZXZ0b29scy5lbWl0KCdpbml0JywgVnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKCdEb3dubG9hZCB0aGUgVnVlIERldnRvb2xzIGV4dGVuc2lvbiBmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTpcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1kZXZ0b29scycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcclxuICAgICAgICAgICAgY29uZmlnLnByb2R1Y3Rpb25UaXAgIT09IGZhbHNlICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKFwiWW91IGFyZSBydW5uaW5nIFZ1ZSBpbiBkZXZlbG9wbWVudCBtb2RlLlxcblwiICtcclxuICAgICAgICAgICAgICAgIFwiTWFrZSBzdXJlIHRvIHR1cm4gb24gcHJvZHVjdGlvbiBtb2RlIHdoZW4gZGVwbG95aW5nIGZvciBwcm9kdWN0aW9uLlxcblwiICtcclxuICAgICAgICAgICAgICAgIFwiU2VlIG1vcmUgdGlwcyBhdCBodHRwczovL3Z1ZWpzLm9yZy9ndWlkZS9kZXBsb3ltZW50Lmh0bWxcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgMCk7XHJcbn1cblxudmFyIGRlZmF1bHRUYWdSRSA9IC9cXHtcXHsoKD86LnxcXHI/XFxuKSs/KVxcfVxcfS9nO1xyXG52YXIgcmVnZXhFc2NhcGVSRSA9IC9bLS4qKz9eJHt9KCl8W1xcXVxcL1xcXFxdL2c7XHJcbnZhciBidWlsZFJlZ2V4ID0gY2FjaGVkKGZ1bmN0aW9uIChkZWxpbWl0ZXJzKSB7XHJcbiAgICB2YXIgb3BlbiA9IGRlbGltaXRlcnNbMF0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFxcXCQmJyk7XHJcbiAgICB2YXIgY2xvc2UgPSBkZWxpbWl0ZXJzWzFdLnJlcGxhY2UocmVnZXhFc2NhcGVSRSwgJ1xcXFwkJicpO1xyXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAob3BlbiArICcoKD86LnxcXFxcbikrPyknICsgY2xvc2UsICdnJyk7XHJcbn0pO1xyXG5mdW5jdGlvbiBwYXJzZVRleHQodGV4dCwgZGVsaW1pdGVycykge1xyXG4gICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICB2YXIgdGFnUkUgPSBkZWxpbWl0ZXJzID8gYnVpbGRSZWdleChkZWxpbWl0ZXJzKSA6IGRlZmF1bHRUYWdSRTtcclxuICAgIGlmICghdGFnUkUudGVzdCh0ZXh0KSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciB0b2tlbnMgPSBbXTtcclxuICAgIHZhciByYXdUb2tlbnMgPSBbXTtcclxuICAgIHZhciBsYXN0SW5kZXggPSAodGFnUkUubGFzdEluZGV4ID0gMCk7XHJcbiAgICB2YXIgbWF0Y2gsIGluZGV4LCB0b2tlblZhbHVlO1xyXG4gICAgd2hpbGUgKChtYXRjaCA9IHRhZ1JFLmV4ZWModGV4dCkpKSB7XHJcbiAgICAgICAgaW5kZXggPSBtYXRjaC5pbmRleDtcclxuICAgICAgICAvLyBwdXNoIHRleHQgdG9rZW5cclxuICAgICAgICBpZiAoaW5kZXggPiBsYXN0SW5kZXgpIHtcclxuICAgICAgICAgICAgcmF3VG9rZW5zLnB1c2goKHRva2VuVmFsdWUgPSB0ZXh0LnNsaWNlKGxhc3RJbmRleCwgaW5kZXgpKSk7XHJcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKEpTT04uc3RyaW5naWZ5KHRva2VuVmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGFnIHRva2VuXHJcbiAgICAgICAgdmFyIGV4cCA9IHBhcnNlRmlsdGVycyhtYXRjaFsxXS50cmltKCkpO1xyXG4gICAgICAgIHRva2Vucy5wdXNoKFwiX3MoXCIuY29uY2F0KGV4cCwgXCIpXCIpKTtcclxuICAgICAgICByYXdUb2tlbnMucHVzaCh7ICdAYmluZGluZyc6IGV4cCB9KTtcclxuICAgICAgICBsYXN0SW5kZXggPSBpbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcclxuICAgIH1cclxuICAgIGlmIChsYXN0SW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgIHJhd1Rva2Vucy5wdXNoKCh0b2tlblZhbHVlID0gdGV4dC5zbGljZShsYXN0SW5kZXgpKSk7XHJcbiAgICAgICAgdG9rZW5zLnB1c2goSlNPTi5zdHJpbmdpZnkodG9rZW5WYWx1ZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBleHByZXNzaW9uOiB0b2tlbnMuam9pbignKycpLFxyXG4gICAgICAgIHRva2VuczogcmF3VG9rZW5zXHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybU5vZGUkMShlbCwgb3B0aW9ucykge1xyXG4gICAgdmFyIHdhcm4gPSBvcHRpb25zLndhcm4gfHwgYmFzZVdhcm47XHJcbiAgICB2YXIgc3RhdGljQ2xhc3MgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnY2xhc3MnKTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHN0YXRpY0NsYXNzKSB7XHJcbiAgICAgICAgdmFyIHJlcyA9IHBhcnNlVGV4dChzdGF0aWNDbGFzcywgb3B0aW9ucy5kZWxpbWl0ZXJzKTtcclxuICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJjbGFzcz1cXFwiXCIuY29uY2F0KHN0YXRpY0NsYXNzLCBcIlxcXCI6IFwiKSArXHJcbiAgICAgICAgICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcclxuICAgICAgICAgICAgICAgICdVc2Ugdi1iaW5kIG9yIHRoZSBjb2xvbiBzaG9ydGhhbmQgaW5zdGVhZC4gRm9yIGV4YW1wbGUsICcgK1xyXG4gICAgICAgICAgICAgICAgJ2luc3RlYWQgb2YgPGRpdiBjbGFzcz1cInt7IHZhbCB9fVwiPiwgdXNlIDxkaXYgOmNsYXNzPVwidmFsXCI+LicsIGVsLnJhd0F0dHJzTWFwWydjbGFzcyddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoc3RhdGljQ2xhc3MpIHtcclxuICAgICAgICBlbC5zdGF0aWNDbGFzcyA9IEpTT04uc3RyaW5naWZ5KHN0YXRpY0NsYXNzLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCkpO1xyXG4gICAgfVxyXG4gICAgdmFyIGNsYXNzQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnY2xhc3MnLCBmYWxzZSAvKiBnZXRTdGF0aWMgKi8pO1xyXG4gICAgaWYgKGNsYXNzQmluZGluZykge1xyXG4gICAgICAgIGVsLmNsYXNzQmluZGluZyA9IGNsYXNzQmluZGluZztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZW5EYXRhJDIoZWwpIHtcclxuICAgIHZhciBkYXRhID0gJyc7XHJcbiAgICBpZiAoZWwuc3RhdGljQ2xhc3MpIHtcclxuICAgICAgICBkYXRhICs9IFwic3RhdGljQ2xhc3M6XCIuY29uY2F0KGVsLnN0YXRpY0NsYXNzLCBcIixcIik7XHJcbiAgICB9XHJcbiAgICBpZiAoZWwuY2xhc3NCaW5kaW5nKSB7XHJcbiAgICAgICAgZGF0YSArPSBcImNsYXNzOlwiLmNvbmNhdChlbC5jbGFzc0JpbmRpbmcsIFwiLFwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcbnZhciBrbGFzcyA9IHtcclxuICAgIHN0YXRpY0tleXM6IFsnc3RhdGljQ2xhc3MnXSxcclxuICAgIHRyYW5zZm9ybU5vZGU6IHRyYW5zZm9ybU5vZGUkMSxcclxuICAgIGdlbkRhdGE6IGdlbkRhdGEkMlxyXG59O1xuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Ob2RlKGVsLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgd2FybiA9IG9wdGlvbnMud2FybiB8fCBiYXNlV2FybjtcclxuICAgIHZhciBzdGF0aWNTdHlsZSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICdzdHlsZScpO1xyXG4gICAgaWYgKHN0YXRpY1N0eWxlKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgdmFyIHJlcyA9IHBhcnNlVGV4dChzdGF0aWNTdHlsZSwgb3B0aW9ucy5kZWxpbWl0ZXJzKTtcclxuICAgICAgICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgICAgICAgICAgd2FybihcInN0eWxlPVxcXCJcIi5jb25jYXQoc3RhdGljU3R5bGUsIFwiXFxcIjogXCIpICtcclxuICAgICAgICAgICAgICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcclxuICAgICAgICAgICAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICtcclxuICAgICAgICAgICAgICAgICAgICAnaW5zdGVhZCBvZiA8ZGl2IHN0eWxlPVwie3sgdmFsIH19XCI+LCB1c2UgPGRpdiA6c3R5bGU9XCJ2YWxcIj4uJywgZWwucmF3QXR0cnNNYXBbJ3N0eWxlJ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsLnN0YXRpY1N0eWxlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VTdHlsZVRleHQoc3RhdGljU3R5bGUpKTtcclxuICAgIH1cclxuICAgIHZhciBzdHlsZUJpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3N0eWxlJywgZmFsc2UgLyogZ2V0U3RhdGljICovKTtcclxuICAgIGlmIChzdHlsZUJpbmRpbmcpIHtcclxuICAgICAgICBlbC5zdHlsZUJpbmRpbmcgPSBzdHlsZUJpbmRpbmc7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2VuRGF0YSQxKGVsKSB7XHJcbiAgICB2YXIgZGF0YSA9ICcnO1xyXG4gICAgaWYgKGVsLnN0YXRpY1N0eWxlKSB7XHJcbiAgICAgICAgZGF0YSArPSBcInN0YXRpY1N0eWxlOlwiLmNvbmNhdChlbC5zdGF0aWNTdHlsZSwgXCIsXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsLnN0eWxlQmluZGluZykge1xyXG4gICAgICAgIGRhdGEgKz0gXCJzdHlsZTooXCIuY29uY2F0KGVsLnN0eWxlQmluZGluZywgXCIpLFwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcbnZhciBzdHlsZSA9IHtcclxuICAgIHN0YXRpY0tleXM6IFsnc3RhdGljU3R5bGUnXSxcclxuICAgIHRyYW5zZm9ybU5vZGU6IHRyYW5zZm9ybU5vZGUsXHJcbiAgICBnZW5EYXRhOiBnZW5EYXRhJDFcclxufTtcblxudmFyIGRlY29kZXI7XHJcbnZhciBoZSA9IHtcclxuICAgIGRlY29kZTogZnVuY3Rpb24gKGh0bWwpIHtcclxuICAgICAgICBkZWNvZGVyID0gZGVjb2RlciB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkZWNvZGVyLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgcmV0dXJuIGRlY29kZXIudGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcbn07XG5cbnZhciBpc1VuYXJ5VGFnID0gbWFrZU1hcCgnYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxmcmFtZSxocixpbWcsaW5wdXQsaXNpbmRleCxrZXlnZW4sJyArXHJcbiAgICAnbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnInKTtcclxuLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuXHJcbi8vIChhbmQgd2hpY2ggY2xvc2UgdGhlbXNlbHZlcylcclxudmFyIGNhbkJlTGVmdE9wZW5UYWcgPSBtYWtlTWFwKCdjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlJyk7XHJcbi8vIEhUTUw1IHRhZ3MgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sI2VsZW1lbnRzLTNcclxuLy8gUGhyYXNpbmcgQ29udGVudCBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9kb20uaHRtbCNwaHJhc2luZy1jb250ZW50XHJcbnZhciBpc05vblBocmFzaW5nVGFnID0gbWFrZU1hcCgnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJhc2UsYmxvY2txdW90ZSxib2R5LGNhcHRpb24sY29sLGNvbGdyb3VwLGRkLCcgK1xyXG4gICAgJ2RldGFpbHMsZGlhbG9nLGRpdixkbCxkdCxmaWVsZHNldCxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsZm9ybSwnICtcclxuICAgICdoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSwnICtcclxuICAgICdvcHRncm91cCxvcHRpb24scGFyYW0scnAscnQsc291cmNlLHN0eWxlLHN1bW1hcnksdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsJyArXHJcbiAgICAndGl0bGUsdHIsdHJhY2snKTtcblxuLyoqXHJcbiAqIE5vdCB0eXBlLWNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGl0J3MgbW9zdGx5IHZlbmRvciBjb2RlLlxyXG4gKi9cclxuLy8gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgcGFyc2luZyB0YWdzIGFuZCBhdHRyaWJ1dGVzXHJcbnZhciBhdHRyaWJ1dGUgPSAvXlxccyooW15cXHNcIic8PlxcLz1dKykoPzpcXHMqKD0pXFxzKig/OlwiKFteXCJdKilcIit8JyhbXiddKiknK3woW15cXHNcIic9PD5gXSspKSk/LztcclxudmFyIGR5bmFtaWNBcmdBdHRyaWJ1dGUgPSAvXlxccyooKD86di1bXFx3LV0rOnxAfDp8IylcXFtbXj1dKz9cXF1bXlxcc1wiJzw+XFwvPV0qKSg/OlxccyooPSlcXHMqKD86XCIoW15cIl0qKVwiK3wnKFteJ10qKScrfChbXlxcc1wiJz08PmBdKykpKT8vO1xyXG52YXIgbmNuYW1lID0gXCJbYS16QS1aX11bXFxcXC1cXFxcLjAtOV9hLXpBLVpcIi5jb25jYXQodW5pY29kZVJlZ0V4cC5zb3VyY2UsIFwiXSpcIik7XHJcbnZhciBxbmFtZUNhcHR1cmUgPSBcIigoPzpcIi5jb25jYXQobmNuYW1lLCBcIlxcXFw6KT9cIikuY29uY2F0KG5jbmFtZSwgXCIpXCIpO1xyXG52YXIgc3RhcnRUYWdPcGVuID0gbmV3IFJlZ0V4cChcIl48XCIuY29uY2F0KHFuYW1lQ2FwdHVyZSkpO1xyXG52YXIgc3RhcnRUYWdDbG9zZSA9IC9eXFxzKihcXC8/KT4vO1xyXG52YXIgZW5kVGFnID0gbmV3IFJlZ0V4cChcIl48XFxcXC9cIi5jb25jYXQocW5hbWVDYXB0dXJlLCBcIltePl0qPlwiKSk7XHJcbnZhciBkb2N0eXBlID0gL148IURPQ1RZUEUgW14+XSs+L2k7XHJcbi8vICM3Mjk4OiBlc2NhcGUgLSB0byBhdm9pZCBiZWluZyBwYXNzZWQgYXMgSFRNTCBjb21tZW50IHdoZW4gaW5saW5lZCBpbiBwYWdlXHJcbnZhciBjb21tZW50ID0gL148IVxcLS0vO1xyXG52YXIgY29uZGl0aW9uYWxDb21tZW50ID0gL148IVxcWy87XHJcbi8vIFNwZWNpYWwgRWxlbWVudHMgKGNhbiBjb250YWluIGFueXRoaW5nKVxyXG52YXIgaXNQbGFpblRleHRFbGVtZW50ID0gbWFrZU1hcCgnc2NyaXB0LHN0eWxlLHRleHRhcmVhJywgdHJ1ZSk7XHJcbnZhciByZUNhY2hlID0ge307XHJcbnZhciBkZWNvZGluZ01hcCA9IHtcclxuICAgICcmbHQ7JzogJzwnLFxyXG4gICAgJyZndDsnOiAnPicsXHJcbiAgICAnJnF1b3Q7JzogJ1wiJyxcclxuICAgICcmYW1wOyc6ICcmJyxcclxuICAgICcmIzEwOyc6ICdcXG4nLFxyXG4gICAgJyYjOTsnOiAnXFx0JyxcclxuICAgICcmIzM5Oyc6IFwiJ1wiXHJcbn07XHJcbnZhciBlbmNvZGVkQXR0ciA9IC8mKD86bHR8Z3R8cXVvdHxhbXB8IzM5KTsvZztcclxudmFyIGVuY29kZWRBdHRyV2l0aE5ld0xpbmVzID0gLyYoPzpsdHxndHxxdW90fGFtcHwjMzl8IzEwfCM5KTsvZztcclxuLy8gIzU5OTJcclxudmFyIGlzSWdub3JlTmV3bGluZVRhZyA9IG1ha2VNYXAoJ3ByZSx0ZXh0YXJlYScsIHRydWUpO1xyXG52YXIgc2hvdWxkSWdub3JlRmlyc3ROZXdsaW5lID0gZnVuY3Rpb24gKHRhZywgaHRtbCkge1xyXG4gICAgcmV0dXJuIHRhZyAmJiBpc0lnbm9yZU5ld2xpbmVUYWcodGFnKSAmJiBodG1sWzBdID09PSAnXFxuJztcclxufTtcclxuZnVuY3Rpb24gZGVjb2RlQXR0cih2YWx1ZSwgc2hvdWxkRGVjb2RlTmV3bGluZXMpIHtcclxuICAgIHZhciByZSA9IHNob3VsZERlY29kZU5ld2xpbmVzID8gZW5jb2RlZEF0dHJXaXRoTmV3TGluZXMgOiBlbmNvZGVkQXR0cjtcclxuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKHJlLCBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIGRlY29kaW5nTWFwW21hdGNoXTsgfSk7XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VIVE1MKGh0bWwsIG9wdGlvbnMpIHtcclxuICAgIHZhciBzdGFjayA9IFtdO1xyXG4gICAgdmFyIGV4cGVjdEhUTUwgPSBvcHRpb25zLmV4cGVjdEhUTUw7XHJcbiAgICB2YXIgaXNVbmFyeVRhZyA9IG9wdGlvbnMuaXNVbmFyeVRhZyB8fCBubztcclxuICAgIHZhciBjYW5CZUxlZnRPcGVuVGFnID0gb3B0aW9ucy5jYW5CZUxlZnRPcGVuVGFnIHx8IG5vO1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuICAgIHZhciBsYXN0LCBsYXN0VGFnO1xyXG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGFzdCA9IGh0bWw7XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlJ3JlIG5vdCBpbiBhIHBsYWludGV4dCBjb250ZW50IGVsZW1lbnQgbGlrZSBzY3JpcHQvc3R5bGVcclxuICAgICAgICBpZiAoIWxhc3RUYWcgfHwgIWlzUGxhaW5UZXh0RWxlbWVudChsYXN0VGFnKSkge1xyXG4gICAgICAgICAgICB2YXIgdGV4dEVuZCA9IGh0bWwuaW5kZXhPZignPCcpO1xyXG4gICAgICAgICAgICBpZiAodGV4dEVuZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29tbWVudDpcclxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50LnRlc3QoaHRtbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudEVuZCA9IGh0bWwuaW5kZXhPZignLS0+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRFbmQgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaG91bGRLZWVwQ29tbWVudCAmJiBvcHRpb25zLmNvbW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tbWVudChodG1sLnN1YnN0cmluZyg0LCBjb21tZW50RW5kKSwgaW5kZXgsIGluZGV4ICsgY29tbWVudEVuZCArIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoY29tbWVudEVuZCArIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29uZGl0aW9uYWxfY29tbWVudCNEb3dubGV2ZWwtcmV2ZWFsZWRfY29uZGl0aW9uYWxfY29tbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbmFsQ29tbWVudC50ZXN0KGh0bWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmRpdGlvbmFsRW5kID0gaHRtbC5pbmRleE9mKCddPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb25hbEVuZCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoY29uZGl0aW9uYWxFbmQgKyAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBEb2N0eXBlOlxyXG4gICAgICAgICAgICAgICAgdmFyIGRvY3R5cGVNYXRjaCA9IGh0bWwubWF0Y2goZG9jdHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdHlwZU1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShkb2N0eXBlTWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gRW5kIHRhZzpcclxuICAgICAgICAgICAgICAgIHZhciBlbmRUYWdNYXRjaCA9IGh0bWwubWF0Y2goZW5kVGFnKTtcclxuICAgICAgICAgICAgICAgIGlmIChlbmRUYWdNYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoZW5kVGFnTWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZUVuZFRhZyhlbmRUYWdNYXRjaFsxXSwgY3VySW5kZXgsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgdGFnOlxyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGFnTWF0Y2ggPSBwYXJzZVN0YXJ0VGFnKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRUYWdNYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVN0YXJ0VGFnKHN0YXJ0VGFnTWF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUoc3RhcnRUYWdNYXRjaC50YWdOYW1lLCBodG1sKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdm9pZCAwLCByZXN0ID0gdm9pZCAwLCBuZXh0ID0gdm9pZCAwO1xyXG4gICAgICAgICAgICBpZiAodGV4dEVuZCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXN0ID0gaHRtbC5zbGljZSh0ZXh0RW5kKTtcclxuICAgICAgICAgICAgICAgIHdoaWxlICghZW5kVGFnLnRlc3QocmVzdCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAhc3RhcnRUYWdPcGVuLnRlc3QocmVzdCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAhY29tbWVudC50ZXN0KHJlc3QpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIWNvbmRpdGlvbmFsQ29tbWVudC50ZXN0KHJlc3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gPCBpbiBwbGFpbiB0ZXh0LCBiZSBmb3JnaXZpbmcgYW5kIHRyZWF0IGl0IGFzIHRleHRcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gcmVzdC5pbmRleE9mKCc8JywgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0RW5kICs9IG5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdCA9IGh0bWwuc2xpY2UodGV4dEVuZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gaHRtbC5zdWJzdHJpbmcoMCwgdGV4dEVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRleHRFbmQgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gaHRtbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGV4dCkge1xyXG4gICAgICAgICAgICAgICAgYWR2YW5jZSh0ZXh0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2hhcnMgJiYgdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jaGFycyh0ZXh0LCBpbmRleCAtIHRleHQubGVuZ3RoLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBlbmRUYWdMZW5ndGhfMSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBzdGFja2VkVGFnXzEgPSBsYXN0VGFnLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciByZVN0YWNrZWRUYWcgPSByZUNhY2hlW3N0YWNrZWRUYWdfMV0gfHxcclxuICAgICAgICAgICAgICAgIChyZUNhY2hlW3N0YWNrZWRUYWdfMV0gPSBuZXcgUmVnRXhwKCcoW1xcXFxzXFxcXFNdKj8pKDwvJyArIHN0YWNrZWRUYWdfMSArICdbXj5dKj4pJywgJ2knKSk7XHJcbiAgICAgICAgICAgIHZhciByZXN0ID0gaHRtbC5yZXBsYWNlKHJlU3RhY2tlZFRhZywgZnVuY3Rpb24gKGFsbCwgdGV4dCwgZW5kVGFnKSB7XHJcbiAgICAgICAgICAgICAgICBlbmRUYWdMZW5ndGhfMSA9IGVuZFRhZy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzUGxhaW5UZXh0RWxlbWVudChzdGFja2VkVGFnXzEpICYmIHN0YWNrZWRUYWdfMSAhPT0gJ25vc2NyaXB0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88IVxcLS0oW1xcc1xcU10qPyktLT4vZywgJyQxJykgLy8gIzcyOThcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzwhXFxbQ0RBVEFcXFsoW1xcc1xcU10qPyldXT4vZywgJyQxJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSWdub3JlRmlyc3ROZXdsaW5lKHN0YWNrZWRUYWdfMSwgdGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNoYXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jaGFycyh0ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGluZGV4ICs9IGh0bWwubGVuZ3RoIC0gcmVzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGh0bWwgPSByZXN0O1xyXG4gICAgICAgICAgICBwYXJzZUVuZFRhZyhzdGFja2VkVGFnXzEsIGluZGV4IC0gZW5kVGFnTGVuZ3RoXzEsIGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGh0bWwgPT09IGxhc3QpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5jaGFycyAmJiBvcHRpb25zLmNoYXJzKGh0bWwpO1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhc3RhY2subGVuZ3RoICYmIG9wdGlvbnMud2Fybikge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy53YXJuKFwiTWFsLWZvcm1hdHRlZCB0YWcgYXQgZW5kIG9mIHRlbXBsYXRlOiBcXFwiXCIuY29uY2F0KGh0bWwsIFwiXFxcIlwiKSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBpbmRleCArIGh0bWwubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCJicmVha1wiO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB3aGlsZSAoaHRtbCkge1xyXG4gICAgICAgIHZhciBzdGF0ZV8xID0gX2xvb3BfMSgpO1xyXG4gICAgICAgIGlmIChzdGF0ZV8xID09PSBcImJyZWFrXCIpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgLy8gQ2xlYW4gdXAgYW55IHJlbWFpbmluZyB0YWdzXHJcbiAgICBwYXJzZUVuZFRhZygpO1xyXG4gICAgZnVuY3Rpb24gYWR2YW5jZShuKSB7XHJcbiAgICAgICAgaW5kZXggKz0gbjtcclxuICAgICAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcobik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZVN0YXJ0VGFnKCkge1xyXG4gICAgICAgIHZhciBzdGFydCA9IGh0bWwubWF0Y2goc3RhcnRUYWdPcGVuKTtcclxuICAgICAgICBpZiAoc3RhcnQpIHtcclxuICAgICAgICAgICAgdmFyIG1hdGNoID0ge1xyXG4gICAgICAgICAgICAgICAgdGFnTmFtZTogc3RhcnRbMV0sXHJcbiAgICAgICAgICAgICAgICBhdHRyczogW10sXHJcbiAgICAgICAgICAgICAgICBzdGFydDogaW5kZXhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYWR2YW5jZShzdGFydFswXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICB2YXIgZW5kID0gdm9pZCAwLCBhdHRyID0gdm9pZCAwO1xyXG4gICAgICAgICAgICB3aGlsZSAoIShlbmQgPSBodG1sLm1hdGNoKHN0YXJ0VGFnQ2xvc2UpKSAmJlxyXG4gICAgICAgICAgICAgICAgKGF0dHIgPSBodG1sLm1hdGNoKGR5bmFtaWNBcmdBdHRyaWJ1dGUpIHx8IGh0bWwubWF0Y2goYXR0cmlidXRlKSkpIHtcclxuICAgICAgICAgICAgICAgIGF0dHIuc3RhcnQgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIGFkdmFuY2UoYXR0clswXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgYXR0ci5lbmQgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIG1hdGNoLmF0dHJzLnB1c2goYXR0cik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVuZCkge1xyXG4gICAgICAgICAgICAgICAgbWF0Y2gudW5hcnlTbGFzaCA9IGVuZFsxXTtcclxuICAgICAgICAgICAgICAgIGFkdmFuY2UoZW5kWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBtYXRjaC5lbmQgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0VGFnKG1hdGNoKSB7XHJcbiAgICAgICAgdmFyIHRhZ05hbWUgPSBtYXRjaC50YWdOYW1lO1xyXG4gICAgICAgIHZhciB1bmFyeVNsYXNoID0gbWF0Y2gudW5hcnlTbGFzaDtcclxuICAgICAgICBpZiAoZXhwZWN0SFRNTCkge1xyXG4gICAgICAgICAgICBpZiAobGFzdFRhZyA9PT0gJ3AnICYmIGlzTm9uUGhyYXNpbmdUYWcodGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHBhcnNlRW5kVGFnKGxhc3RUYWcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjYW5CZUxlZnRPcGVuVGFnKHRhZ05hbWUpICYmIGxhc3RUYWcgPT09IHRhZ05hbWUpIHtcclxuICAgICAgICAgICAgICAgIHBhcnNlRW5kVGFnKHRhZ05hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1bmFyeSA9IGlzVW5hcnlUYWcodGFnTmFtZSkgfHwgISF1bmFyeVNsYXNoO1xyXG4gICAgICAgIHZhciBsID0gbWF0Y2guYXR0cnMubGVuZ3RoO1xyXG4gICAgICAgIHZhciBhdHRycyA9IG5ldyBBcnJheShsKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IG1hdGNoLmF0dHJzW2ldO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBhcmdzWzNdIHx8IGFyZ3NbNF0gfHwgYXJnc1s1XSB8fCAnJztcclxuICAgICAgICAgICAgdmFyIHNob3VsZERlY29kZU5ld2xpbmVzID0gdGFnTmFtZSA9PT0gJ2EnICYmIGFyZ3NbMV0gPT09ICdocmVmJ1xyXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZlxyXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzO1xyXG4gICAgICAgICAgICBhdHRyc1tpXSA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGFyZ3NbMV0sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVjb2RlQXR0cih2YWx1ZSwgc2hvdWxkRGVjb2RlTmV3bGluZXMpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJzW2ldLnN0YXJ0ID0gYXJncy5zdGFydCArIGFyZ3NbMF0ubWF0Y2goL15cXHMqLykubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgYXR0cnNbaV0uZW5kID0gYXJncy5lbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF1bmFyeSkge1xyXG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRhZzogdGFnTmFtZSxcclxuICAgICAgICAgICAgICAgIGxvd2VyQ2FzZWRUYWc6IHRhZ05hbWUudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgICAgIGF0dHJzOiBhdHRycyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBtYXRjaC5zdGFydCxcclxuICAgICAgICAgICAgICAgIGVuZDogbWF0Y2guZW5kXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsYXN0VGFnID0gdGFnTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5zdGFydCh0YWdOYW1lLCBhdHRycywgdW5hcnksIG1hdGNoLnN0YXJ0LCBtYXRjaC5lbmQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlRW5kVGFnKHRhZ05hbWUsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICB2YXIgcG9zLCBsb3dlckNhc2VkVGFnTmFtZTtcclxuICAgICAgICBpZiAoc3RhcnQgPT0gbnVsbClcclxuICAgICAgICAgICAgc3RhcnQgPSBpbmRleDtcclxuICAgICAgICBpZiAoZW5kID09IG51bGwpXHJcbiAgICAgICAgICAgIGVuZCA9IGluZGV4O1xyXG4gICAgICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgb3BlbmVkIHRhZyBvZiB0aGUgc2FtZSB0eXBlXHJcbiAgICAgICAgaWYgKHRhZ05hbWUpIHtcclxuICAgICAgICAgICAgbG93ZXJDYXNlZFRhZ05hbWUgPSB0YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGZvciAocG9zID0gc3RhY2subGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2tbcG9zXS5sb3dlckNhc2VkVGFnID09PSBsb3dlckNhc2VkVGFnTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZiBubyB0YWcgbmFtZSBpcyBwcm92aWRlZCwgY2xlYW4gc2hvcFxyXG4gICAgICAgICAgICBwb3MgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocG9zID49IDApIHtcclxuICAgICAgICAgICAgLy8gQ2xvc2UgYWxsIHRoZSBvcGVuIGVsZW1lbnRzLCB1cCB0aGUgc3RhY2tcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gcG9zOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChpID4gcG9zIHx8ICF0YWdOYW1lKSAmJiBvcHRpb25zLndhcm4pIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLndhcm4oXCJ0YWcgPFwiLmNvbmNhdChzdGFja1tpXS50YWcsIFwiPiBoYXMgbm8gbWF0Y2hpbmcgZW5kIHRhZy5cIiksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHN0YWNrW2ldLnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHN0YWNrW2ldLmVuZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5lbmQoc3RhY2tbaV0udGFnLCBzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIG9wZW4gZWxlbWVudHMgZnJvbSB0aGUgc3RhY2tcclxuICAgICAgICAgICAgc3RhY2subGVuZ3RoID0gcG9zO1xyXG4gICAgICAgICAgICBsYXN0VGFnID0gcG9zICYmIHN0YWNrW3BvcyAtIDFdLnRhZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobG93ZXJDYXNlZFRhZ05hbWUgPT09ICdicicpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIHRydWUsIHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxvd2VyQ2FzZWRUYWdOYW1lID09PSAncCcpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIGZhbHNlLCBzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbmQpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZW5kKHRhZ05hbWUsIHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbnZhciBvblJFID0gL15AfF52LW9uOi87XHJcbnZhciBkaXJSRSA9IC9edi18XkB8Xjp8XiMvO1xyXG52YXIgZm9yQWxpYXNSRSA9IC8oW1xcc1xcU10qPylcXHMrKD86aW58b2YpXFxzKyhbXFxzXFxTXSopLztcclxudmFyIGZvckl0ZXJhdG9yUkUgPSAvLChbXixcXH1cXF1dKikoPzosKFteLFxcfVxcXV0qKSk/JC87XHJcbnZhciBzdHJpcFBhcmVuc1JFID0gL15cXCh8XFwpJC9nO1xyXG52YXIgZHluYW1pY0FyZ1JFID0gL15cXFsuKlxcXSQvO1xyXG52YXIgYXJnUkUgPSAvOiguKikkLztcclxudmFyIGJpbmRSRSA9IC9eOnxeXFwufF52LWJpbmQ6LztcclxudmFyIG1vZGlmaWVyUkUgPSAvXFwuW14uXFxdXSsoPz1bXlxcXV0qJCkvZztcclxudmFyIHNsb3RSRSA9IC9edi1zbG90KDp8JCl8XiMvO1xyXG52YXIgbGluZUJyZWFrUkUgPSAvW1xcclxcbl0vO1xyXG52YXIgd2hpdGVzcGFjZVJFID0gL1sgXFxmXFx0XFxyXFxuXSsvZztcclxudmFyIGludmFsaWRBdHRyaWJ1dGVSRSA9IC9bXFxzXCInPD5cXC89XS87XHJcbnZhciBkZWNvZGVIVE1MQ2FjaGVkID0gY2FjaGVkKGhlLmRlY29kZSk7XHJcbnZhciBlbXB0eVNsb3RTY29wZVRva2VuID0gXCJfZW1wdHlfXCI7XHJcbi8vIGNvbmZpZ3VyYWJsZSBzdGF0ZVxyXG52YXIgd2FybjtcclxudmFyIGRlbGltaXRlcnM7XHJcbnZhciB0cmFuc2Zvcm1zO1xyXG52YXIgcHJlVHJhbnNmb3JtcztcclxudmFyIHBvc3RUcmFuc2Zvcm1zO1xyXG52YXIgcGxhdGZvcm1Jc1ByZVRhZztcclxudmFyIHBsYXRmb3JtTXVzdFVzZVByb3A7XHJcbnZhciBwbGF0Zm9ybUdldFRhZ05hbWVzcGFjZTtcclxudmFyIG1heWJlQ29tcG9uZW50O1xyXG5mdW5jdGlvbiBjcmVhdGVBU1RFbGVtZW50KHRhZywgYXR0cnMsIHBhcmVudCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiAxLFxyXG4gICAgICAgIHRhZzogdGFnLFxyXG4gICAgICAgIGF0dHJzTGlzdDogYXR0cnMsXHJcbiAgICAgICAgYXR0cnNNYXA6IG1ha2VBdHRyc01hcChhdHRycyksXHJcbiAgICAgICAgcmF3QXR0cnNNYXA6IHt9LFxyXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxyXG4gICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ29udmVydCBIVE1MIHN0cmluZyB0byBBU1QuXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZSh0ZW1wbGF0ZSwgb3B0aW9ucykge1xyXG4gICAgd2FybiA9IG9wdGlvbnMud2FybiB8fCBiYXNlV2FybjtcclxuICAgIHBsYXRmb3JtSXNQcmVUYWcgPSBvcHRpb25zLmlzUHJlVGFnIHx8IG5vO1xyXG4gICAgcGxhdGZvcm1NdXN0VXNlUHJvcCA9IG9wdGlvbnMubXVzdFVzZVByb3AgfHwgbm87XHJcbiAgICBwbGF0Zm9ybUdldFRhZ05hbWVzcGFjZSA9IG9wdGlvbnMuZ2V0VGFnTmFtZXNwYWNlIHx8IG5vO1xyXG4gICAgdmFyIGlzUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87XHJcbiAgICBtYXliZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHJldHVybiAhIShlbC5jb21wb25lbnQgfHxcclxuICAgICAgICAgICAgZWwuYXR0cnNNYXBbJzppcyddIHx8XHJcbiAgICAgICAgICAgIGVsLmF0dHJzTWFwWyd2LWJpbmQ6aXMnXSB8fFxyXG4gICAgICAgICAgICAhKGVsLmF0dHJzTWFwLmlzID8gaXNSZXNlcnZlZFRhZyhlbC5hdHRyc01hcC5pcykgOiBpc1Jlc2VydmVkVGFnKGVsLnRhZykpKTtcclxuICAgIH07XHJcbiAgICB0cmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICd0cmFuc2Zvcm1Ob2RlJyk7XHJcbiAgICBwcmVUcmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdwcmVUcmFuc2Zvcm1Ob2RlJyk7XHJcbiAgICBwb3N0VHJhbnNmb3JtcyA9IHBsdWNrTW9kdWxlRnVuY3Rpb24ob3B0aW9ucy5tb2R1bGVzLCAncG9zdFRyYW5zZm9ybU5vZGUnKTtcclxuICAgIGRlbGltaXRlcnMgPSBvcHRpb25zLmRlbGltaXRlcnM7XHJcbiAgICB2YXIgc3RhY2sgPSBbXTtcclxuICAgIHZhciBwcmVzZXJ2ZVdoaXRlc3BhY2UgPSBvcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZSAhPT0gZmFsc2U7XHJcbiAgICB2YXIgd2hpdGVzcGFjZU9wdGlvbiA9IG9wdGlvbnMud2hpdGVzcGFjZTtcclxuICAgIHZhciByb290O1xyXG4gICAgdmFyIGN1cnJlbnRQYXJlbnQ7XHJcbiAgICB2YXIgaW5WUHJlID0gZmFsc2U7XHJcbiAgICB2YXIgaW5QcmUgPSBmYWxzZTtcclxuICAgIHZhciB3YXJuZWQgPSBmYWxzZTtcclxuICAgIGZ1bmN0aW9uIHdhcm5PbmNlKG1zZywgcmFuZ2UpIHtcclxuICAgICAgICBpZiAoIXdhcm5lZCkge1xyXG4gICAgICAgICAgICB3YXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB3YXJuKG1zZywgcmFuZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNsb3NlRWxlbWVudChlbGVtZW50KSB7XHJcbiAgICAgICAgdHJpbUVuZGluZ1doaXRlc3BhY2UoZWxlbWVudCk7XHJcbiAgICAgICAgaWYgKCFpblZQcmUgJiYgIWVsZW1lbnQucHJvY2Vzc2VkKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBwcm9jZXNzRWxlbWVudChlbGVtZW50LCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdHJlZSBtYW5hZ2VtZW50XHJcbiAgICAgICAgaWYgKCFzdGFjay5sZW5ndGggJiYgZWxlbWVudCAhPT0gcm9vdCkge1xyXG4gICAgICAgICAgICAvLyBhbGxvdyByb290IGVsZW1lbnRzIHdpdGggdi1pZiwgdi1lbHNlLWlmIGFuZCB2LWVsc2VcclxuICAgICAgICAgICAgaWYgKHJvb3QuaWYgJiYgKGVsZW1lbnQuZWxzZWlmIHx8IGVsZW1lbnQuZWxzZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tSb290Q29uc3RyYWludHMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhZGRJZkNvbmRpdGlvbihyb290LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwOiBlbGVtZW50LmVsc2VpZixcclxuICAgICAgICAgICAgICAgICAgICBibG9jazogZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgd2Fybk9uY2UoXCJDb21wb25lbnQgdGVtcGxhdGUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJJZiB5b3UgYXJlIHVzaW5nIHYtaWYgb24gbXVsdGlwbGUgZWxlbWVudHMsIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcInVzZSB2LWVsc2UtaWYgdG8gY2hhaW4gdGhlbSBpbnN0ZWFkLlwiLCB7IHN0YXJ0OiBlbGVtZW50LnN0YXJ0IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFyZW50ICYmICFlbGVtZW50LmZvcmJpZGRlbikge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5lbHNlaWYgfHwgZWxlbWVudC5lbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzSWZDb25kaXRpb25zKGVsZW1lbnQsIGN1cnJlbnRQYXJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc2xvdFNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2NvcGVkIHNsb3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIGl0IGluIHRoZSBjaGlsZHJlbiBsaXN0IHNvIHRoYXQgdi1lbHNlKC1pZikgY29uZGl0aW9ucyBjYW5cclxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGl0IGFzIHRoZSBwcmV2IG5vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVfMSA9IGVsZW1lbnQuc2xvdFRhcmdldCB8fCAnXCJkZWZhdWx0XCInO1xyXG4gICAgICAgICAgICAgICAgICAgIChjdXJyZW50UGFyZW50LnNjb3BlZFNsb3RzIHx8IChjdXJyZW50UGFyZW50LnNjb3BlZFNsb3RzID0ge30pKVtuYW1lXzFdID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQuY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50ID0gY3VycmVudFBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmaW5hbCBjaGlsZHJlbiBjbGVhbnVwXHJcbiAgICAgICAgLy8gZmlsdGVyIG91dCBzY29wZWQgc2xvdHNcclxuICAgICAgICBlbGVtZW50LmNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuICFjLnNsb3RTY29wZTsgfSk7XHJcbiAgICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHdoaXRlc3BhY2Ugbm9kZSBhZ2FpblxyXG4gICAgICAgIHRyaW1FbmRpbmdXaGl0ZXNwYWNlKGVsZW1lbnQpO1xyXG4gICAgICAgIC8vIGNoZWNrIHByZSBzdGF0ZVxyXG4gICAgICAgIGlmIChlbGVtZW50LnByZSkge1xyXG4gICAgICAgICAgICBpblZQcmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBsYXRmb3JtSXNQcmVUYWcoZWxlbWVudC50YWcpKSB7XHJcbiAgICAgICAgICAgIGluUHJlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFwcGx5IHBvc3QtdHJhbnNmb3Jtc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zdFRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcG9zdFRyYW5zZm9ybXNbaV0oZWxlbWVudCwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdHJpbUVuZGluZ1doaXRlc3BhY2UoZWwpIHtcclxuICAgICAgICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZSBub2RlXHJcbiAgICAgICAgaWYgKCFpblByZSkge1xyXG4gICAgICAgICAgICB2YXIgbGFzdE5vZGUgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHdoaWxlICgobGFzdE5vZGUgPSBlbC5jaGlsZHJlbltlbC5jaGlsZHJlbi5sZW5ndGggLSAxXSkgJiZcclxuICAgICAgICAgICAgICAgIGxhc3ROb2RlLnR5cGUgPT09IDMgJiZcclxuICAgICAgICAgICAgICAgIGxhc3ROb2RlLnRleHQgPT09ICcgJykge1xyXG4gICAgICAgICAgICAgICAgZWwuY2hpbGRyZW4ucG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGVja1Jvb3RDb25zdHJhaW50cyhlbCkge1xyXG4gICAgICAgIGlmIChlbC50YWcgPT09ICdzbG90JyB8fCBlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgICAgICAgd2Fybk9uY2UoXCJDYW5ub3QgdXNlIDxcIi5jb25jYXQoZWwudGFnLCBcIj4gYXMgY29tcG9uZW50IHJvb3QgZWxlbWVudCBiZWNhdXNlIGl0IG1heSBcIikgK1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRhaW4gbXVsdGlwbGUgbm9kZXMuJywgeyBzdGFydDogZWwuc3RhcnQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbC5hdHRyc01hcC5oYXNPd25Qcm9wZXJ0eSgndi1mb3InKSkge1xyXG4gICAgICAgICAgICB3YXJuT25jZSgnQ2Fubm90IHVzZSB2LWZvciBvbiBzdGF0ZWZ1bCBjb21wb25lbnQgcm9vdCBlbGVtZW50IGJlY2F1c2UgJyArXHJcbiAgICAgICAgICAgICAgICAnaXQgcmVuZGVycyBtdWx0aXBsZSBlbGVtZW50cy4nLCBlbC5yYXdBdHRyc01hcFsndi1mb3InXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGFyc2VIVE1MKHRlbXBsYXRlLCB7XHJcbiAgICAgICAgd2Fybjogd2FybixcclxuICAgICAgICBleHBlY3RIVE1MOiBvcHRpb25zLmV4cGVjdEhUTUwsXHJcbiAgICAgICAgaXNVbmFyeVRhZzogb3B0aW9ucy5pc1VuYXJ5VGFnLFxyXG4gICAgICAgIGNhbkJlTGVmdE9wZW5UYWc6IG9wdGlvbnMuY2FuQmVMZWZ0T3BlblRhZyxcclxuICAgICAgICBzaG91bGREZWNvZGVOZXdsaW5lczogb3B0aW9ucy5zaG91bGREZWNvZGVOZXdsaW5lcyxcclxuICAgICAgICBzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWY6IG9wdGlvbnMuc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmLFxyXG4gICAgICAgIHNob3VsZEtlZXBDb21tZW50OiBvcHRpb25zLmNvbW1lbnRzLFxyXG4gICAgICAgIG91dHB1dFNvdXJjZVJhbmdlOiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlLFxyXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbiAodGFnLCBhdHRycywgdW5hcnksIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgbmFtZXNwYWNlLlxyXG4gICAgICAgICAgICAvLyBpbmhlcml0IHBhcmVudCBucyBpZiB0aGVyZSBpcyBvbmVcclxuICAgICAgICAgICAgdmFyIG5zID0gKGN1cnJlbnRQYXJlbnQgJiYgY3VycmVudFBhcmVudC5ucykgfHwgcGxhdGZvcm1HZXRUYWdOYW1lc3BhY2UodGFnKTtcclxuICAgICAgICAgICAgLy8gaGFuZGxlIElFIHN2ZyBidWdcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmIChpc0lFICYmIG5zID09PSAnc3ZnJykge1xyXG4gICAgICAgICAgICAgICAgYXR0cnMgPSBndWFyZElFU1ZHQnVnKGF0dHJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZUFTVEVsZW1lbnQodGFnLCBhdHRycywgY3VycmVudFBhcmVudCk7XHJcbiAgICAgICAgICAgIGlmIChucykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5ucyA9IG5zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3RhcnQgPSBzdGFydDtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmVuZCA9IGVuZDtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJhd0F0dHJzTWFwID0gZWxlbWVudC5hdHRyc0xpc3QucmVkdWNlKGZ1bmN0aW9uIChjdW11bGF0ZWQsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VtdWxhdGVkW2F0dHIubmFtZV0gPSBhdHRyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VtdWxhdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52YWxpZEF0dHJpYnV0ZVJFLnRlc3QoYXR0ci5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKFwiSW52YWxpZCBkeW5hbWljIGFyZ3VtZW50IGV4cHJlc3Npb246IGF0dHJpYnV0ZSBuYW1lcyBjYW5ub3QgY29udGFpbiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNwYWNlcywgcXVvdGVzLCA8LCA+LCAvIG9yID0uXCIsIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBhdHRyLnN0YXJ0ICsgYXR0ci5uYW1lLmluZGV4T2YoXCJbXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogYXR0ci5zdGFydCArIGF0dHIubmFtZS5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNGb3JiaWRkZW5UYWcoZWxlbWVudCkgJiYgIWlzU2VydmVyUmVuZGVyaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuZm9yYmlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUZW1wbGF0ZXMgc2hvdWxkIG9ubHkgYmUgcmVzcG9uc2libGUgZm9yIG1hcHBpbmcgdGhlIHN0YXRlIHRvIHRoZSAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1VJLiBBdm9pZCBwbGFjaW5nIHRhZ3Mgd2l0aCBzaWRlLWVmZmVjdHMgaW4geW91ciB0ZW1wbGF0ZXMsIHN1Y2ggYXMgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPFwiLmNvbmNhdCh0YWcsIFwiPlwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcsIGFzIHRoZXkgd2lsbCBub3QgYmUgcGFyc2VkLicsIHsgc3RhcnQ6IGVsZW1lbnQuc3RhcnQgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXBwbHkgcHJlLXRyYW5zZm9ybXNcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVUcmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gcHJlVHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaW5WUHJlKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzUHJlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQucHJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5WUHJlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGxhdGZvcm1Jc1ByZVRhZyhlbGVtZW50LnRhZykpIHtcclxuICAgICAgICAgICAgICAgIGluUHJlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5WUHJlKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzUmF3QXR0cnMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWVsZW1lbnQucHJvY2Vzc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdHJ1Y3R1cmFsIGRpcmVjdGl2ZXNcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NGb3IoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzSWYoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzT25jZShlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXJvb3QpIHtcclxuICAgICAgICAgICAgICAgIHJvb3QgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja1Jvb3RDb25zdHJhaW50cyhyb290KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXVuYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjbG9zZUVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVuZDogZnVuY3Rpb24gKHRhZywgc3RhcnQsIGVuZCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAvLyBwb3Agc3RhY2tcclxuICAgICAgICAgICAgc3RhY2subGVuZ3RoIC09IDE7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgb3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5lbmQgPSBlbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2xvc2VFbGVtZW50KGVsZW1lbnQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhcnM6IGZ1bmN0aW9uICh0ZXh0LCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudFBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCA9PT0gdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2Fybk9uY2UoJ0NvbXBvbmVudCB0ZW1wbGF0ZSByZXF1aXJlcyBhIHJvb3QgZWxlbWVudCwgcmF0aGVyIHRoYW4ganVzdCB0ZXh0LicsIHsgc3RhcnQ6IHN0YXJ0IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgodGV4dCA9IHRleHQudHJpbSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuT25jZShcInRleHQgXFxcIlwiLmNvbmNhdCh0ZXh0LCBcIlxcXCIgb3V0c2lkZSByb290IGVsZW1lbnQgd2lsbCBiZSBpZ25vcmVkLlwiKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJRSB0ZXh0YXJlYSBwbGFjZWhvbGRlciBidWdcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmIChpc0lFICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50LnRhZyA9PT0gJ3RleHRhcmVhJyAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhcmVudC5hdHRyc01hcC5wbGFjZWhvbGRlciA9PT0gdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGN1cnJlbnRQYXJlbnQuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmIChpblByZSB8fCB0ZXh0LnRyaW0oKSkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IGlzVGV4dFRhZyhjdXJyZW50UGFyZW50KVxyXG4gICAgICAgICAgICAgICAgICAgID8gdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIDogZGVjb2RlSFRNTENhY2hlZCh0ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIHdoaXRlc3BhY2Utb25seSBub2RlIHJpZ2h0IGFmdGVyIGFuIG9wZW5pbmcgdGFnXHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAod2hpdGVzcGFjZU9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdoaXRlc3BhY2VPcHRpb24gPT09ICdjb25kZW5zZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBjb25kZW5zZSBtb2RlLCByZW1vdmUgdGhlIHdoaXRlc3BhY2Ugbm9kZSBpZiBpdCBjb250YWluc1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxpbmUgYnJlYWssIG90aGVyd2lzZSBjb25kZW5zZSB0byBhIHNpbmdsZSBzcGFjZVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBsaW5lQnJlYWtSRS50ZXN0KHRleHQpID8gJycgOiAnICc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gJyAnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHByZXNlcnZlV2hpdGVzcGFjZSA/ICcgJyA6ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluUHJlICYmIHdoaXRlc3BhY2VPcHRpb24gPT09ICdjb25kZW5zZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25kZW5zZSBjb25zZWN1dGl2ZSB3aGl0ZXNwYWNlcyBpbnRvIHNpbmdsZSBzcGFjZVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2Uod2hpdGVzcGFjZVJFLCAnICcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGlmICghaW5WUHJlICYmIHRleHQgIT09ICcgJyAmJiAocmVzID0gcGFyc2VUZXh0KHRleHQsIGRlbGltaXRlcnMpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiByZXMuZXhwcmVzc2lvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiByZXMudG9rZW5zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgIT09ICcgJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICFjaGlsZHJlbi5sZW5ndGggfHxcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXS50ZXh0ICE9PSAnICcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnN0YXJ0ID0gc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLmVuZCA9IGVuZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbW1lbnQ6IGZ1bmN0aW9uICh0ZXh0LCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgICAgIC8vIGFkZGluZyBhbnl0aGluZyBhcyBhIHNpYmxpbmcgdG8gdGhlIHJvb3Qgbm9kZSBpcyBmb3JiaWRkZW5cclxuICAgICAgICAgICAgLy8gY29tbWVudHMgc2hvdWxkIHN0aWxsIGJlIGFsbG93ZWQsIGJ1dCBpZ25vcmVkXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogMyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ29tbWVudDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmVuZCA9IGVuZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQuY2hpbGRyZW4ucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByb290O1xyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NQcmUoZWwpIHtcclxuICAgIGlmIChnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1wcmUnKSAhPSBudWxsKSB7XHJcbiAgICAgICAgZWwucHJlID0gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzUmF3QXR0cnMoZWwpIHtcclxuICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xyXG4gICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoO1xyXG4gICAgaWYgKGxlbikge1xyXG4gICAgICAgIHZhciBhdHRycyA9IChlbC5hdHRycyA9IG5ldyBBcnJheShsZW4pKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF0dHJzW2ldID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogbGlzdFtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KGxpc3RbaV0udmFsdWUpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChsaXN0W2ldLnN0YXJ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJzW2ldLnN0YXJ0ID0gbGlzdFtpXS5zdGFydDtcclxuICAgICAgICAgICAgICAgIGF0dHJzW2ldLmVuZCA9IGxpc3RbaV0uZW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIWVsLnByZSkge1xyXG4gICAgICAgIC8vIG5vbiByb290IG5vZGUgaW4gcHJlIGJsb2NrcyB3aXRoIG5vIGF0dHJpYnV0ZXNcclxuICAgICAgICBlbC5wbGFpbiA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgcHJvY2Vzc0tleShlbGVtZW50KTtcclxuICAgIC8vIGRldGVybWluZSB3aGV0aGVyIHRoaXMgaXMgYSBwbGFpbiBlbGVtZW50IGFmdGVyXHJcbiAgICAvLyByZW1vdmluZyBzdHJ1Y3R1cmFsIGF0dHJpYnV0ZXNcclxuICAgIGVsZW1lbnQucGxhaW4gPVxyXG4gICAgICAgICFlbGVtZW50LmtleSAmJiAhZWxlbWVudC5zY29wZWRTbG90cyAmJiAhZWxlbWVudC5hdHRyc0xpc3QubGVuZ3RoO1xyXG4gICAgcHJvY2Vzc1JlZihlbGVtZW50KTtcclxuICAgIHByb2Nlc3NTbG90Q29udGVudChlbGVtZW50KTtcclxuICAgIHByb2Nlc3NTbG90T3V0bGV0KGVsZW1lbnQpO1xyXG4gICAgcHJvY2Vzc0NvbXBvbmVudChlbGVtZW50KTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGVsZW1lbnQgPSB0cmFuc2Zvcm1zW2ldKGVsZW1lbnQsIG9wdGlvbnMpIHx8IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBwcm9jZXNzQXR0cnMoZWxlbWVudCk7XHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzS2V5KGVsKSB7XHJcbiAgICB2YXIgZXhwID0gZ2V0QmluZGluZ0F0dHIoZWwsICdrZXknKTtcclxuICAgIGlmIChleHApIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiPHRlbXBsYXRlPiBjYW5ub3QgYmUga2V5ZWQuIFBsYWNlIHRoZSBrZXkgb24gcmVhbCBlbGVtZW50cyBpbnN0ZWFkLlwiLCBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ2tleScpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZWwuZm9yKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBlbC5pdGVyYXRvcjIgfHwgZWwuaXRlcmF0b3IxO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gZWwucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IgPT09IGV4cCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF8xICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEudGFnID09PSAndHJhbnNpdGlvbi1ncm91cCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiRG8gbm90IHVzZSB2LWZvciBpbmRleCBhcyBrZXkgb24gPHRyYW5zaXRpb24tZ3JvdXA+IGNoaWxkcmVuLCBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGhpcyBpcyB0aGUgc2FtZSBhcyBub3QgdXNpbmcga2V5cy5cIiwgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdrZXknKSwgdHJ1ZSAvKiB0aXAgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsLmtleSA9IGV4cDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzUmVmKGVsKSB7XHJcbiAgICB2YXIgcmVmID0gZ2V0QmluZGluZ0F0dHIoZWwsICdyZWYnKTtcclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBlbC5yZWYgPSByZWY7XHJcbiAgICAgICAgZWwucmVmSW5Gb3IgPSBjaGVja0luRm9yKGVsKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzRm9yKGVsKSB7XHJcbiAgICB2YXIgZXhwO1xyXG4gICAgaWYgKChleHAgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1mb3InKSkpIHtcclxuICAgICAgICB2YXIgcmVzID0gcGFyc2VGb3IoZXhwKTtcclxuICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZChlbCwgcmVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICB3YXJuKFwiSW52YWxpZCB2LWZvciBleHByZXNzaW9uOiBcIi5jb25jYXQoZXhwKSwgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXJzZUZvcihleHApIHtcclxuICAgIHZhciBpbk1hdGNoID0gZXhwLm1hdGNoKGZvckFsaWFzUkUpO1xyXG4gICAgaWYgKCFpbk1hdGNoKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciByZXMgPSB7fTtcclxuICAgIHJlcy5mb3IgPSBpbk1hdGNoWzJdLnRyaW0oKTtcclxuICAgIHZhciBhbGlhcyA9IGluTWF0Y2hbMV0udHJpbSgpLnJlcGxhY2Uoc3RyaXBQYXJlbnNSRSwgJycpO1xyXG4gICAgdmFyIGl0ZXJhdG9yTWF0Y2ggPSBhbGlhcy5tYXRjaChmb3JJdGVyYXRvclJFKTtcclxuICAgIGlmIChpdGVyYXRvck1hdGNoKSB7XHJcbiAgICAgICAgcmVzLmFsaWFzID0gYWxpYXMucmVwbGFjZShmb3JJdGVyYXRvclJFLCAnJykudHJpbSgpO1xyXG4gICAgICAgIHJlcy5pdGVyYXRvcjEgPSBpdGVyYXRvck1hdGNoWzFdLnRyaW0oKTtcclxuICAgICAgICBpZiAoaXRlcmF0b3JNYXRjaFsyXSkge1xyXG4gICAgICAgICAgICByZXMuaXRlcmF0b3IyID0gaXRlcmF0b3JNYXRjaFsyXS50cmltKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzLmFsaWFzID0gYWxpYXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NJZihlbCkge1xyXG4gICAgdmFyIGV4cCA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWlmJyk7XHJcbiAgICBpZiAoZXhwKSB7XHJcbiAgICAgICAgZWwuaWYgPSBleHA7XHJcbiAgICAgICAgYWRkSWZDb25kaXRpb24oZWwsIHtcclxuICAgICAgICAgICAgZXhwOiBleHAsXHJcbiAgICAgICAgICAgIGJsb2NrOiBlbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWVsc2UnKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGVsLmVsc2UgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZWxzZWlmID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZS1pZicpO1xyXG4gICAgICAgIGlmIChlbHNlaWYpIHtcclxuICAgICAgICAgICAgZWwuZWxzZWlmID0gZWxzZWlmO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzSWZDb25kaXRpb25zKGVsLCBwYXJlbnQpIHtcclxuICAgIHZhciBwcmV2ID0gZmluZFByZXZFbGVtZW50KHBhcmVudC5jaGlsZHJlbik7XHJcbiAgICBpZiAocHJldiAmJiBwcmV2LmlmKSB7XHJcbiAgICAgICAgYWRkSWZDb25kaXRpb24ocHJldiwge1xyXG4gICAgICAgICAgICBleHA6IGVsLmVsc2VpZixcclxuICAgICAgICAgICAgYmxvY2s6IGVsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgd2FybihcInYtXCIuY29uY2F0KGVsLmVsc2VpZiA/ICdlbHNlLWlmPVwiJyArIGVsLmVsc2VpZiArICdcIicgOiAnZWxzZScsIFwiIFwiKSArXHJcbiAgICAgICAgICAgIFwidXNlZCBvbiBlbGVtZW50IDxcIi5jb25jYXQoZWwudGFnLCBcIj4gd2l0aG91dCBjb3JyZXNwb25kaW5nIHYtaWYuXCIpLCBlbC5yYXdBdHRyc01hcFtlbC5lbHNlaWYgPyAndi1lbHNlLWlmJyA6ICd2LWVsc2UnXSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZmluZFByZXZFbGVtZW50KGNoaWxkcmVuKSB7XHJcbiAgICB2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICBpZiAoY2hpbGRyZW5baV0udHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hpbGRyZW5baV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjaGlsZHJlbltpXS50ZXh0ICE9PSAnICcpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oXCJ0ZXh0IFxcXCJcIi5jb25jYXQoY2hpbGRyZW5baV0udGV4dC50cmltKCksIFwiXFxcIiBiZXR3ZWVuIHYtaWYgYW5kIHYtZWxzZSgtaWYpIFwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ3aWxsIGJlIGlnbm9yZWQuXCIsIGNoaWxkcmVuW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGlsZHJlbi5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYWRkSWZDb25kaXRpb24oZWwsIGNvbmRpdGlvbikge1xyXG4gICAgaWYgKCFlbC5pZkNvbmRpdGlvbnMpIHtcclxuICAgICAgICBlbC5pZkNvbmRpdGlvbnMgPSBbXTtcclxuICAgIH1cclxuICAgIGVsLmlmQ29uZGl0aW9ucy5wdXNoKGNvbmRpdGlvbik7XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc09uY2UoZWwpIHtcclxuICAgIHZhciBvbmNlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Ytb25jZScpO1xyXG4gICAgaWYgKG9uY2UgIT0gbnVsbCkge1xyXG4gICAgICAgIGVsLm9uY2UgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbi8vIGhhbmRsZSBjb250ZW50IGJlaW5nIHBhc3NlZCB0byBhIGNvbXBvbmVudCBhcyBzbG90LFxyXG4vLyBlLmcuIDx0ZW1wbGF0ZSBzbG90PVwieHh4XCI+LCA8ZGl2IHNsb3Qtc2NvcGU9XCJ4eHhcIj5cclxuZnVuY3Rpb24gcHJvY2Vzc1Nsb3RDb250ZW50KGVsKSB7XHJcbiAgICB2YXIgc2xvdFNjb3BlO1xyXG4gICAgaWYgKGVsLnRhZyA9PT0gJ3RlbXBsYXRlJykge1xyXG4gICAgICAgIHNsb3RTY29wZSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICdzY29wZScpO1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHNsb3RTY29wZSkge1xyXG4gICAgICAgICAgICB3YXJuKFwidGhlIFxcXCJzY29wZVxcXCIgYXR0cmlidXRlIGZvciBzY29wZWQgc2xvdHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgYW5kIFwiICtcclxuICAgICAgICAgICAgICAgIFwicmVwbGFjZWQgYnkgXFxcInNsb3Qtc2NvcGVcXFwiIHNpbmNlIDIuNS4gVGhlIG5ldyBcXFwic2xvdC1zY29wZVxcXCIgYXR0cmlidXRlIFwiICtcclxuICAgICAgICAgICAgICAgIFwiY2FuIGFsc28gYmUgdXNlZCBvbiBwbGFpbiBlbGVtZW50cyBpbiBhZGRpdGlvbiB0byA8dGVtcGxhdGU+IHRvIFwiICtcclxuICAgICAgICAgICAgICAgIFwiZGVub3RlIHNjb3BlZCBzbG90cy5cIiwgZWwucmF3QXR0cnNNYXBbJ3Njb3BlJ10sIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbC5zbG90U2NvcGUgPSBzbG90U2NvcGUgfHwgZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Nsb3Qtc2NvcGUnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChzbG90U2NvcGUgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnc2xvdC1zY29wZScpKSkge1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGVsLmF0dHJzTWFwWyd2LWZvciddKSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJBbWJpZ3VvdXMgY29tYmluZWQgdXNhZ2Ugb2Ygc2xvdC1zY29wZSBhbmQgdi1mb3Igb24gPFwiLmNvbmNhdChlbC50YWcsIFwiPiBcIikgK1xyXG4gICAgICAgICAgICAgICAgXCIodi1mb3IgdGFrZXMgaGlnaGVyIHByaW9yaXR5KS4gVXNlIGEgd3JhcHBlciA8dGVtcGxhdGU+IGZvciB0aGUgXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJzY29wZWQgc2xvdCB0byBtYWtlIGl0IGNsZWFyZXIuXCIsIGVsLnJhd0F0dHJzTWFwWydzbG90LXNjb3BlJ10sIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbC5zbG90U2NvcGUgPSBzbG90U2NvcGU7XHJcbiAgICB9XHJcbiAgICAvLyBzbG90PVwieHh4XCJcclxuICAgIHZhciBzbG90VGFyZ2V0ID0gZ2V0QmluZGluZ0F0dHIoZWwsICdzbG90Jyk7XHJcbiAgICBpZiAoc2xvdFRhcmdldCkge1xyXG4gICAgICAgIGVsLnNsb3RUYXJnZXQgPSBzbG90VGFyZ2V0ID09PSAnXCJcIicgPyAnXCJkZWZhdWx0XCInIDogc2xvdFRhcmdldDtcclxuICAgICAgICBlbC5zbG90VGFyZ2V0RHluYW1pYyA9ICEhKGVsLmF0dHJzTWFwWyc6c2xvdCddIHx8IGVsLmF0dHJzTWFwWyd2LWJpbmQ6c2xvdCddKTtcclxuICAgICAgICAvLyBwcmVzZXJ2ZSBzbG90IGFzIGFuIGF0dHJpYnV0ZSBmb3IgbmF0aXZlIHNoYWRvdyBET00gY29tcGF0XHJcbiAgICAgICAgLy8gb25seSBmb3Igbm9uLXNjb3BlZCBzbG90cy5cclxuICAgICAgICBpZiAoZWwudGFnICE9PSAndGVtcGxhdGUnICYmICFlbC5zbG90U2NvcGUpIHtcclxuICAgICAgICAgICAgYWRkQXR0cihlbCwgJ3Nsb3QnLCBzbG90VGFyZ2V0LCBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ3Nsb3QnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gMi42IHYtc2xvdCBzeW50YXhcclxuICAgIHtcclxuICAgICAgICBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnKSB7XHJcbiAgICAgICAgICAgIC8vIHYtc2xvdCBvbiA8dGVtcGxhdGU+XHJcbiAgICAgICAgICAgIHZhciBzbG90QmluZGluZyA9IGdldEFuZFJlbW92ZUF0dHJCeVJlZ2V4KGVsLCBzbG90UkUpO1xyXG4gICAgICAgICAgICBpZiAoc2xvdEJpbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLnNsb3RUYXJnZXQgfHwgZWwuc2xvdFNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oXCJVbmV4cGVjdGVkIG1peGVkIHVzYWdlIG9mIGRpZmZlcmVudCBzbG90IHN5bnRheGVzLlwiLCBlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5wYXJlbnQgJiYgIW1heWJlQ29tcG9uZW50KGVsLnBhcmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihcIjx0ZW1wbGF0ZSB2LXNsb3Q+IGNhbiBvbmx5IGFwcGVhciBhdCB0aGUgcm9vdCBsZXZlbCBpbnNpZGUgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aGUgcmVjZWl2aW5nIGNvbXBvbmVudFwiLCBlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gZ2V0U2xvdE5hbWUoc2xvdEJpbmRpbmcpLCBuYW1lXzIgPSBfYS5uYW1lLCBkeW5hbWljID0gX2EuZHluYW1pYztcclxuICAgICAgICAgICAgICAgIGVsLnNsb3RUYXJnZXQgPSBuYW1lXzI7XHJcbiAgICAgICAgICAgICAgICBlbC5zbG90VGFyZ2V0RHluYW1pYyA9IGR5bmFtaWM7XHJcbiAgICAgICAgICAgICAgICBlbC5zbG90U2NvcGUgPSBzbG90QmluZGluZy52YWx1ZSB8fCBlbXB0eVNsb3RTY29wZVRva2VuOyAvLyBmb3JjZSBpdCBpbnRvIGEgc2NvcGVkIHNsb3QgZm9yIHBlcmZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdi1zbG90IG9uIGNvbXBvbmVudCwgZGVub3RlcyBkZWZhdWx0IHNsb3RcclxuICAgICAgICAgICAgdmFyIHNsb3RCaW5kaW5nID0gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXgoZWwsIHNsb3RSRSk7XHJcbiAgICAgICAgICAgIGlmIChzbG90QmluZGluZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1heWJlQ29tcG9uZW50KGVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKFwidi1zbG90IGNhbiBvbmx5IGJlIHVzZWQgb24gY29tcG9uZW50cyBvciA8dGVtcGxhdGU+LlwiLCBzbG90QmluZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5zbG90U2NvcGUgfHwgZWwuc2xvdFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKFwiVW5leHBlY3RlZCBtaXhlZCB1c2FnZSBvZiBkaWZmZXJlbnQgc2xvdCBzeW50YXhlcy5cIiwgZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWwuc2NvcGVkU2xvdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihcIlRvIGF2b2lkIHNjb3BlIGFtYmlndWl0eSwgdGhlIGRlZmF1bHQgc2xvdCBzaG91bGQgYWxzbyB1c2UgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8dGVtcGxhdGU+IHN5bnRheCB3aGVuIHRoZXJlIGFyZSBvdGhlciBuYW1lZCBzbG90cy5cIiwgc2xvdEJpbmRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgY29tcG9uZW50J3MgY2hpbGRyZW4gdG8gaXRzIGRlZmF1bHQgc2xvdFxyXG4gICAgICAgICAgICAgICAgdmFyIHNsb3RzID0gZWwuc2NvcGVkU2xvdHMgfHwgKGVsLnNjb3BlZFNsb3RzID0ge30pO1xyXG4gICAgICAgICAgICAgICAgdmFyIF9iID0gZ2V0U2xvdE5hbWUoc2xvdEJpbmRpbmcpLCBuYW1lXzMgPSBfYi5uYW1lLCBkeW5hbWljID0gX2IuZHluYW1pYztcclxuICAgICAgICAgICAgICAgIHZhciBzbG90Q29udGFpbmVyXzEgPSAoc2xvdHNbbmFtZV8zXSA9IGNyZWF0ZUFTVEVsZW1lbnQoJ3RlbXBsYXRlJywgW10sIGVsKSk7XHJcbiAgICAgICAgICAgICAgICBzbG90Q29udGFpbmVyXzEuc2xvdFRhcmdldCA9IG5hbWVfMztcclxuICAgICAgICAgICAgICAgIHNsb3RDb250YWluZXJfMS5zbG90VGFyZ2V0RHluYW1pYyA9IGR5bmFtaWM7XHJcbiAgICAgICAgICAgICAgICBzbG90Q29udGFpbmVyXzEuY2hpbGRyZW4gPSBlbC5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWMuc2xvdFNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGMucGFyZW50ID0gc2xvdENvbnRhaW5lcl8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNsb3RDb250YWluZXJfMS5zbG90U2NvcGUgPSBzbG90QmluZGluZy52YWx1ZSB8fCBlbXB0eVNsb3RTY29wZVRva2VuO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNoaWxkcmVuIGFzIHRoZXkgYXJlIHJldHVybmVkIGZyb20gc2NvcGVkU2xvdHMgbm93XHJcbiAgICAgICAgICAgICAgICBlbC5jaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy8gbWFyayBlbCBub24tcGxhaW4gc28gZGF0YSBnZXRzIGdlbmVyYXRlZFxyXG4gICAgICAgICAgICAgICAgZWwucGxhaW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRTbG90TmFtZShiaW5kaW5nKSB7XHJcbiAgICB2YXIgbmFtZSA9IGJpbmRpbmcubmFtZS5yZXBsYWNlKHNsb3RSRSwgJycpO1xyXG4gICAgaWYgKCFuYW1lKSB7XHJcbiAgICAgICAgaWYgKGJpbmRpbmcubmFtZVswXSAhPT0gJyMnKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgd2FybihcInYtc2xvdCBzaG9ydGhhbmQgc3ludGF4IHJlcXVpcmVzIGEgc2xvdCBuYW1lLlwiLCBiaW5kaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZHluYW1pY0FyZ1JFLnRlc3QobmFtZSlcclxuICAgICAgICA/IC8vIGR5bmFtaWMgW25hbWVdXHJcbiAgICAgICAgICAgIHsgbmFtZTogbmFtZS5zbGljZSgxLCAtMSksIGR5bmFtaWM6IHRydWUgfVxyXG4gICAgICAgIDogLy8gc3RhdGljIG5hbWVcclxuICAgICAgICAgICAgeyBuYW1lOiBcIlxcXCJcIi5jb25jYXQobmFtZSwgXCJcXFwiXCIpLCBkeW5hbWljOiBmYWxzZSB9O1xyXG59XHJcbi8vIGhhbmRsZSA8c2xvdC8+IG91dGxldHNcclxuZnVuY3Rpb24gcHJvY2Vzc1Nsb3RPdXRsZXQoZWwpIHtcclxuICAgIGlmIChlbC50YWcgPT09ICdzbG90Jykge1xyXG4gICAgICAgIGVsLnNsb3ROYW1lID0gZ2V0QmluZGluZ0F0dHIoZWwsICduYW1lJyk7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZWwua2V5KSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJga2V5YCBkb2VzIG5vdCB3b3JrIG9uIDxzbG90PiBiZWNhdXNlIHNsb3RzIGFyZSBhYnN0cmFjdCBvdXRsZXRzIFwiICtcclxuICAgICAgICAgICAgICAgIFwiYW5kIGNhbiBwb3NzaWJseSBleHBhbmQgaW50byBtdWx0aXBsZSBlbGVtZW50cy4gXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJVc2UgdGhlIGtleSBvbiBhIHdyYXBwaW5nIGVsZW1lbnQgaW5zdGVhZC5cIiwgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdrZXknKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NDb21wb25lbnQoZWwpIHtcclxuICAgIHZhciBiaW5kaW5nO1xyXG4gICAgaWYgKChiaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdpcycpKSkge1xyXG4gICAgICAgIGVsLmNvbXBvbmVudCA9IGJpbmRpbmc7XHJcbiAgICB9XHJcbiAgICBpZiAoZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ2lubGluZS10ZW1wbGF0ZScpICE9IG51bGwpIHtcclxuICAgICAgICBlbC5pbmxpbmVUZW1wbGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc0F0dHJzKGVsKSB7XHJcbiAgICB2YXIgbGlzdCA9IGVsLmF0dHJzTGlzdDtcclxuICAgIHZhciBpLCBsLCBuYW1lLCByYXdOYW1lLCB2YWx1ZSwgbW9kaWZpZXJzLCBzeW5jR2VuLCBpc0R5bmFtaWM7XHJcbiAgICBmb3IgKGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBuYW1lID0gcmF3TmFtZSA9IGxpc3RbaV0ubmFtZTtcclxuICAgICAgICB2YWx1ZSA9IGxpc3RbaV0udmFsdWU7XHJcbiAgICAgICAgaWYgKGRpclJFLnRlc3QobmFtZSkpIHtcclxuICAgICAgICAgICAgLy8gbWFyayBlbGVtZW50IGFzIGR5bmFtaWNcclxuICAgICAgICAgICAgZWwuaGFzQmluZGluZ3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBtb2RpZmllcnNcclxuICAgICAgICAgICAgbW9kaWZpZXJzID0gcGFyc2VNb2RpZmllcnMobmFtZS5yZXBsYWNlKGRpclJFLCAnJykpO1xyXG4gICAgICAgICAgICAvLyBzdXBwb3J0IC5mb28gc2hvcnRoYW5kIHN5bnRheCBmb3IgdGhlIC5wcm9wIG1vZGlmaWVyXHJcbiAgICAgICAgICAgIGlmIChtb2RpZmllcnMpIHtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UobW9kaWZpZXJSRSwgJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChiaW5kUkUudGVzdChuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdi1iaW5kXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKGJpbmRSRSwgJycpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZpbHRlcnModmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNEeW5hbWljID0gZHluYW1pY0FyZ1JFLnRlc3QobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEeW5hbWljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMSwgLTEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oXCJUaGUgdmFsdWUgZm9yIGEgdi1iaW5kIGV4cHJlc3Npb24gY2Fubm90IGJlIGVtcHR5LiBGb3VuZCBpbiBcXFwidi1iaW5kOlwiLmNvbmNhdChuYW1lLCBcIlxcXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZmllcnMucHJvcCAmJiAhaXNEeW5hbWljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdpbm5lckh0bWwnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICdpbm5lckhUTUwnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZpZXJzLmNhbWVsICYmICFpc0R5bmFtaWMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGNhbWVsaXplKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZpZXJzLnN5bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3luY0dlbiA9IGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCBcIiRldmVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0R5bmFtaWMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEhhbmRsZXIoZWwsIFwidXBkYXRlOlwiLmNvbmNhdChjYW1lbGl6ZShuYW1lKSksIHN5bmNHZW4sIG51bGwsIGZhbHNlLCB3YXJuLCBsaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoeXBoZW5hdGUobmFtZSkgIT09IGNhbWVsaXplKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkSGFuZGxlcihlbCwgXCJ1cGRhdGU6XCIuY29uY2F0KGh5cGhlbmF0ZShuYW1lKSksIHN5bmNHZW4sIG51bGwsIGZhbHNlLCB3YXJuLCBsaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZXIgdy8gZHluYW1pYyBldmVudCBuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRIYW5kbGVyKGVsLCBcIlxcXCJ1cGRhdGU6XFxcIisoXCIuY29uY2F0KG5hbWUsIFwiKVwiKSwgc3luY0dlbiwgbnVsbCwgZmFsc2UsIHdhcm4sIGxpc3RbaV0sIHRydWUgLy8gZHluYW1pY1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgobW9kaWZpZXJzICYmIG1vZGlmaWVycy5wcm9wKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICghZWwuY29tcG9uZW50ICYmIHBsYXRmb3JtTXVzdFVzZVByb3AoZWwudGFnLCBlbC5hdHRyc01hcC50eXBlLCBuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRQcm9wKGVsLCBuYW1lLCB2YWx1ZSwgbGlzdFtpXSwgaXNEeW5hbWljKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZEF0dHIoZWwsIG5hbWUsIHZhbHVlLCBsaXN0W2ldLCBpc0R5bmFtaWMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9uUkUudGVzdChuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdi1vblxyXG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShvblJFLCAnJyk7XHJcbiAgICAgICAgICAgICAgICBpc0R5bmFtaWMgPSBkeW5hbWljQXJnUkUudGVzdChuYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0R5bmFtaWMpIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgxLCAtMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhZGRIYW5kbGVyKGVsLCBuYW1lLCB2YWx1ZSwgbW9kaWZpZXJzLCBmYWxzZSwgd2FybiwgbGlzdFtpXSwgaXNEeW5hbWljKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG5vcm1hbCBkaXJlY3RpdmVzXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKGRpclJFLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBwYXJzZSBhcmdcclxuICAgICAgICAgICAgICAgIHZhciBhcmdNYXRjaCA9IG5hbWUubWF0Y2goYXJnUkUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ01hdGNoICYmIGFyZ01hdGNoWzFdO1xyXG4gICAgICAgICAgICAgICAgaXNEeW5hbWljID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgLShhcmcubGVuZ3RoICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkeW5hbWljQXJnUkUudGVzdChhcmcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zbGljZSgxLCAtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRHluYW1pYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYWRkRGlyZWN0aXZlKGVsLCBuYW1lLCByYXdOYW1lLCB2YWx1ZSwgYXJnLCBpc0R5bmFtaWMsIG1vZGlmaWVycywgbGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBuYW1lID09PSAnbW9kZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tGb3JBbGlhc01vZGVsKGVsLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGxpdGVyYWwgYXR0cmlidXRlXHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzID0gcGFyc2VUZXh0KHZhbHVlLCBkZWxpbWl0ZXJzKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiXCIuY29uY2F0KG5hbWUsIFwiPVxcXCJcIikuY29uY2F0KHZhbHVlLCBcIlxcXCI6IFwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdJbnRlcnBvbGF0aW9uIGluc2lkZSBhdHRyaWJ1dGVzIGhhcyBiZWVuIHJlbW92ZWQuICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2luc3RlYWQgb2YgPGRpdiBpZD1cInt7IHZhbCB9fVwiPiwgdXNlIDxkaXYgOmlkPVwidmFsXCI+LicsIGxpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkZEF0dHIoZWwsIG5hbWUsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSwgbGlzdFtpXSk7XHJcbiAgICAgICAgICAgIC8vICM2ODg3IGZpcmVmb3ggZG9lc24ndCB1cGRhdGUgbXV0ZWQgc3RhdGUgaWYgc2V0IHZpYSBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgLy8gZXZlbiBpbW1lZGlhdGVseSBhZnRlciBlbGVtZW50IGNyZWF0aW9uXHJcbiAgICAgICAgICAgIGlmICghZWwuY29tcG9uZW50ICYmXHJcbiAgICAgICAgICAgICAgICBuYW1lID09PSAnbXV0ZWQnICYmXHJcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybU11c3RVc2VQcm9wKGVsLnRhZywgZWwuYXR0cnNNYXAudHlwZSwgbmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGFkZFByb3AoZWwsIG5hbWUsICd0cnVlJywgbGlzdFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tJbkZvcihlbCkge1xyXG4gICAgdmFyIHBhcmVudCA9IGVsO1xyXG4gICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgIGlmIChwYXJlbnQuZm9yICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VNb2RpZmllcnMobmFtZSkge1xyXG4gICAgdmFyIG1hdGNoID0gbmFtZS5tYXRjaChtb2RpZmllclJFKTtcclxuICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgIHZhciByZXRfMSA9IHt9O1xyXG4gICAgICAgIG1hdGNoLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgcmV0XzFbbS5zbGljZSgxKV0gPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXRfMTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBtYWtlQXR0cnNNYXAoYXR0cnMpIHtcclxuICAgIHZhciBtYXAgPSB7fTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXR0cnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgbWFwW2F0dHJzW2ldLm5hbWVdICYmICFpc0lFICYmICFpc0VkZ2UpIHtcclxuICAgICAgICAgICAgd2FybignZHVwbGljYXRlIGF0dHJpYnV0ZTogJyArIGF0dHJzW2ldLm5hbWUsIGF0dHJzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWFwW2F0dHJzW2ldLm5hbWVdID0gYXR0cnNbaV0udmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwO1xyXG59XHJcbi8vIGZvciBzY3JpcHQgKGUuZy4gdHlwZT1cIngvdGVtcGxhdGVcIikgb3Igc3R5bGUsIGRvIG5vdCBkZWNvZGUgY29udGVudFxyXG5mdW5jdGlvbiBpc1RleHRUYWcoZWwpIHtcclxuICAgIHJldHVybiBlbC50YWcgPT09ICdzY3JpcHQnIHx8IGVsLnRhZyA9PT0gJ3N0eWxlJztcclxufVxyXG5mdW5jdGlvbiBpc0ZvcmJpZGRlblRhZyhlbCkge1xyXG4gICAgcmV0dXJuIChlbC50YWcgPT09ICdzdHlsZScgfHxcclxuICAgICAgICAoZWwudGFnID09PSAnc2NyaXB0JyAmJlxyXG4gICAgICAgICAgICAoIWVsLmF0dHJzTWFwLnR5cGUgfHwgZWwuYXR0cnNNYXAudHlwZSA9PT0gJ3RleHQvamF2YXNjcmlwdCcpKSk7XHJcbn1cclxudmFyIGllTlNCdWcgPSAvXnhtbG5zOk5TXFxkKy87XHJcbnZhciBpZU5TUHJlZml4ID0gL15OU1xcZCs6LztcclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gZ3VhcmRJRVNWR0J1ZyhhdHRycykge1xyXG4gICAgdmFyIHJlcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBhdHRyID0gYXR0cnNbaV07XHJcbiAgICAgICAgaWYgKCFpZU5TQnVnLnRlc3QoYXR0ci5uYW1lKSkge1xyXG4gICAgICAgICAgICBhdHRyLm5hbWUgPSBhdHRyLm5hbWUucmVwbGFjZShpZU5TUHJlZml4LCAnJyk7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKGF0dHIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tGb3JBbGlhc01vZGVsKGVsLCB2YWx1ZSkge1xyXG4gICAgdmFyIF9lbCA9IGVsO1xyXG4gICAgd2hpbGUgKF9lbCkge1xyXG4gICAgICAgIGlmIChfZWwuZm9yICYmIF9lbC5hbGlhcyA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgd2FybihcIjxcIi5jb25jYXQoZWwudGFnLCBcIiB2LW1vZGVsPVxcXCJcIikuY29uY2F0KHZhbHVlLCBcIlxcXCI+OiBcIikgK1xyXG4gICAgICAgICAgICAgICAgXCJZb3UgYXJlIGJpbmRpbmcgdi1tb2RlbCBkaXJlY3RseSB0byBhIHYtZm9yIGl0ZXJhdGlvbiBhbGlhcy4gXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJUaGlzIHdpbGwgbm90IGJlIGFibGUgdG8gbW9kaWZ5IHRoZSB2LWZvciBzb3VyY2UgYXJyYXkgYmVjYXVzZSBcIiArXHJcbiAgICAgICAgICAgICAgICBcIndyaXRpbmcgdG8gdGhlIGFsaWFzIGlzIGxpa2UgbW9kaWZ5aW5nIGEgZnVuY3Rpb24gbG9jYWwgdmFyaWFibGUuIFwiICtcclxuICAgICAgICAgICAgICAgIFwiQ29uc2lkZXIgdXNpbmcgYW4gYXJyYXkgb2Ygb2JqZWN0cyBhbmQgdXNlIHYtbW9kZWwgb24gYW4gb2JqZWN0IHByb3BlcnR5IGluc3RlYWQuXCIsIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfZWwgPSBfZWwucGFyZW50O1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBFeHBhbmQgaW5wdXRbdi1tb2RlbF0gd2l0aCBkeW5hbWljIHR5cGUgYmluZGluZ3MgaW50byB2LWlmLWVsc2UgY2hhaW5zXHJcbiAqIFR1cm4gdGhpczpcclxuICogICA8aW5wdXQgdi1tb2RlbD1cImRhdGFbdHlwZV1cIiA6dHlwZT1cInR5cGVcIj5cclxuICogaW50byB0aGlzOlxyXG4gKiAgIDxpbnB1dCB2LWlmPVwidHlwZSA9PT0gJ2NoZWNrYm94J1wiIHR5cGU9XCJjaGVja2JveFwiIHYtbW9kZWw9XCJkYXRhW3R5cGVdXCI+XHJcbiAqICAgPGlucHV0IHYtZWxzZS1pZj1cInR5cGUgPT09ICdyYWRpbydcIiB0eXBlPVwicmFkaW9cIiB2LW1vZGVsPVwiZGF0YVt0eXBlXVwiPlxyXG4gKiAgIDxpbnB1dCB2LWVsc2UgOnR5cGU9XCJ0eXBlXCIgdi1tb2RlbD1cImRhdGFbdHlwZV1cIj5cclxuICovXHJcbmZ1bmN0aW9uIHByZVRyYW5zZm9ybU5vZGUoZWwsIG9wdGlvbnMpIHtcclxuICAgIGlmIChlbC50YWcgPT09ICdpbnB1dCcpIHtcclxuICAgICAgICB2YXIgbWFwID0gZWwuYXR0cnNNYXA7XHJcbiAgICAgICAgaWYgKCFtYXBbJ3YtbW9kZWwnXSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0eXBlQmluZGluZyA9IHZvaWQgMDtcclxuICAgICAgICBpZiAobWFwWyc6dHlwZSddIHx8IG1hcFsndi1iaW5kOnR5cGUnXSkge1xyXG4gICAgICAgICAgICB0eXBlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndHlwZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW1hcC50eXBlICYmICF0eXBlQmluZGluZyAmJiBtYXBbJ3YtYmluZCddKSB7XHJcbiAgICAgICAgICAgIHR5cGVCaW5kaW5nID0gXCIoXCIuY29uY2F0KG1hcFsndi1iaW5kJ10sIFwiKS50eXBlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZUJpbmRpbmcpIHtcclxuICAgICAgICAgICAgdmFyIGlmQ29uZGl0aW9uID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtaWYnLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIGlmQ29uZGl0aW9uRXh0cmEgPSBpZkNvbmRpdGlvbiA/IFwiJiYoXCIuY29uY2F0KGlmQ29uZGl0aW9uLCBcIilcIikgOiBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgaGFzRWxzZSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWVsc2UnLCB0cnVlKSAhPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgZWxzZUlmQ29uZGl0aW9uID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZS1pZicsIHRydWUpO1xyXG4gICAgICAgICAgICAvLyAxLiBjaGVja2JveFxyXG4gICAgICAgICAgICB2YXIgYnJhbmNoMCA9IGNsb25lQVNURWxlbWVudChlbCk7XHJcbiAgICAgICAgICAgIC8vIHByb2Nlc3MgZm9yIG9uIHRoZSBtYWluIG5vZGVcclxuICAgICAgICAgICAgcHJvY2Vzc0ZvcihicmFuY2gwKTtcclxuICAgICAgICAgICAgYWRkUmF3QXR0cihicmFuY2gwLCAndHlwZScsICdjaGVja2JveCcpO1xyXG4gICAgICAgICAgICBwcm9jZXNzRWxlbWVudChicmFuY2gwLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgYnJhbmNoMC5wcm9jZXNzZWQgPSB0cnVlOyAvLyBwcmV2ZW50IGl0IGZyb20gZG91YmxlLXByb2Nlc3NlZFxyXG4gICAgICAgICAgICBicmFuY2gwLmlmID0gXCIoXCIuY29uY2F0KHR5cGVCaW5kaW5nLCBcIik9PT0nY2hlY2tib3gnXCIpICsgaWZDb25kaXRpb25FeHRyYTtcclxuICAgICAgICAgICAgYWRkSWZDb25kaXRpb24oYnJhbmNoMCwge1xyXG4gICAgICAgICAgICAgICAgZXhwOiBicmFuY2gwLmlmLFxyXG4gICAgICAgICAgICAgICAgYmxvY2s6IGJyYW5jaDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIDIuIGFkZCByYWRpbyBlbHNlLWlmIGNvbmRpdGlvblxyXG4gICAgICAgICAgICB2YXIgYnJhbmNoMSA9IGNsb25lQVNURWxlbWVudChlbCk7XHJcbiAgICAgICAgICAgIGdldEFuZFJlbW92ZUF0dHIoYnJhbmNoMSwgJ3YtZm9yJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGFkZFJhd0F0dHIoYnJhbmNoMSwgJ3R5cGUnLCAncmFkaW8nKTtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnQoYnJhbmNoMSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGFkZElmQ29uZGl0aW9uKGJyYW5jaDAsIHtcclxuICAgICAgICAgICAgICAgIGV4cDogXCIoXCIuY29uY2F0KHR5cGVCaW5kaW5nLCBcIik9PT0ncmFkaW8nXCIpICsgaWZDb25kaXRpb25FeHRyYSxcclxuICAgICAgICAgICAgICAgIGJsb2NrOiBicmFuY2gxXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyAzLiBvdGhlclxyXG4gICAgICAgICAgICB2YXIgYnJhbmNoMiA9IGNsb25lQVNURWxlbWVudChlbCk7XHJcbiAgICAgICAgICAgIGdldEFuZFJlbW92ZUF0dHIoYnJhbmNoMiwgJ3YtZm9yJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGFkZFJhd0F0dHIoYnJhbmNoMiwgJzp0eXBlJywgdHlwZUJpbmRpbmcpO1xyXG4gICAgICAgICAgICBwcm9jZXNzRWxlbWVudChicmFuY2gyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgYWRkSWZDb25kaXRpb24oYnJhbmNoMCwge1xyXG4gICAgICAgICAgICAgICAgZXhwOiBpZkNvbmRpdGlvbixcclxuICAgICAgICAgICAgICAgIGJsb2NrOiBicmFuY2gyXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoaGFzRWxzZSkge1xyXG4gICAgICAgICAgICAgICAgYnJhbmNoMC5lbHNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlbHNlSWZDb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGJyYW5jaDAuZWxzZWlmID0gZWxzZUlmQ29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBicmFuY2gwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjbG9uZUFTVEVsZW1lbnQoZWwpIHtcclxuICAgIHJldHVybiBjcmVhdGVBU1RFbGVtZW50KGVsLnRhZywgZWwuYXR0cnNMaXN0LnNsaWNlKCksIGVsLnBhcmVudCk7XHJcbn1cclxudmFyIG1vZGVsID0ge1xyXG4gICAgcHJlVHJhbnNmb3JtTm9kZTogcHJlVHJhbnNmb3JtTm9kZVxyXG59O1xuXG52YXIgbW9kdWxlcyA9IFtrbGFzcywgc3R5bGUsIG1vZGVsXTtcblxuZnVuY3Rpb24gdGV4dChlbCwgZGlyKSB7XHJcbiAgICBpZiAoZGlyLnZhbHVlKSB7XHJcbiAgICAgICAgYWRkUHJvcChlbCwgJ3RleHRDb250ZW50JywgXCJfcyhcIi5jb25jYXQoZGlyLnZhbHVlLCBcIilcIiksIGRpcik7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gaHRtbChlbCwgZGlyKSB7XHJcbiAgICBpZiAoZGlyLnZhbHVlKSB7XHJcbiAgICAgICAgYWRkUHJvcChlbCwgJ2lubmVySFRNTCcsIFwiX3MoXCIuY29uY2F0KGRpci52YWx1ZSwgXCIpXCIpLCBkaXIpO1xyXG4gICAgfVxyXG59XG5cbnZhciBkaXJlY3RpdmVzID0ge1xyXG4gICAgbW9kZWw6IG1vZGVsJDEsXHJcbiAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgaHRtbDogaHRtbFxyXG59O1xuXG52YXIgYmFzZU9wdGlvbnMgPSB7XHJcbiAgICBleHBlY3RIVE1MOiB0cnVlLFxyXG4gICAgbW9kdWxlczogbW9kdWxlcyxcclxuICAgIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMsXHJcbiAgICBpc1ByZVRhZzogaXNQcmVUYWcsXHJcbiAgICBpc1VuYXJ5VGFnOiBpc1VuYXJ5VGFnLFxyXG4gICAgbXVzdFVzZVByb3A6IG11c3RVc2VQcm9wLFxyXG4gICAgY2FuQmVMZWZ0T3BlblRhZzogY2FuQmVMZWZ0T3BlblRhZyxcclxuICAgIGlzUmVzZXJ2ZWRUYWc6IGlzUmVzZXJ2ZWRUYWcsXHJcbiAgICBnZXRUYWdOYW1lc3BhY2U6IGdldFRhZ05hbWVzcGFjZSxcclxuICAgIHN0YXRpY0tleXM6IGdlblN0YXRpY0tleXMkMShtb2R1bGVzKVxyXG59O1xuXG52YXIgaXNTdGF0aWNLZXk7XHJcbnZhciBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWc7XHJcbnZhciBnZW5TdGF0aWNLZXlzQ2FjaGVkID0gY2FjaGVkKGdlblN0YXRpY0tleXMpO1xyXG4vKipcclxuICogR29hbCBvZiB0aGUgb3B0aW1pemVyOiB3YWxrIHRoZSBnZW5lcmF0ZWQgdGVtcGxhdGUgQVNUIHRyZWVcclxuICogYW5kIGRldGVjdCBzdWItdHJlZXMgdGhhdCBhcmUgcHVyZWx5IHN0YXRpYywgaS5lLiBwYXJ0cyBvZlxyXG4gKiB0aGUgRE9NIHRoYXQgbmV2ZXIgbmVlZHMgdG8gY2hhbmdlLlxyXG4gKlxyXG4gKiBPbmNlIHdlIGRldGVjdCB0aGVzZSBzdWItdHJlZXMsIHdlIGNhbjpcclxuICpcclxuICogMS4gSG9pc3QgdGhlbSBpbnRvIGNvbnN0YW50cywgc28gdGhhdCB3ZSBubyBsb25nZXIgbmVlZCB0b1xyXG4gKiAgICBjcmVhdGUgZnJlc2ggbm9kZXMgZm9yIHRoZW0gb24gZWFjaCByZS1yZW5kZXI7XHJcbiAqIDIuIENvbXBsZXRlbHkgc2tpcCB0aGVtIGluIHRoZSBwYXRjaGluZyBwcm9jZXNzLlxyXG4gKi9cclxuZnVuY3Rpb24gb3B0aW1pemUocm9vdCwgb3B0aW9ucykge1xyXG4gICAgaWYgKCFyb290KVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGlzU3RhdGljS2V5ID0gZ2VuU3RhdGljS2V5c0NhY2hlZChvcHRpb25zLnN0YXRpY0tleXMgfHwgJycpO1xyXG4gICAgaXNQbGF0Zm9ybVJlc2VydmVkVGFnID0gb3B0aW9ucy5pc1Jlc2VydmVkVGFnIHx8IG5vO1xyXG4gICAgLy8gZmlyc3QgcGFzczogbWFyayBhbGwgbm9uLXN0YXRpYyBub2Rlcy5cclxuICAgIG1hcmtTdGF0aWMocm9vdCk7XHJcbiAgICAvLyBzZWNvbmQgcGFzczogbWFyayBzdGF0aWMgcm9vdHMuXHJcbiAgICBtYXJrU3RhdGljUm9vdHMocm9vdCwgZmFsc2UpO1xyXG59XHJcbmZ1bmN0aW9uIGdlblN0YXRpY0tleXMoa2V5cykge1xyXG4gICAgcmV0dXJuIG1ha2VNYXAoJ3R5cGUsdGFnLGF0dHJzTGlzdCxhdHRyc01hcCxwbGFpbixwYXJlbnQsY2hpbGRyZW4sYXR0cnMsc3RhcnQsZW5kLHJhd0F0dHJzTWFwJyArXHJcbiAgICAgICAgKGtleXMgPyAnLCcgKyBrZXlzIDogJycpKTtcclxufVxyXG5mdW5jdGlvbiBtYXJrU3RhdGljKG5vZGUpIHtcclxuICAgIG5vZGUuc3RhdGljID0gaXNTdGF0aWMobm9kZSk7XHJcbiAgICBpZiAobm9kZS50eXBlID09PSAxKSB7XHJcbiAgICAgICAgLy8gZG8gbm90IG1ha2UgY29tcG9uZW50IHNsb3QgY29udGVudCBzdGF0aWMuIHRoaXMgYXZvaWRzXHJcbiAgICAgICAgLy8gMS4gY29tcG9uZW50cyBub3QgYWJsZSB0byBtdXRhdGUgc2xvdCBub2Rlc1xyXG4gICAgICAgIC8vIDIuIHN0YXRpYyBzbG90IGNvbnRlbnQgZmFpbHMgZm9yIGhvdC1yZWxvYWRpbmdcclxuICAgICAgICBpZiAoIWlzUGxhdGZvcm1SZXNlcnZlZFRhZyhub2RlLnRhZykgJiZcclxuICAgICAgICAgICAgbm9kZS50YWcgIT09ICdzbG90JyAmJlxyXG4gICAgICAgICAgICBub2RlLmF0dHJzTWFwWydpbmxpbmUtdGVtcGxhdGUnXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBtYXJrU3RhdGljKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKCFjaGlsZC5zdGF0aWMpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUuc3RhdGljID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5vZGUuaWZDb25kaXRpb25zKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxLCBsID0gbm9kZS5pZkNvbmRpdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2sgPSBub2RlLmlmQ29uZGl0aW9uc1tpXS5ibG9jaztcclxuICAgICAgICAgICAgICAgIG1hcmtTdGF0aWMoYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFibG9jay5zdGF0aWMpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnN0YXRpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG1hcmtTdGF0aWNSb290cyhub2RlLCBpc0luRm9yKSB7XHJcbiAgICBpZiAobm9kZS50eXBlID09PSAxKSB7XHJcbiAgICAgICAgaWYgKG5vZGUuc3RhdGljIHx8IG5vZGUub25jZSkge1xyXG4gICAgICAgICAgICBub2RlLnN0YXRpY0luRm9yID0gaXNJbkZvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRm9yIGEgbm9kZSB0byBxdWFsaWZ5IGFzIGEgc3RhdGljIHJvb3QsIGl0IHNob3VsZCBoYXZlIGNoaWxkcmVuIHRoYXRcclxuICAgICAgICAvLyBhcmUgbm90IGp1c3Qgc3RhdGljIHRleHQuIE90aGVyd2lzZSB0aGUgY29zdCBvZiBob2lzdGluZyBvdXQgd2lsbFxyXG4gICAgICAgIC8vIG91dHdlaWdoIHRoZSBiZW5lZml0cyBhbmQgaXQncyBiZXR0ZXIgb2ZmIHRvIGp1c3QgYWx3YXlzIHJlbmRlciBpdCBmcmVzaC5cclxuICAgICAgICBpZiAobm9kZS5zdGF0aWMgJiZcclxuICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5sZW5ndGggJiZcclxuICAgICAgICAgICAgIShub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiBub2RlLmNoaWxkcmVuWzBdLnR5cGUgPT09IDMpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuc3RhdGljUm9vdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vZGUuc3RhdGljUm9vdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJrU3RhdGljUm9vdHMobm9kZS5jaGlsZHJlbltpXSwgaXNJbkZvciB8fCAhIW5vZGUuZm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm9kZS5pZkNvbmRpdGlvbnMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGwgPSBub2RlLmlmQ29uZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1hcmtTdGF0aWNSb290cyhub2RlLmlmQ29uZGl0aW9uc1tpXS5ibG9jaywgaXNJbkZvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNTdGF0aWMobm9kZSkge1xyXG4gICAgaWYgKG5vZGUudHlwZSA9PT0gMikge1xyXG4gICAgICAgIC8vIGV4cHJlc3Npb25cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAobm9kZS50eXBlID09PSAzKSB7XHJcbiAgICAgICAgLy8gdGV4dFxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhKG5vZGUucHJlIHx8XHJcbiAgICAgICAgKCFub2RlLmhhc0JpbmRpbmdzICYmIC8vIG5vIGR5bmFtaWMgYmluZGluZ3NcclxuICAgICAgICAgICAgIW5vZGUuaWYgJiZcclxuICAgICAgICAgICAgIW5vZGUuZm9yICYmIC8vIG5vdCB2LWlmIG9yIHYtZm9yIG9yIHYtZWxzZVxyXG4gICAgICAgICAgICAhaXNCdWlsdEluVGFnKG5vZGUudGFnKSAmJiAvLyBub3QgYSBidWlsdC1pblxyXG4gICAgICAgICAgICBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcobm9kZS50YWcpICYmIC8vIG5vdCBhIGNvbXBvbmVudFxyXG4gICAgICAgICAgICAhaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3Iobm9kZSkgJiZcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMobm9kZSkuZXZlcnkoaXNTdGF0aWNLZXkpKSk7XHJcbn1cclxuZnVuY3Rpb24gaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3Iobm9kZSkge1xyXG4gICAgd2hpbGUgKG5vZGUucGFyZW50KSB7XHJcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xyXG4gICAgICAgIGlmIChub2RlLnRhZyAhPT0gJ3RlbXBsYXRlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChub2RlLmZvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cblxudmFyIGZuRXhwUkUgPSAvXihbXFx3JF9dK3xcXChbXildKj9cXCkpXFxzKj0+fF5mdW5jdGlvbig/OlxccytbXFx3JF0rKT9cXHMqXFwoLztcclxudmFyIGZuSW52b2tlUkUgPSAvXFwoW14pXSo/XFwpOyokLztcclxudmFyIHNpbXBsZVBhdGhSRSA9IC9eW0EtWmEtel8kXVtcXHckXSooPzpcXC5bQS1aYS16XyRdW1xcdyRdKnxcXFsnW14nXSo/J118XFxbXCJbXlwiXSo/XCJdfFxcW1xcZCtdfFxcW1tBLVphLXpfJF1bXFx3JF0qXSkqJC87XHJcbi8vIEtleWJvYXJkRXZlbnQua2V5Q29kZSBhbGlhc2VzXHJcbnZhciBrZXlDb2RlcyA9IHtcclxuICAgIGVzYzogMjcsXHJcbiAgICB0YWI6IDksXHJcbiAgICBlbnRlcjogMTMsXHJcbiAgICBzcGFjZTogMzIsXHJcbiAgICB1cDogMzgsXHJcbiAgICBsZWZ0OiAzNyxcclxuICAgIHJpZ2h0OiAzOSxcclxuICAgIGRvd246IDQwLFxyXG4gICAgZGVsZXRlOiBbOCwgNDZdXHJcbn07XHJcbi8vIEtleWJvYXJkRXZlbnQua2V5IGFsaWFzZXNcclxudmFyIGtleU5hbWVzID0ge1xyXG4gICAgLy8gIzc4ODA6IElFMTEgYW5kIEVkZ2UgdXNlIGBFc2NgIGZvciBFc2NhcGUga2V5IG5hbWUuXHJcbiAgICBlc2M6IFsnRXNjJywgJ0VzY2FwZSddLFxyXG4gICAgdGFiOiAnVGFiJyxcclxuICAgIGVudGVyOiAnRW50ZXInLFxyXG4gICAgLy8gIzkxMTI6IElFMTEgdXNlcyBgU3BhY2ViYXJgIGZvciBTcGFjZSBrZXkgbmFtZS5cclxuICAgIHNwYWNlOiBbJyAnLCAnU3BhY2ViYXInXSxcclxuICAgIC8vICM3ODA2OiBJRTExIHVzZXMga2V5IG5hbWVzIHdpdGhvdXQgYEFycm93YCBwcmVmaXggZm9yIGFycm93IGtleXMuXHJcbiAgICB1cDogWydVcCcsICdBcnJvd1VwJ10sXHJcbiAgICBsZWZ0OiBbJ0xlZnQnLCAnQXJyb3dMZWZ0J10sXHJcbiAgICByaWdodDogWydSaWdodCcsICdBcnJvd1JpZ2h0J10sXHJcbiAgICBkb3duOiBbJ0Rvd24nLCAnQXJyb3dEb3duJ10sXHJcbiAgICAvLyAjOTExMjogSUUxMSB1c2VzIGBEZWxgIGZvciBEZWxldGUga2V5IG5hbWUuXHJcbiAgICBkZWxldGU6IFsnQmFja3NwYWNlJywgJ0RlbGV0ZScsICdEZWwnXVxyXG59O1xyXG4vLyAjNDg2ODogbW9kaWZpZXJzIHRoYXQgcHJldmVudCB0aGUgZXhlY3V0aW9uIG9mIHRoZSBsaXN0ZW5lclxyXG4vLyBuZWVkIHRvIGV4cGxpY2l0bHkgcmV0dXJuIG51bGwgc28gdGhhdCB3ZSBjYW4gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gcmVtb3ZlXHJcbi8vIHRoZSBsaXN0ZW5lciBmb3IgLm9uY2VcclxudmFyIGdlbkd1YXJkID0gZnVuY3Rpb24gKGNvbmRpdGlvbikgeyByZXR1cm4gXCJpZihcIi5jb25jYXQoY29uZGl0aW9uLCBcIilyZXR1cm4gbnVsbDtcIik7IH07XHJcbnZhciBtb2RpZmllckNvZGUgPSB7XHJcbiAgICBzdG9wOiAnJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOycsXHJcbiAgICBwcmV2ZW50OiAnJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7JyxcclxuICAgIHNlbGY6IGdlbkd1YXJkKFwiJGV2ZW50LnRhcmdldCAhPT0gJGV2ZW50LmN1cnJlbnRUYXJnZXRcIiksXHJcbiAgICBjdHJsOiBnZW5HdWFyZChcIiEkZXZlbnQuY3RybEtleVwiKSxcclxuICAgIHNoaWZ0OiBnZW5HdWFyZChcIiEkZXZlbnQuc2hpZnRLZXlcIiksXHJcbiAgICBhbHQ6IGdlbkd1YXJkKFwiISRldmVudC5hbHRLZXlcIiksXHJcbiAgICBtZXRhOiBnZW5HdWFyZChcIiEkZXZlbnQubWV0YUtleVwiKSxcclxuICAgIGxlZnQ6IGdlbkd1YXJkKFwiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDBcIiksXHJcbiAgICBtaWRkbGU6IGdlbkd1YXJkKFwiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDFcIiksXHJcbiAgICByaWdodDogZ2VuR3VhcmQoXCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMlwiKVxyXG59O1xyXG5mdW5jdGlvbiBnZW5IYW5kbGVycyhldmVudHMsIGlzTmF0aXZlKSB7XHJcbiAgICB2YXIgcHJlZml4ID0gaXNOYXRpdmUgPyAnbmF0aXZlT246JyA6ICdvbjonO1xyXG4gICAgdmFyIHN0YXRpY0hhbmRsZXJzID0gXCJcIjtcclxuICAgIHZhciBkeW5hbWljSGFuZGxlcnMgPSBcIlwiO1xyXG4gICAgZm9yICh2YXIgbmFtZV8xIGluIGV2ZW50cykge1xyXG4gICAgICAgIHZhciBoYW5kbGVyQ29kZSA9IGdlbkhhbmRsZXIoZXZlbnRzW25hbWVfMV0pO1xyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGlmIChldmVudHNbbmFtZV8xXSAmJiBldmVudHNbbmFtZV8xXS5keW5hbWljKSB7XHJcbiAgICAgICAgICAgIGR5bmFtaWNIYW5kbGVycyArPSBcIlwiLmNvbmNhdChuYW1lXzEsIFwiLFwiKS5jb25jYXQoaGFuZGxlckNvZGUsIFwiLFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXRpY0hhbmRsZXJzICs9IFwiXFxcIlwiLmNvbmNhdChuYW1lXzEsIFwiXFxcIjpcIikuY29uY2F0KGhhbmRsZXJDb2RlLCBcIixcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljSGFuZGxlcnMgPSBcIntcIi5jb25jYXQoc3RhdGljSGFuZGxlcnMuc2xpY2UoMCwgLTEpLCBcIn1cIik7XHJcbiAgICBpZiAoZHluYW1pY0hhbmRsZXJzKSB7XHJcbiAgICAgICAgcmV0dXJuIHByZWZpeCArIFwiX2QoXCIuY29uY2F0KHN0YXRpY0hhbmRsZXJzLCBcIixbXCIpLmNvbmNhdChkeW5hbWljSGFuZGxlcnMuc2xpY2UoMCwgLTEpLCBcIl0pXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHByZWZpeCArIHN0YXRpY0hhbmRsZXJzO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdlbkhhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgaWYgKCFoYW5kbGVyKSB7XHJcbiAgICAgICAgcmV0dXJuICdmdW5jdGlvbigpe30nO1xyXG4gICAgfVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaGFuZGxlcikpIHtcclxuICAgICAgICByZXR1cm4gXCJbXCIuY29uY2F0KGhhbmRsZXIubWFwKGZ1bmN0aW9uIChoYW5kbGVyKSB7IHJldHVybiBnZW5IYW5kbGVyKGhhbmRsZXIpOyB9KS5qb2luKCcsJyksIFwiXVwiKTtcclxuICAgIH1cclxuICAgIHZhciBpc01ldGhvZFBhdGggPSBzaW1wbGVQYXRoUkUudGVzdChoYW5kbGVyLnZhbHVlKTtcclxuICAgIHZhciBpc0Z1bmN0aW9uRXhwcmVzc2lvbiA9IGZuRXhwUkUudGVzdChoYW5kbGVyLnZhbHVlKTtcclxuICAgIHZhciBpc0Z1bmN0aW9uSW52b2NhdGlvbiA9IHNpbXBsZVBhdGhSRS50ZXN0KGhhbmRsZXIudmFsdWUucmVwbGFjZShmbkludm9rZVJFLCAnJykpO1xyXG4gICAgaWYgKCFoYW5kbGVyLm1vZGlmaWVycykge1xyXG4gICAgICAgIGlmIChpc01ldGhvZFBhdGggfHwgaXNGdW5jdGlvbkV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcImZ1bmN0aW9uKCRldmVudCl7XCIuY29uY2F0KGlzRnVuY3Rpb25JbnZvY2F0aW9uID8gXCJyZXR1cm4gXCIuY29uY2F0KGhhbmRsZXIudmFsdWUpIDogaGFuZGxlci52YWx1ZSwgXCJ9XCIpOyAvLyBpbmxpbmUgc3RhdGVtZW50XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgY29kZSA9ICcnO1xyXG4gICAgICAgIHZhciBnZW5Nb2RpZmllckNvZGUgPSAnJztcclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBpZiAobW9kaWZpZXJDb2RlW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIGdlbk1vZGlmaWVyQ29kZSArPSBtb2RpZmllckNvZGVba2V5XTtcclxuICAgICAgICAgICAgICAgIC8vIGxlZnQvcmlnaHRcclxuICAgICAgICAgICAgICAgIGlmIChrZXlDb2Rlc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnZXhhY3QnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZXJzXzEgPSBoYW5kbGVyLm1vZGlmaWVycztcclxuICAgICAgICAgICAgICAgIGdlbk1vZGlmaWVyQ29kZSArPSBnZW5HdWFyZChbJ2N0cmwnLCAnc2hpZnQnLCAnYWx0JywgJ21ldGEnXVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleU1vZGlmaWVyKSB7IHJldHVybiAhbW9kaWZpZXJzXzFba2V5TW9kaWZpZXJdOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleU1vZGlmaWVyKSB7IHJldHVybiBcIiRldmVudC5cIi5jb25jYXQoa2V5TW9kaWZpZXIsIFwiS2V5XCIpOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCd8fCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gaGFuZGxlci5tb2RpZmllcnMpIHtcclxuICAgICAgICAgICAgX2xvb3BfMShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29kZSArPSBnZW5LZXlGaWx0ZXIoa2V5cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBtb2RpZmllcnMgbGlrZSBwcmV2ZW50IGFuZCBzdG9wIGdldCBleGVjdXRlZCBhZnRlciBrZXkgZmlsdGVyaW5nXHJcbiAgICAgICAgaWYgKGdlbk1vZGlmaWVyQ29kZSkge1xyXG4gICAgICAgICAgICBjb2RlICs9IGdlbk1vZGlmaWVyQ29kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhhbmRsZXJDb2RlID0gaXNNZXRob2RQYXRoXHJcbiAgICAgICAgICAgID8gXCJyZXR1cm4gXCIuY29uY2F0KGhhbmRsZXIudmFsdWUsIFwiLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcIilcclxuICAgICAgICAgICAgOiBpc0Z1bmN0aW9uRXhwcmVzc2lvblxyXG4gICAgICAgICAgICAgICAgPyBcInJldHVybiAoXCIuY29uY2F0KGhhbmRsZXIudmFsdWUsIFwiKS5hcHBseShudWxsLCBhcmd1bWVudHMpXCIpXHJcbiAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb25JbnZvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcInJldHVybiBcIi5jb25jYXQoaGFuZGxlci52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICA6IGhhbmRsZXIudmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb24oJGV2ZW50KXtcIi5jb25jYXQoY29kZSkuY29uY2F0KGhhbmRsZXJDb2RlLCBcIn1cIik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2VuS2V5RmlsdGVyKGtleXMpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAvLyBtYWtlIHN1cmUgdGhlIGtleSBmaWx0ZXJzIG9ubHkgYXBwbHkgdG8gS2V5Ym9hcmRFdmVudHNcclxuICAgIC8vICM5NDQxOiBjYW4ndCB1c2UgJ2tleUNvZGUnIGluICRldmVudCBiZWNhdXNlIENocm9tZSBhdXRvZmlsbCBmaXJlcyBmYWtlXHJcbiAgICAvLyBrZXkgZXZlbnRzIHRoYXQgZG8gbm90IGhhdmUga2V5Q29kZSBwcm9wZXJ0eS4uLlxyXG4gICAgXCJpZighJGV2ZW50LnR5cGUuaW5kZXhPZigna2V5JykmJlwiICtcclxuICAgICAgICBcIlwiLmNvbmNhdChrZXlzLm1hcChnZW5GaWx0ZXJDb2RlKS5qb2luKCcmJicpLCBcIilyZXR1cm4gbnVsbDtcIikpO1xyXG59XHJcbmZ1bmN0aW9uIGdlbkZpbHRlckNvZGUoa2V5KSB7XHJcbiAgICB2YXIga2V5VmFsID0gcGFyc2VJbnQoa2V5LCAxMCk7XHJcbiAgICBpZiAoa2V5VmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiJGV2ZW50LmtleUNvZGUhPT1cIi5jb25jYXQoa2V5VmFsKTtcclxuICAgIH1cclxuICAgIHZhciBrZXlDb2RlID0ga2V5Q29kZXNba2V5XTtcclxuICAgIHZhciBrZXlOYW1lID0ga2V5TmFtZXNba2V5XTtcclxuICAgIHJldHVybiAoXCJfaygkZXZlbnQua2V5Q29kZSxcIiArXHJcbiAgICAgICAgXCJcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoa2V5KSwgXCIsXCIpICtcclxuICAgICAgICBcIlwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShrZXlDb2RlKSwgXCIsXCIpICtcclxuICAgICAgICBcIiRldmVudC5rZXksXCIgK1xyXG4gICAgICAgIFwiXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGtleU5hbWUpKSArXHJcbiAgICAgICAgXCIpXCIpO1xyXG59XG5cbmZ1bmN0aW9uIG9uKGVsLCBkaXIpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGRpci5tb2RpZmllcnMpIHtcclxuICAgICAgICB3YXJuJDIoXCJ2LW9uIHdpdGhvdXQgYXJndW1lbnQgZG9lcyBub3Qgc3VwcG9ydCBtb2RpZmllcnMuXCIpO1xyXG4gICAgfVxyXG4gICAgZWwud3JhcExpc3RlbmVycyA9IGZ1bmN0aW9uIChjb2RlKSB7IHJldHVybiBcIl9nKFwiLmNvbmNhdChjb2RlLCBcIixcIikuY29uY2F0KGRpci52YWx1ZSwgXCIpXCIpOyB9O1xyXG59XG5cbmZ1bmN0aW9uIGJpbmQoZWwsIGRpcikge1xyXG4gICAgZWwud3JhcERhdGEgPSBmdW5jdGlvbiAoY29kZSkge1xyXG4gICAgICAgIHJldHVybiBcIl9iKFwiLmNvbmNhdChjb2RlLCBcIiwnXCIpLmNvbmNhdChlbC50YWcsIFwiJyxcIikuY29uY2F0KGRpci52YWx1ZSwgXCIsXCIpLmNvbmNhdChkaXIubW9kaWZpZXJzICYmIGRpci5tb2RpZmllcnMucHJvcCA/ICd0cnVlJyA6ICdmYWxzZScpLmNvbmNhdChkaXIubW9kaWZpZXJzICYmIGRpci5tb2RpZmllcnMuc3luYyA/ICcsdHJ1ZScgOiAnJywgXCIpXCIpO1xyXG4gICAgfTtcclxufVxuXG52YXIgYmFzZURpcmVjdGl2ZXMgPSB7XHJcbiAgICBvbjogb24sXHJcbiAgICBiaW5kOiBiaW5kLFxyXG4gICAgY2xvYWs6IG5vb3BcclxufTtcblxudmFyIENvZGVnZW5TdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvZGVnZW5TdGF0ZShvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLndhcm4gPSBvcHRpb25zLndhcm4gfHwgYmFzZVdhcm47XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICd0cmFuc2Zvcm1Db2RlJyk7XHJcbiAgICAgICAgdGhpcy5kYXRhR2VuRm5zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdnZW5EYXRhJyk7XHJcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzID0gZXh0ZW5kKGV4dGVuZCh7fSwgYmFzZURpcmVjdGl2ZXMpLCBvcHRpb25zLmRpcmVjdGl2ZXMpO1xyXG4gICAgICAgIHZhciBpc1Jlc2VydmVkVGFnID0gb3B0aW9ucy5pc1Jlc2VydmVkVGFnIHx8IG5vO1xyXG4gICAgICAgIHRoaXMubWF5YmVDb21wb25lbnQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhZWwuY29tcG9uZW50IHx8ICFpc1Jlc2VydmVkVGFnKGVsLnRhZyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uY2VJZCA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGF0aWNSZW5kZXJGbnMgPSBbXTtcclxuICAgICAgICB0aGlzLnByZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIENvZGVnZW5TdGF0ZTtcclxufSgpKTtcclxuZnVuY3Rpb24gZ2VuZXJhdGUoYXN0LCBvcHRpb25zKSB7XHJcbiAgICB2YXIgc3RhdGUgPSBuZXcgQ29kZWdlblN0YXRlKG9wdGlvbnMpO1xyXG4gICAgLy8gZml4ICMxMTQ4MywgUm9vdCBsZXZlbCA8c2NyaXB0PiB0YWdzIHNob3VsZCBub3QgYmUgcmVuZGVyZWQuXHJcbiAgICB2YXIgY29kZSA9IGFzdFxyXG4gICAgICAgID8gYXN0LnRhZyA9PT0gJ3NjcmlwdCdcclxuICAgICAgICAgICAgPyAnbnVsbCdcclxuICAgICAgICAgICAgOiBnZW5FbGVtZW50KGFzdCwgc3RhdGUpXHJcbiAgICAgICAgOiAnX2MoXCJkaXZcIiknO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZW5kZXI6IFwid2l0aCh0aGlzKXtyZXR1cm4gXCIuY29uY2F0KGNvZGUsIFwifVwiKSxcclxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRlLnN0YXRpY1JlbmRlckZuc1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZW5FbGVtZW50KGVsLCBzdGF0ZSkge1xyXG4gICAgaWYgKGVsLnBhcmVudCkge1xyXG4gICAgICAgIGVsLnByZSA9IGVsLnByZSB8fCBlbC5wYXJlbnQucHJlO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsLnN0YXRpY1Jvb3QgJiYgIWVsLnN0YXRpY1Byb2Nlc3NlZCkge1xyXG4gICAgICAgIHJldHVybiBnZW5TdGF0aWMoZWwsIHN0YXRlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGVsLm9uY2UgJiYgIWVsLm9uY2VQcm9jZXNzZWQpIHtcclxuICAgICAgICByZXR1cm4gZ2VuT25jZShlbCwgc3RhdGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZWwuZm9yICYmICFlbC5mb3JQcm9jZXNzZWQpIHtcclxuICAgICAgICByZXR1cm4gZ2VuRm9yKGVsLCBzdGF0ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChlbC5pZiAmJiAhZWwuaWZQcm9jZXNzZWQpIHtcclxuICAgICAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGVsLnRhZyA9PT0gJ3RlbXBsYXRlJyAmJiAhZWwuc2xvdFRhcmdldCAmJiAhc3RhdGUucHJlKSB7XHJcbiAgICAgICAgcmV0dXJuIGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3ZvaWQgMCc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChlbC50YWcgPT09ICdzbG90Jykge1xyXG4gICAgICAgIHJldHVybiBnZW5TbG90KGVsLCBzdGF0ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBjb21wb25lbnQgb3IgZWxlbWVudFxyXG4gICAgICAgIHZhciBjb2RlID0gdm9pZCAwO1xyXG4gICAgICAgIGlmIChlbC5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgY29kZSA9IGdlbkNvbXBvbmVudChlbC5jb21wb25lbnQsIGVsLCBzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgdmFyIG1heWJlQ29tcG9uZW50ID0gc3RhdGUubWF5YmVDb21wb25lbnQoZWwpO1xyXG4gICAgICAgICAgICBpZiAoIWVsLnBsYWluIHx8IChlbC5wcmUgJiYgbWF5YmVDb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2VuRGF0YShlbCwgc3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0YWcgXHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBjb21wb25lbnQgaW4gPHNjcmlwdCBzZXR1cD5cclxuICAgICAgICAgICAgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBjb21wb25lbnQgaW4gPHNjcmlwdCBzZXR1cD5cclxuICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gc3RhdGUub3B0aW9ucy5iaW5kaW5ncztcclxuICAgICAgICAgICAgaWYgKG1heWJlQ29tcG9uZW50ICYmIGJpbmRpbmdzICYmIGJpbmRpbmdzLl9faXNTY3JpcHRTZXR1cCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRhZyA9IGNoZWNrQmluZGluZ1R5cGUoYmluZGluZ3MsIGVsLnRhZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0YWcpXHJcbiAgICAgICAgICAgICAgICB0YWcgPSBcIidcIi5jb25jYXQoZWwudGFnLCBcIidcIik7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGVsLmlubGluZVRlbXBsYXRlID8gbnVsbCA6IGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGNvZGUgPSBcIl9jKFwiLmNvbmNhdCh0YWcpLmNvbmNhdChkYXRhID8gXCIsXCIuY29uY2F0KGRhdGEpIDogJycgLy8gZGF0YVxyXG4gICAgICAgICAgICApLmNvbmNhdChjaGlsZHJlbiA/IFwiLFwiLmNvbmNhdChjaGlsZHJlbikgOiAnJyAvLyBjaGlsZHJlblxyXG4gICAgICAgICAgICAsIFwiKVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbW9kdWxlIHRyYW5zZm9ybXNcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLnRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29kZSA9IHN0YXRlLnRyYW5zZm9ybXNbaV0oZWwsIGNvZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29kZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja0JpbmRpbmdUeXBlKGJpbmRpbmdzLCBrZXkpIHtcclxuICAgIHZhciBjYW1lbE5hbWUgPSBjYW1lbGl6ZShrZXkpO1xyXG4gICAgdmFyIFBhc2NhbE5hbWUgPSBjYXBpdGFsaXplKGNhbWVsTmFtZSk7XHJcbiAgICB2YXIgY2hlY2tUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICBpZiAoYmluZGluZ3Nba2V5XSA9PT0gdHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYmluZGluZ3NbY2FtZWxOYW1lXSA9PT0gdHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FtZWxOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYmluZGluZ3NbUGFzY2FsTmFtZV0gPT09IHR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhc2NhbE5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBmcm9tQ29uc3QgPSBjaGVja1R5cGUoXCJzZXR1cC1jb25zdFwiIC8qIEJpbmRpbmdUeXBlcy5TRVRVUF9DT05TVCAqLykgfHxcclxuICAgICAgICBjaGVja1R5cGUoXCJzZXR1cC1yZWFjdGl2ZS1jb25zdFwiIC8qIEJpbmRpbmdUeXBlcy5TRVRVUF9SRUFDVElWRV9DT05TVCAqLyk7XHJcbiAgICBpZiAoZnJvbUNvbnN0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb21Db25zdDtcclxuICAgIH1cclxuICAgIHZhciBmcm9tTWF5YmVSZWYgPSBjaGVja1R5cGUoXCJzZXR1cC1sZXRcIiAvKiBCaW5kaW5nVHlwZXMuU0VUVVBfTEVUICovKSB8fFxyXG4gICAgICAgIGNoZWNrVHlwZShcInNldHVwLXJlZlwiIC8qIEJpbmRpbmdUeXBlcy5TRVRVUF9SRUYgKi8pIHx8XHJcbiAgICAgICAgY2hlY2tUeXBlKFwic2V0dXAtbWF5YmUtcmVmXCIgLyogQmluZGluZ1R5cGVzLlNFVFVQX01BWUJFX1JFRiAqLyk7XHJcbiAgICBpZiAoZnJvbU1heWJlUmVmKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb21NYXliZVJlZjtcclxuICAgIH1cclxufVxyXG4vLyBob2lzdCBzdGF0aWMgc3ViLXRyZWVzIG91dFxyXG5mdW5jdGlvbiBnZW5TdGF0aWMoZWwsIHN0YXRlKSB7XHJcbiAgICBlbC5zdGF0aWNQcm9jZXNzZWQgPSB0cnVlO1xyXG4gICAgLy8gU29tZSBlbGVtZW50cyAodGVtcGxhdGVzKSBuZWVkIHRvIGJlaGF2ZSBkaWZmZXJlbnRseSBpbnNpZGUgb2YgYSB2LXByZVxyXG4gICAgLy8gbm9kZS4gIEFsbCBwcmUgbm9kZXMgYXJlIHN0YXRpYyByb290cywgc28gd2UgY2FuIHVzZSB0aGlzIGFzIGEgbG9jYXRpb24gdG9cclxuICAgIC8vIHdyYXAgYSBzdGF0ZSBjaGFuZ2UgYW5kIHJlc2V0IGl0IHVwb24gZXhpdGluZyB0aGUgcHJlIG5vZGUuXHJcbiAgICB2YXIgb3JpZ2luYWxQcmVTdGF0ZSA9IHN0YXRlLnByZTtcclxuICAgIGlmIChlbC5wcmUpIHtcclxuICAgICAgICBzdGF0ZS5wcmUgPSBlbC5wcmU7XHJcbiAgICB9XHJcbiAgICBzdGF0ZS5zdGF0aWNSZW5kZXJGbnMucHVzaChcIndpdGgodGhpcyl7cmV0dXJuIFwiLmNvbmNhdChnZW5FbGVtZW50KGVsLCBzdGF0ZSksIFwifVwiKSk7XHJcbiAgICBzdGF0ZS5wcmUgPSBvcmlnaW5hbFByZVN0YXRlO1xyXG4gICAgcmV0dXJuIFwiX20oXCIuY29uY2F0KHN0YXRlLnN0YXRpY1JlbmRlckZucy5sZW5ndGggLSAxKS5jb25jYXQoZWwuc3RhdGljSW5Gb3IgPyAnLHRydWUnIDogJycsIFwiKVwiKTtcclxufVxyXG4vLyB2LW9uY2VcclxuZnVuY3Rpb24gZ2VuT25jZShlbCwgc3RhdGUpIHtcclxuICAgIGVsLm9uY2VQcm9jZXNzZWQgPSB0cnVlO1xyXG4gICAgaWYgKGVsLmlmICYmICFlbC5pZlByb2Nlc3NlZCkge1xyXG4gICAgICAgIHJldHVybiBnZW5JZihlbCwgc3RhdGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZWwuc3RhdGljSW5Gb3IpIHtcclxuICAgICAgICB2YXIga2V5ID0gJyc7XHJcbiAgICAgICAgdmFyIHBhcmVudF8xID0gZWwucGFyZW50O1xyXG4gICAgICAgIHdoaWxlIChwYXJlbnRfMSkge1xyXG4gICAgICAgICAgICBpZiAocGFyZW50XzEuZm9yKSB7XHJcbiAgICAgICAgICAgICAgICBrZXkgPSBwYXJlbnRfMS5rZXk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnRfMSA9IHBhcmVudF8xLnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFrZXkpIHtcclxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgc3RhdGUud2FybihcInYtb25jZSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSB2LWZvciB0aGF0IGlzIGtleWVkLiBcIiwgZWwucmF3QXR0cnNNYXBbJ3Ytb25jZSddKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdlbkVsZW1lbnQoZWwsIHN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiX28oXCIuY29uY2F0KGdlbkVsZW1lbnQoZWwsIHN0YXRlKSwgXCIsXCIpLmNvbmNhdChzdGF0ZS5vbmNlSWQrKywgXCIsXCIpLmNvbmNhdChrZXksIFwiKVwiKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBnZW5TdGF0aWMoZWwsIHN0YXRlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZW5JZihlbCwgc3RhdGUsIGFsdEdlbiwgYWx0RW1wdHkpIHtcclxuICAgIGVsLmlmUHJvY2Vzc2VkID0gdHJ1ZTsgLy8gYXZvaWQgcmVjdXJzaW9uXHJcbiAgICByZXR1cm4gZ2VuSWZDb25kaXRpb25zKGVsLmlmQ29uZGl0aW9ucy5zbGljZSgpLCBzdGF0ZSwgYWx0R2VuLCBhbHRFbXB0eSk7XHJcbn1cclxuZnVuY3Rpb24gZ2VuSWZDb25kaXRpb25zKGNvbmRpdGlvbnMsIHN0YXRlLCBhbHRHZW4sIGFsdEVtcHR5KSB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIGFsdEVtcHR5IHx8ICdfZSgpJztcclxuICAgIH1cclxuICAgIHZhciBjb25kaXRpb24gPSBjb25kaXRpb25zLnNoaWZ0KCk7XHJcbiAgICBpZiAoY29uZGl0aW9uLmV4cCkge1xyXG4gICAgICAgIHJldHVybiBcIihcIi5jb25jYXQoY29uZGl0aW9uLmV4cCwgXCIpP1wiKS5jb25jYXQoZ2VuVGVybmFyeUV4cChjb25kaXRpb24uYmxvY2spLCBcIjpcIikuY29uY2F0KGdlbklmQ29uZGl0aW9ucyhjb25kaXRpb25zLCBzdGF0ZSwgYWx0R2VuLCBhbHRFbXB0eSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGdlblRlcm5hcnlFeHAoY29uZGl0aW9uLmJsb2NrKSk7XHJcbiAgICB9XHJcbiAgICAvLyB2LWlmIHdpdGggdi1vbmNlIHNob3VsZCBnZW5lcmF0ZSBjb2RlIGxpa2UgKGEpP19tKDApOl9tKDEpXHJcbiAgICBmdW5jdGlvbiBnZW5UZXJuYXJ5RXhwKGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIGFsdEdlblxyXG4gICAgICAgICAgICA/IGFsdEdlbihlbCwgc3RhdGUpXHJcbiAgICAgICAgICAgIDogZWwub25jZVxyXG4gICAgICAgICAgICAgICAgPyBnZW5PbmNlKGVsLCBzdGF0ZSlcclxuICAgICAgICAgICAgICAgIDogZ2VuRWxlbWVudChlbCwgc3RhdGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdlbkZvcihlbCwgc3RhdGUsIGFsdEdlbiwgYWx0SGVscGVyKSB7XHJcbiAgICB2YXIgZXhwID0gZWwuZm9yO1xyXG4gICAgdmFyIGFsaWFzID0gZWwuYWxpYXM7XHJcbiAgICB2YXIgaXRlcmF0b3IxID0gZWwuaXRlcmF0b3IxID8gXCIsXCIuY29uY2F0KGVsLml0ZXJhdG9yMSkgOiAnJztcclxuICAgIHZhciBpdGVyYXRvcjIgPSBlbC5pdGVyYXRvcjIgPyBcIixcIi5jb25jYXQoZWwuaXRlcmF0b3IyKSA6ICcnO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICBzdGF0ZS5tYXliZUNvbXBvbmVudChlbCkgJiZcclxuICAgICAgICBlbC50YWcgIT09ICdzbG90JyAmJlxyXG4gICAgICAgIGVsLnRhZyAhPT0gJ3RlbXBsYXRlJyAmJlxyXG4gICAgICAgICFlbC5rZXkpIHtcclxuICAgICAgICBzdGF0ZS53YXJuKFwiPFwiLmNvbmNhdChlbC50YWcsIFwiIHYtZm9yPVxcXCJcIikuY29uY2F0KGFsaWFzLCBcIiBpbiBcIikuY29uY2F0KGV4cCwgXCJcXFwiPjogY29tcG9uZW50IGxpc3RzIHJlbmRlcmVkIHdpdGggXCIpICtcclxuICAgICAgICAgICAgXCJ2LWZvciBzaG91bGQgaGF2ZSBleHBsaWNpdCBrZXlzLiBcIiArXHJcbiAgICAgICAgICAgIFwiU2VlIGh0dHBzOi8vdnVlanMub3JnL2d1aWRlL2xpc3QuaHRtbCNrZXkgZm9yIG1vcmUgaW5mby5cIiwgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ10sIHRydWUgLyogdGlwICovKTtcclxuICAgIH1cclxuICAgIGVsLmZvclByb2Nlc3NlZCA9IHRydWU7IC8vIGF2b2lkIHJlY3Vyc2lvblxyXG4gICAgcmV0dXJuIChcIlwiLmNvbmNhdChhbHRIZWxwZXIgfHwgJ19sJywgXCIoKFwiKS5jb25jYXQoZXhwLCBcIiksXCIpICtcclxuICAgICAgICBcImZ1bmN0aW9uKFwiLmNvbmNhdChhbGlhcykuY29uY2F0KGl0ZXJhdG9yMSkuY29uY2F0KGl0ZXJhdG9yMiwgXCIpe1wiKSArXHJcbiAgICAgICAgXCJyZXR1cm4gXCIuY29uY2F0KChhbHRHZW4gfHwgZ2VuRWxlbWVudCkoZWwsIHN0YXRlKSkgK1xyXG4gICAgICAgICd9KScpO1xyXG59XHJcbmZ1bmN0aW9uIGdlbkRhdGEoZWwsIHN0YXRlKSB7XHJcbiAgICB2YXIgZGF0YSA9ICd7JztcclxuICAgIC8vIGRpcmVjdGl2ZXMgZmlyc3QuXHJcbiAgICAvLyBkaXJlY3RpdmVzIG1heSBtdXRhdGUgdGhlIGVsJ3Mgb3RoZXIgcHJvcGVydGllcyBiZWZvcmUgdGhleSBhcmUgZ2VuZXJhdGVkLlxyXG4gICAgdmFyIGRpcnMgPSBnZW5EaXJlY3RpdmVzKGVsLCBzdGF0ZSk7XHJcbiAgICBpZiAoZGlycylcclxuICAgICAgICBkYXRhICs9IGRpcnMgKyAnLCc7XHJcbiAgICAvLyBrZXlcclxuICAgIGlmIChlbC5rZXkpIHtcclxuICAgICAgICBkYXRhICs9IFwia2V5OlwiLmNvbmNhdChlbC5rZXksIFwiLFwiKTtcclxuICAgIH1cclxuICAgIC8vIHJlZlxyXG4gICAgaWYgKGVsLnJlZikge1xyXG4gICAgICAgIGRhdGEgKz0gXCJyZWY6XCIuY29uY2F0KGVsLnJlZiwgXCIsXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsLnJlZkluRm9yKSB7XHJcbiAgICAgICAgZGF0YSArPSBcInJlZkluRm9yOnRydWUsXCI7XHJcbiAgICB9XHJcbiAgICAvLyBwcmVcclxuICAgIGlmIChlbC5wcmUpIHtcclxuICAgICAgICBkYXRhICs9IFwicHJlOnRydWUsXCI7XHJcbiAgICB9XHJcbiAgICAvLyByZWNvcmQgb3JpZ2luYWwgdGFnIG5hbWUgZm9yIGNvbXBvbmVudHMgdXNpbmcgXCJpc1wiIGF0dHJpYnV0ZVxyXG4gICAgaWYgKGVsLmNvbXBvbmVudCkge1xyXG4gICAgICAgIGRhdGEgKz0gXCJ0YWc6XFxcIlwiLmNvbmNhdChlbC50YWcsIFwiXFxcIixcIik7XHJcbiAgICB9XHJcbiAgICAvLyBtb2R1bGUgZGF0YSBnZW5lcmF0aW9uIGZ1bmN0aW9uc1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5kYXRhR2VuRm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGF0YSArPSBzdGF0ZS5kYXRhR2VuRm5zW2ldKGVsKTtcclxuICAgIH1cclxuICAgIC8vIGF0dHJpYnV0ZXNcclxuICAgIGlmIChlbC5hdHRycykge1xyXG4gICAgICAgIGRhdGEgKz0gXCJhdHRyczpcIi5jb25jYXQoZ2VuUHJvcHMoZWwuYXR0cnMpLCBcIixcIik7XHJcbiAgICB9XHJcbiAgICAvLyBET00gcHJvcHNcclxuICAgIGlmIChlbC5wcm9wcykge1xyXG4gICAgICAgIGRhdGEgKz0gXCJkb21Qcm9wczpcIi5jb25jYXQoZ2VuUHJvcHMoZWwucHJvcHMpLCBcIixcIik7XHJcbiAgICB9XHJcbiAgICAvLyBldmVudCBoYW5kbGVyc1xyXG4gICAgaWYgKGVsLmV2ZW50cykge1xyXG4gICAgICAgIGRhdGEgKz0gXCJcIi5jb25jYXQoZ2VuSGFuZGxlcnMoZWwuZXZlbnRzLCBmYWxzZSksIFwiLFwiKTtcclxuICAgIH1cclxuICAgIGlmIChlbC5uYXRpdmVFdmVudHMpIHtcclxuICAgICAgICBkYXRhICs9IFwiXCIuY29uY2F0KGdlbkhhbmRsZXJzKGVsLm5hdGl2ZUV2ZW50cywgdHJ1ZSksIFwiLFwiKTtcclxuICAgIH1cclxuICAgIC8vIHNsb3QgdGFyZ2V0XHJcbiAgICAvLyBvbmx5IGZvciBub24tc2NvcGVkIHNsb3RzXHJcbiAgICBpZiAoZWwuc2xvdFRhcmdldCAmJiAhZWwuc2xvdFNjb3BlKSB7XHJcbiAgICAgICAgZGF0YSArPSBcInNsb3Q6XCIuY29uY2F0KGVsLnNsb3RUYXJnZXQsIFwiLFwiKTtcclxuICAgIH1cclxuICAgIC8vIHNjb3BlZCBzbG90c1xyXG4gICAgaWYgKGVsLnNjb3BlZFNsb3RzKSB7XHJcbiAgICAgICAgZGF0YSArPSBcIlwiLmNvbmNhdChnZW5TY29wZWRTbG90cyhlbCwgZWwuc2NvcGVkU2xvdHMsIHN0YXRlKSwgXCIsXCIpO1xyXG4gICAgfVxyXG4gICAgLy8gY29tcG9uZW50IHYtbW9kZWxcclxuICAgIGlmIChlbC5tb2RlbCkge1xyXG4gICAgICAgIGRhdGEgKz0gXCJtb2RlbDp7dmFsdWU6XCIuY29uY2F0KGVsLm1vZGVsLnZhbHVlLCBcIixjYWxsYmFjazpcIikuY29uY2F0KGVsLm1vZGVsLmNhbGxiYWNrLCBcIixleHByZXNzaW9uOlwiKS5jb25jYXQoZWwubW9kZWwuZXhwcmVzc2lvbiwgXCJ9LFwiKTtcclxuICAgIH1cclxuICAgIC8vIGlubGluZS10ZW1wbGF0ZVxyXG4gICAgaWYgKGVsLmlubGluZVRlbXBsYXRlKSB7XHJcbiAgICAgICAgdmFyIGlubGluZVRlbXBsYXRlID0gZ2VuSW5saW5lVGVtcGxhdGUoZWwsIHN0YXRlKTtcclxuICAgICAgICBpZiAoaW5saW5lVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgZGF0YSArPSBcIlwiLmNvbmNhdChpbmxpbmVUZW1wbGF0ZSwgXCIsXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLywkLywgJycpICsgJ30nO1xyXG4gICAgLy8gdi1iaW5kIGR5bmFtaWMgYXJndW1lbnQgd3JhcFxyXG4gICAgLy8gdi1iaW5kIHdpdGggZHluYW1pYyBhcmd1bWVudHMgbXVzdCBiZSBhcHBsaWVkIHVzaW5nIHRoZSBzYW1lIHYtYmluZCBvYmplY3RcclxuICAgIC8vIG1lcmdlIGhlbHBlciBzbyB0aGF0IGNsYXNzL3N0eWxlL211c3RVc2VQcm9wIGF0dHJzIGFyZSBoYW5kbGVkIGNvcnJlY3RseS5cclxuICAgIGlmIChlbC5keW5hbWljQXR0cnMpIHtcclxuICAgICAgICBkYXRhID0gXCJfYihcIi5jb25jYXQoZGF0YSwgXCIsXFxcIlwiKS5jb25jYXQoZWwudGFnLCBcIlxcXCIsXCIpLmNvbmNhdChnZW5Qcm9wcyhlbC5keW5hbWljQXR0cnMpLCBcIilcIik7XHJcbiAgICB9XHJcbiAgICAvLyB2LWJpbmQgZGF0YSB3cmFwXHJcbiAgICBpZiAoZWwud3JhcERhdGEpIHtcclxuICAgICAgICBkYXRhID0gZWwud3JhcERhdGEoZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvLyB2LW9uIGRhdGEgd3JhcFxyXG4gICAgaWYgKGVsLndyYXBMaXN0ZW5lcnMpIHtcclxuICAgICAgICBkYXRhID0gZWwud3JhcExpc3RlbmVycyhkYXRhKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcbmZ1bmN0aW9uIGdlbkRpcmVjdGl2ZXMoZWwsIHN0YXRlKSB7XHJcbiAgICB2YXIgZGlycyA9IGVsLmRpcmVjdGl2ZXM7XHJcbiAgICBpZiAoIWRpcnMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdmFyIHJlcyA9ICdkaXJlY3RpdmVzOlsnO1xyXG4gICAgdmFyIGhhc1J1bnRpbWUgPSBmYWxzZTtcclxuICAgIHZhciBpLCBsLCBkaXIsIG5lZWRSdW50aW1lO1xyXG4gICAgZm9yIChpID0gMCwgbCA9IGRpcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgZGlyID0gZGlyc1tpXTtcclxuICAgICAgICBuZWVkUnVudGltZSA9IHRydWU7XHJcbiAgICAgICAgdmFyIGdlbiA9IHN0YXRlLmRpcmVjdGl2ZXNbZGlyLm5hbWVdO1xyXG4gICAgICAgIGlmIChnZW4pIHtcclxuICAgICAgICAgICAgLy8gY29tcGlsZS10aW1lIGRpcmVjdGl2ZSB0aGF0IG1hbmlwdWxhdGVzIEFTVC5cclxuICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlIGlmIGl0IGFsc28gbmVlZHMgYSBydW50aW1lIGNvdW50ZXJwYXJ0LlxyXG4gICAgICAgICAgICBuZWVkUnVudGltZSA9ICEhZ2VuKGVsLCBkaXIsIHN0YXRlLndhcm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmVlZFJ1bnRpbWUpIHtcclxuICAgICAgICAgICAgaGFzUnVudGltZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJlcyArPSBcIntuYW1lOlxcXCJcIi5jb25jYXQoZGlyLm5hbWUsIFwiXFxcIixyYXdOYW1lOlxcXCJcIikuY29uY2F0KGRpci5yYXdOYW1lLCBcIlxcXCJcIikuY29uY2F0KGRpci52YWx1ZVxyXG4gICAgICAgICAgICAgICAgPyBcIix2YWx1ZTooXCIuY29uY2F0KGRpci52YWx1ZSwgXCIpLGV4cHJlc3Npb246XCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShkaXIudmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgOiAnJykuY29uY2F0KGRpci5hcmcgPyBcIixhcmc6XCIuY29uY2F0KGRpci5pc0R5bmFtaWNBcmcgPyBkaXIuYXJnIDogXCJcXFwiXCIuY29uY2F0KGRpci5hcmcsIFwiXFxcIlwiKSkgOiAnJykuY29uY2F0KGRpci5tb2RpZmllcnMgPyBcIixtb2RpZmllcnM6XCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGRpci5tb2RpZmllcnMpKSA6ICcnLCBcIn0sXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChoYXNSdW50aW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zbGljZSgwLCAtMSkgKyAnXSc7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2VuSW5saW5lVGVtcGxhdGUoZWwsIHN0YXRlKSB7XHJcbiAgICB2YXIgYXN0ID0gZWwuY2hpbGRyZW5bMF07XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAoZWwuY2hpbGRyZW4ubGVuZ3RoICE9PSAxIHx8IGFzdC50eXBlICE9PSAxKSkge1xyXG4gICAgICAgIHN0YXRlLndhcm4oJ0lubGluZS10ZW1wbGF0ZSBjb21wb25lbnRzIG11c3QgaGF2ZSBleGFjdGx5IG9uZSBjaGlsZCBlbGVtZW50LicsIHsgc3RhcnQ6IGVsLnN0YXJ0IH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGFzdCAmJiBhc3QudHlwZSA9PT0gMSkge1xyXG4gICAgICAgIHZhciBpbmxpbmVSZW5kZXJGbnMgPSBnZW5lcmF0ZShhc3QsIHN0YXRlLm9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBcImlubGluZVRlbXBsYXRlOntyZW5kZXI6ZnVuY3Rpb24oKXtcIi5jb25jYXQoaW5saW5lUmVuZGVyRm5zLnJlbmRlciwgXCJ9LHN0YXRpY1JlbmRlckZuczpbXCIpLmNvbmNhdChpbmxpbmVSZW5kZXJGbnMuc3RhdGljUmVuZGVyRm5zXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGNvZGUpIHsgcmV0dXJuIFwiZnVuY3Rpb24oKXtcIi5jb25jYXQoY29kZSwgXCJ9XCIpOyB9KVxyXG4gICAgICAgICAgICAuam9pbignLCcpLCBcIl19XCIpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdlblNjb3BlZFNsb3RzKGVsLCBzbG90cywgc3RhdGUpIHtcclxuICAgIC8vIGJ5IGRlZmF1bHQgc2NvcGVkIHNsb3RzIGFyZSBjb25zaWRlcmVkIFwic3RhYmxlXCIsIHRoaXMgYWxsb3dzIGNoaWxkXHJcbiAgICAvLyBjb21wb25lbnRzIHdpdGggb25seSBzY29wZWQgc2xvdHMgdG8gc2tpcCBmb3JjZWQgdXBkYXRlcyBmcm9tIHBhcmVudC5cclxuICAgIC8vIGJ1dCBpbiBzb21lIGNhc2VzIHdlIGhhdmUgdG8gYmFpbC1vdXQgb2YgdGhpcyBvcHRpbWl6YXRpb25cclxuICAgIC8vIGZvciBleGFtcGxlIGlmIHRoZSBzbG90IGNvbnRhaW5zIGR5bmFtaWMgbmFtZXMsIGhhcyB2LWlmIG9yIHYtZm9yIG9uIHRoZW0uLi5cclxuICAgIHZhciBuZWVkc0ZvcmNlVXBkYXRlID0gZWwuZm9yIHx8XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc2xvdHMpLnNvbWUoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgc2xvdCA9IHNsb3RzW2tleV07XHJcbiAgICAgICAgICAgIHJldHVybiAoc2xvdC5zbG90VGFyZ2V0RHluYW1pYyB8fCBzbG90LmlmIHx8IHNsb3QuZm9yIHx8IGNvbnRhaW5zU2xvdENoaWxkKHNsb3QpIC8vIGlzIHBhc3NpbmcgZG93biBzbG90IGZyb20gcGFyZW50IHdoaWNoIG1heSBiZSBkeW5hbWljXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAvLyAjOTUzNDogaWYgYSBjb21wb25lbnQgd2l0aCBzY29wZWQgc2xvdHMgaXMgaW5zaWRlIGEgY29uZGl0aW9uYWwgYnJhbmNoLFxyXG4gICAgLy8gaXQncyBwb3NzaWJsZSBmb3IgdGhlIHNhbWUgY29tcG9uZW50IHRvIGJlIHJldXNlZCBidXQgd2l0aCBkaWZmZXJlbnRcclxuICAgIC8vIGNvbXBpbGVkIHNsb3QgY29udGVudC4gVG8gYXZvaWQgdGhhdCwgd2UgZ2VuZXJhdGUgYSB1bmlxdWUga2V5IGJhc2VkIG9uXHJcbiAgICAvLyB0aGUgZ2VuZXJhdGVkIGNvZGUgb2YgYWxsIHRoZSBzbG90IGNvbnRlbnRzLlxyXG4gICAgdmFyIG5lZWRzS2V5ID0gISFlbC5pZjtcclxuICAgIC8vIE9SIHdoZW4gaXQgaXMgaW5zaWRlIGFub3RoZXIgc2NvcGVkIHNsb3Qgb3Igdi1mb3IgKHRoZSByZWFjdGl2aXR5IG1heSBiZVxyXG4gICAgLy8gZGlzY29ubmVjdGVkIGR1ZSB0byB0aGUgaW50ZXJtZWRpYXRlIHNjb3BlIHZhcmlhYmxlKVxyXG4gICAgLy8gIzk0MzgsICM5NTA2XHJcbiAgICAvLyBUT0RPOiB0aGlzIGNhbiBiZSBmdXJ0aGVyIG9wdGltaXplZCBieSBwcm9wZXJseSBhbmFseXppbmcgaW4tc2NvcGUgYmluZGluZ3NcclxuICAgIC8vIGFuZCBza2lwIGZvcmNlIHVwZGF0aW5nIG9uZXMgdGhhdCBkbyBub3QgYWN0dWFsbHkgdXNlIHNjb3BlIHZhcmlhYmxlcy5cclxuICAgIGlmICghbmVlZHNGb3JjZVVwZGF0ZSkge1xyXG4gICAgICAgIHZhciBwYXJlbnRfMiA9IGVsLnBhcmVudDtcclxuICAgICAgICB3aGlsZSAocGFyZW50XzIpIHtcclxuICAgICAgICAgICAgaWYgKChwYXJlbnRfMi5zbG90U2NvcGUgJiYgcGFyZW50XzIuc2xvdFNjb3BlICE9PSBlbXB0eVNsb3RTY29wZVRva2VuKSB8fFxyXG4gICAgICAgICAgICAgICAgcGFyZW50XzIuZm9yKSB7XHJcbiAgICAgICAgICAgICAgICBuZWVkc0ZvcmNlVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRfMi5pZikge1xyXG4gICAgICAgICAgICAgICAgbmVlZHNLZXkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcmVudF8yID0gcGFyZW50XzIucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBnZW5lcmF0ZWRTbG90cyA9IE9iamVjdC5rZXlzKHNsb3RzKVxyXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZ2VuU2NvcGVkU2xvdChzbG90c1trZXldLCBzdGF0ZSk7IH0pXHJcbiAgICAgICAgLmpvaW4oJywnKTtcclxuICAgIHJldHVybiBcInNjb3BlZFNsb3RzOl91KFtcIi5jb25jYXQoZ2VuZXJhdGVkU2xvdHMsIFwiXVwiKS5jb25jYXQobmVlZHNGb3JjZVVwZGF0ZSA/IFwiLG51bGwsdHJ1ZVwiIDogXCJcIikuY29uY2F0KCFuZWVkc0ZvcmNlVXBkYXRlICYmIG5lZWRzS2V5ID8gXCIsbnVsbCxmYWxzZSxcIi5jb25jYXQoaGFzaChnZW5lcmF0ZWRTbG90cykpIDogXCJcIiwgXCIpXCIpO1xyXG59XHJcbmZ1bmN0aW9uIGhhc2goc3RyKSB7XHJcbiAgICB2YXIgaGFzaCA9IDUzODE7XHJcbiAgICB2YXIgaSA9IHN0ci5sZW5ndGg7XHJcbiAgICB3aGlsZSAoaSkge1xyXG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDMzKSBeIHN0ci5jaGFyQ29kZUF0KC0taSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaGFzaCA+Pj4gMDtcclxufVxyXG5mdW5jdGlvbiBjb250YWluc1Nsb3RDaGlsZChlbCkge1xyXG4gICAgaWYgKGVsLnR5cGUgPT09IDEpIHtcclxuICAgICAgICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbC5jaGlsZHJlbi5zb21lKGNvbnRhaW5zU2xvdENoaWxkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBnZW5TY29wZWRTbG90KGVsLCBzdGF0ZSkge1xyXG4gICAgdmFyIGlzTGVnYWN5U3ludGF4ID0gZWwuYXR0cnNNYXBbJ3Nsb3Qtc2NvcGUnXTtcclxuICAgIGlmIChlbC5pZiAmJiAhZWwuaWZQcm9jZXNzZWQgJiYgIWlzTGVnYWN5U3ludGF4KSB7XHJcbiAgICAgICAgcmV0dXJuIGdlbklmKGVsLCBzdGF0ZSwgZ2VuU2NvcGVkU2xvdCwgXCJudWxsXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsLmZvciAmJiAhZWwuZm9yUHJvY2Vzc2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIGdlbkZvcihlbCwgc3RhdGUsIGdlblNjb3BlZFNsb3QpO1xyXG4gICAgfVxyXG4gICAgdmFyIHNsb3RTY29wZSA9IGVsLnNsb3RTY29wZSA9PT0gZW1wdHlTbG90U2NvcGVUb2tlbiA/IFwiXCIgOiBTdHJpbmcoZWwuc2xvdFNjb3BlKTtcclxuICAgIHZhciBmbiA9IFwiZnVuY3Rpb24oXCIuY29uY2F0KHNsb3RTY29wZSwgXCIpe1wiKSArXHJcbiAgICAgICAgXCJyZXR1cm4gXCIuY29uY2F0KGVsLnRhZyA9PT0gJ3RlbXBsYXRlJ1xyXG4gICAgICAgICAgICA/IGVsLmlmICYmIGlzTGVnYWN5U3ludGF4XHJcbiAgICAgICAgICAgICAgICA/IFwiKFwiLmNvbmNhdChlbC5pZiwgXCIpP1wiKS5jb25jYXQoZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlKSB8fCAndW5kZWZpbmVkJywgXCI6dW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgICAgICA6IGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgOiBnZW5FbGVtZW50KGVsLCBzdGF0ZSksIFwifVwiKTtcclxuICAgIC8vIHJldmVyc2UgcHJveHkgdi1zbG90IHdpdGhvdXQgc2NvcGUgb24gdGhpcy4kc2xvdHNcclxuICAgIHZhciByZXZlcnNlUHJveHkgPSBzbG90U2NvcGUgPyBcIlwiIDogXCIscHJveHk6dHJ1ZVwiO1xyXG4gICAgcmV0dXJuIFwie2tleTpcIi5jb25jYXQoZWwuc2xvdFRhcmdldCB8fCBcIlxcXCJkZWZhdWx0XFxcIlwiLCBcIixmbjpcIikuY29uY2F0KGZuKS5jb25jYXQocmV2ZXJzZVByb3h5LCBcIn1cIik7XHJcbn1cclxuZnVuY3Rpb24gZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlLCBjaGVja1NraXAsIGFsdEdlbkVsZW1lbnQsIGFsdEdlbk5vZGUpIHtcclxuICAgIHZhciBjaGlsZHJlbiA9IGVsLmNoaWxkcmVuO1xyXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBlbF8xID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgLy8gb3B0aW1pemUgc2luZ2xlIHYtZm9yXHJcbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxyXG4gICAgICAgICAgICBlbF8xLmZvciAmJlxyXG4gICAgICAgICAgICBlbF8xLnRhZyAhPT0gJ3RlbXBsYXRlJyAmJlxyXG4gICAgICAgICAgICBlbF8xLnRhZyAhPT0gJ3Nsb3QnKSB7XHJcbiAgICAgICAgICAgIHZhciBub3JtYWxpemF0aW9uVHlwZV8xID0gY2hlY2tTa2lwXHJcbiAgICAgICAgICAgICAgICA/IHN0YXRlLm1heWJlQ29tcG9uZW50KGVsXzEpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcIiwxXCJcclxuICAgICAgICAgICAgICAgICAgICA6IFwiLDBcIlxyXG4gICAgICAgICAgICAgICAgOiBcIlwiO1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoKGFsdEdlbkVsZW1lbnQgfHwgZ2VuRWxlbWVudCkoZWxfMSwgc3RhdGUpKS5jb25jYXQobm9ybWFsaXphdGlvblR5cGVfMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBub3JtYWxpemF0aW9uVHlwZSA9IGNoZWNrU2tpcFxyXG4gICAgICAgICAgICA/IGdldE5vcm1hbGl6YXRpb25UeXBlKGNoaWxkcmVuLCBzdGF0ZS5tYXliZUNvbXBvbmVudClcclxuICAgICAgICAgICAgOiAwO1xyXG4gICAgICAgIHZhciBnZW5fMSA9IGFsdEdlbk5vZGUgfHwgZ2VuTm9kZTtcclxuICAgICAgICByZXR1cm4gXCJbXCIuY29uY2F0KGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gZ2VuXzEoYywgc3RhdGUpOyB9KS5qb2luKCcsJyksIFwiXVwiKS5jb25jYXQobm9ybWFsaXphdGlvblR5cGUgPyBcIixcIi5jb25jYXQobm9ybWFsaXphdGlvblR5cGUpIDogJycpO1xyXG4gICAgfVxyXG59XHJcbi8vIGRldGVybWluZSB0aGUgbm9ybWFsaXphdGlvbiBuZWVkZWQgZm9yIHRoZSBjaGlsZHJlbiBhcnJheS5cclxuLy8gMDogbm8gbm9ybWFsaXphdGlvbiBuZWVkZWRcclxuLy8gMTogc2ltcGxlIG5vcm1hbGl6YXRpb24gbmVlZGVkIChwb3NzaWJsZSAxLWxldmVsIGRlZXAgbmVzdGVkIGFycmF5KVxyXG4vLyAyOiBmdWxsIG5vcm1hbGl6YXRpb24gbmVlZGVkXHJcbmZ1bmN0aW9uIGdldE5vcm1hbGl6YXRpb25UeXBlKGNoaWxkcmVuLCBtYXliZUNvbXBvbmVudCkge1xyXG4gICAgdmFyIHJlcyA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGVsID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKGVsLnR5cGUgIT09IDEpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZWVkc05vcm1hbGl6YXRpb24oZWwpIHx8XHJcbiAgICAgICAgICAgIChlbC5pZkNvbmRpdGlvbnMgJiZcclxuICAgICAgICAgICAgICAgIGVsLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uIChjKSB7IHJldHVybiBuZWVkc05vcm1hbGl6YXRpb24oYy5ibG9jayk7IH0pKSkge1xyXG4gICAgICAgICAgICByZXMgPSAyO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1heWJlQ29tcG9uZW50KGVsKSB8fFxyXG4gICAgICAgICAgICAoZWwuaWZDb25kaXRpb25zICYmIGVsLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uIChjKSB7IHJldHVybiBtYXliZUNvbXBvbmVudChjLmJsb2NrKTsgfSkpKSB7XHJcbiAgICAgICAgICAgIHJlcyA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiBuZWVkc05vcm1hbGl6YXRpb24oZWwpIHtcclxuICAgIHJldHVybiBlbC5mb3IgIT09IHVuZGVmaW5lZCB8fCBlbC50YWcgPT09ICd0ZW1wbGF0ZScgfHwgZWwudGFnID09PSAnc2xvdCc7XHJcbn1cclxuZnVuY3Rpb24gZ2VuTm9kZShub2RlLCBzdGF0ZSkge1xyXG4gICAgaWYgKG5vZGUudHlwZSA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBnZW5FbGVtZW50KG5vZGUsIHN0YXRlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gMyAmJiBub2RlLmlzQ29tbWVudCkge1xyXG4gICAgICAgIHJldHVybiBnZW5Db21tZW50KG5vZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGdlblRleHQobm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2VuVGV4dCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gXCJfdihcIi5jb25jYXQodGV4dC50eXBlID09PSAyXHJcbiAgICAgICAgPyB0ZXh0LmV4cHJlc3Npb24gLy8gbm8gbmVlZCBmb3IgKCkgYmVjYXVzZSBhbHJlYWR5IHdyYXBwZWQgaW4gX3MoKVxyXG4gICAgICAgIDogdHJhbnNmb3JtU3BlY2lhbE5ld2xpbmVzKEpTT04uc3RyaW5naWZ5KHRleHQudGV4dCkpLCBcIilcIik7XHJcbn1cclxuZnVuY3Rpb24gZ2VuQ29tbWVudChjb21tZW50KSB7XHJcbiAgICByZXR1cm4gXCJfZShcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoY29tbWVudC50ZXh0KSwgXCIpXCIpO1xyXG59XHJcbmZ1bmN0aW9uIGdlblNsb3QoZWwsIHN0YXRlKSB7XHJcbiAgICB2YXIgc2xvdE5hbWUgPSBlbC5zbG90TmFtZSB8fCAnXCJkZWZhdWx0XCInO1xyXG4gICAgdmFyIGNoaWxkcmVuID0gZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlKTtcclxuICAgIHZhciByZXMgPSBcIl90KFwiLmNvbmNhdChzbG90TmFtZSkuY29uY2F0KGNoaWxkcmVuID8gXCIsZnVuY3Rpb24oKXtyZXR1cm4gXCIuY29uY2F0KGNoaWxkcmVuLCBcIn1cIikgOiAnJyk7XHJcbiAgICB2YXIgYXR0cnMgPSBlbC5hdHRycyB8fCBlbC5keW5hbWljQXR0cnNcclxuICAgICAgICA/IGdlblByb3BzKChlbC5hdHRycyB8fCBbXSkuY29uY2F0KGVsLmR5bmFtaWNBdHRycyB8fCBbXSkubWFwKGZ1bmN0aW9uIChhdHRyKSB7IHJldHVybiAoe1xyXG4gICAgICAgICAgICAvLyBzbG90IHByb3BzIGFyZSBjYW1lbGl6ZWRcclxuICAgICAgICAgICAgbmFtZTogY2FtZWxpemUoYXR0ci5uYW1lKSxcclxuICAgICAgICAgICAgdmFsdWU6IGF0dHIudmFsdWUsXHJcbiAgICAgICAgICAgIGR5bmFtaWM6IGF0dHIuZHluYW1pY1xyXG4gICAgICAgIH0pOyB9KSlcclxuICAgICAgICA6IG51bGw7XHJcbiAgICB2YXIgYmluZCA9IGVsLmF0dHJzTWFwWyd2LWJpbmQnXTtcclxuICAgIGlmICgoYXR0cnMgfHwgYmluZCkgJiYgIWNoaWxkcmVuKSB7XHJcbiAgICAgICAgcmVzICs9IFwiLG51bGxcIjtcclxuICAgIH1cclxuICAgIGlmIChhdHRycykge1xyXG4gICAgICAgIHJlcyArPSBcIixcIi5jb25jYXQoYXR0cnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJpbmQpIHtcclxuICAgICAgICByZXMgKz0gXCJcIi5jb25jYXQoYXR0cnMgPyAnJyA6ICcsbnVsbCcsIFwiLFwiKS5jb25jYXQoYmluZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzICsgJyknO1xyXG59XHJcbi8vIGNvbXBvbmVudE5hbWUgaXMgZWwuY29tcG9uZW50LCB0YWtlIGl0IGFzIGFyZ3VtZW50IHRvIHNodW4gZmxvdydzIHBlc3NpbWlzdGljIHJlZmluZW1lbnRcclxuZnVuY3Rpb24gZ2VuQ29tcG9uZW50KGNvbXBvbmVudE5hbWUsIGVsLCBzdGF0ZSkge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gZWwuaW5saW5lVGVtcGxhdGUgPyBudWxsIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlLCB0cnVlKTtcclxuICAgIHJldHVybiBcIl9jKFwiLmNvbmNhdChjb21wb25lbnROYW1lLCBcIixcIikuY29uY2F0KGdlbkRhdGEoZWwsIHN0YXRlKSkuY29uY2F0KGNoaWxkcmVuID8gXCIsXCIuY29uY2F0KGNoaWxkcmVuKSA6ICcnLCBcIilcIik7XHJcbn1cclxuZnVuY3Rpb24gZ2VuUHJvcHMocHJvcHMpIHtcclxuICAgIHZhciBzdGF0aWNQcm9wcyA9IFwiXCI7XHJcbiAgICB2YXIgZHluYW1pY1Byb3BzID0gXCJcIjtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcHJvcCA9IHByb3BzW2ldO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHRyYW5zZm9ybVNwZWNpYWxOZXdsaW5lcyhwcm9wLnZhbHVlKTtcclxuICAgICAgICBpZiAocHJvcC5keW5hbWljKSB7XHJcbiAgICAgICAgICAgIGR5bmFtaWNQcm9wcyArPSBcIlwiLmNvbmNhdChwcm9wLm5hbWUsIFwiLFwiKS5jb25jYXQodmFsdWUsIFwiLFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXRpY1Byb3BzICs9IFwiXFxcIlwiLmNvbmNhdChwcm9wLm5hbWUsIFwiXFxcIjpcIikuY29uY2F0KHZhbHVlLCBcIixcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljUHJvcHMgPSBcIntcIi5jb25jYXQoc3RhdGljUHJvcHMuc2xpY2UoMCwgLTEpLCBcIn1cIik7XHJcbiAgICBpZiAoZHluYW1pY1Byb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiX2QoXCIuY29uY2F0KHN0YXRpY1Byb3BzLCBcIixbXCIpLmNvbmNhdChkeW5hbWljUHJvcHMuc2xpY2UoMCwgLTEpLCBcIl0pXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRpY1Byb3BzO1xyXG4gICAgfVxyXG59XHJcbi8vICMzODk1LCAjNDI2OFxyXG5mdW5jdGlvbiB0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXModGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFx1MjAyOC9nLCAnXFxcXHUyMDI4JykucmVwbGFjZSgvXFx1MjAyOS9nLCAnXFxcXHUyMDI5Jyk7XHJcbn1cblxuLy8gdGhlc2Uga2V5d29yZHMgc2hvdWxkIG5vdCBhcHBlYXIgaW5zaWRlIGV4cHJlc3Npb25zLCBidXQgb3BlcmF0b3JzIGxpa2VcclxuLy8gdHlwZW9mLCBpbnN0YW5jZW9mIGFuZCBpbiBhcmUgYWxsb3dlZFxyXG52YXIgcHJvaGliaXRlZEtleXdvcmRSRSA9IG5ldyBSZWdFeHAoJ1xcXFxiJyArXHJcbiAgICAoJ2RvLGlmLGZvcixsZXQsbmV3LHRyeSx2YXIsY2FzZSxlbHNlLHdpdGgsYXdhaXQsYnJlYWssY2F0Y2gsY2xhc3MsY29uc3QsJyArXHJcbiAgICAgICAgJ3N1cGVyLHRocm93LHdoaWxlLHlpZWxkLGRlbGV0ZSxleHBvcnQsaW1wb3J0LHJldHVybixzd2l0Y2gsZGVmYXVsdCwnICtcclxuICAgICAgICAnZXh0ZW5kcyxmaW5hbGx5LGNvbnRpbnVlLGRlYnVnZ2VyLGZ1bmN0aW9uLGFyZ3VtZW50cycpXHJcbiAgICAgICAgLnNwbGl0KCcsJylcclxuICAgICAgICAuam9pbignXFxcXGJ8XFxcXGInKSArXHJcbiAgICAnXFxcXGInKTtcclxuLy8gdGhlc2UgdW5hcnkgb3BlcmF0b3JzIHNob3VsZCBub3QgYmUgdXNlZCBhcyBwcm9wZXJ0eS9tZXRob2QgbmFtZXNcclxudmFyIHVuYXJ5T3BlcmF0b3JzUkUgPSBuZXcgUmVnRXhwKCdcXFxcYicgK1xyXG4gICAgJ2RlbGV0ZSx0eXBlb2Ysdm9pZCcuc3BsaXQoJywnKS5qb2luKCdcXFxccypcXFxcKFteXFxcXCldKlxcXFwpfFxcXFxiJykgK1xyXG4gICAgJ1xcXFxzKlxcXFwoW15cXFxcKV0qXFxcXCknKTtcclxuLy8gc3RyaXAgc3RyaW5ncyBpbiBleHByZXNzaW9uc1xyXG52YXIgc3RyaXBTdHJpbmdSRSA9IC8nKD86W14nXFxcXF18XFxcXC4pKid8XCIoPzpbXlwiXFxcXF18XFxcXC4pKlwifGAoPzpbXmBcXFxcXXxcXFxcLikqXFwkXFx7fFxcfSg/OlteYFxcXFxdfFxcXFwuKSpgfGAoPzpbXmBcXFxcXXxcXFxcLikqYC9nO1xyXG4vLyBkZXRlY3QgcHJvYmxlbWF0aWMgZXhwcmVzc2lvbnMgaW4gYSB0ZW1wbGF0ZVxyXG5mdW5jdGlvbiBkZXRlY3RFcnJvcnMoYXN0LCB3YXJuKSB7XHJcbiAgICBpZiAoYXN0KSB7XHJcbiAgICAgICAgY2hlY2tOb2RlKGFzdCwgd2Fybik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tOb2RlKG5vZGUsIHdhcm4pIHtcclxuICAgIGlmIChub2RlLnR5cGUgPT09IDEpIHtcclxuICAgICAgICBmb3IgKHZhciBuYW1lXzEgaW4gbm9kZS5hdHRyc01hcCkge1xyXG4gICAgICAgICAgICBpZiAoZGlyUkUudGVzdChuYW1lXzEpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLmF0dHJzTWFwW25hbWVfMV07XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBub2RlLnJhd0F0dHJzTWFwW25hbWVfMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWVfMSA9PT0gJ3YtZm9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0Zvcihub2RlLCBcInYtZm9yPVxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIlwiKSwgd2FybiwgcmFuZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuYW1lXzEgPT09ICd2LXNsb3QnIHx8IG5hbWVfMVswXSA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrRnVuY3Rpb25QYXJhbWV0ZXJFeHByZXNzaW9uKHZhbHVlLCBcIlwiLmNvbmNhdChuYW1lXzEsIFwiPVxcXCJcIikuY29uY2F0KHZhbHVlLCBcIlxcXCJcIiksIHdhcm4sIHJhbmdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob25SRS50ZXN0KG5hbWVfMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tFdmVudCh2YWx1ZSwgXCJcIi5jb25jYXQobmFtZV8xLCBcIj1cXFwiXCIpLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpLCB3YXJuLCByYW5nZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0V4cHJlc3Npb24odmFsdWUsIFwiXCIuY29uY2F0KG5hbWVfMSwgXCI9XFxcIlwiKS5jb25jYXQodmFsdWUsIFwiXFxcIlwiKSwgd2FybiwgcmFuZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrTm9kZShub2RlLmNoaWxkcmVuW2ldLCB3YXJuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gMikge1xyXG4gICAgICAgIGNoZWNrRXhwcmVzc2lvbihub2RlLmV4cHJlc3Npb24sIG5vZGUudGV4dCwgd2Fybiwgbm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tFdmVudChleHAsIHRleHQsIHdhcm4sIHJhbmdlKSB7XHJcbiAgICB2YXIgc3RyaXBwZWQgPSBleHAucmVwbGFjZShzdHJpcFN0cmluZ1JFLCAnJyk7XHJcbiAgICB2YXIga2V5d29yZE1hdGNoID0gc3RyaXBwZWQubWF0Y2godW5hcnlPcGVyYXRvcnNSRSk7XHJcbiAgICBpZiAoa2V5d29yZE1hdGNoICYmIHN0cmlwcGVkLmNoYXJBdChrZXl3b3JkTWF0Y2guaW5kZXggLSAxKSAhPT0gJyQnKSB7XHJcbiAgICAgICAgd2FybihcImF2b2lkIHVzaW5nIEphdmFTY3JpcHQgdW5hcnkgb3BlcmF0b3IgYXMgcHJvcGVydHkgbmFtZTogXCIgK1xyXG4gICAgICAgICAgICBcIlxcXCJcIi5jb25jYXQoa2V5d29yZE1hdGNoWzBdLCBcIlxcXCIgaW4gZXhwcmVzc2lvbiBcIikuY29uY2F0KHRleHQudHJpbSgpKSwgcmFuZ2UpO1xyXG4gICAgfVxyXG4gICAgY2hlY2tFeHByZXNzaW9uKGV4cCwgdGV4dCwgd2FybiwgcmFuZ2UpO1xyXG59XHJcbmZ1bmN0aW9uIGNoZWNrRm9yKG5vZGUsIHRleHQsIHdhcm4sIHJhbmdlKSB7XHJcbiAgICBjaGVja0V4cHJlc3Npb24obm9kZS5mb3IgfHwgJycsIHRleHQsIHdhcm4sIHJhbmdlKTtcclxuICAgIGNoZWNrSWRlbnRpZmllcihub2RlLmFsaWFzLCAndi1mb3IgYWxpYXMnLCB0ZXh0LCB3YXJuLCByYW5nZSk7XHJcbiAgICBjaGVja0lkZW50aWZpZXIobm9kZS5pdGVyYXRvcjEsICd2LWZvciBpdGVyYXRvcicsIHRleHQsIHdhcm4sIHJhbmdlKTtcclxuICAgIGNoZWNrSWRlbnRpZmllcihub2RlLml0ZXJhdG9yMiwgJ3YtZm9yIGl0ZXJhdG9yJywgdGV4dCwgd2FybiwgcmFuZ2UpO1xyXG59XHJcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpZmllcihpZGVudCwgdHlwZSwgdGV4dCwgd2FybiwgcmFuZ2UpIHtcclxuICAgIGlmICh0eXBlb2YgaWRlbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbmV3IEZ1bmN0aW9uKFwidmFyIFwiLmNvbmNhdChpZGVudCwgXCI9X1wiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJpbnZhbGlkIFwiLmNvbmNhdCh0eXBlLCBcIiBcXFwiXCIpLmNvbmNhdChpZGVudCwgXCJcXFwiIGluIGV4cHJlc3Npb246IFwiKS5jb25jYXQodGV4dC50cmltKCkpLCByYW5nZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNoZWNrRXhwcmVzc2lvbihleHAsIHRleHQsIHdhcm4sIHJhbmdlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIG5ldyBGdW5jdGlvbihcInJldHVybiBcIi5jb25jYXQoZXhwKSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHZhciBrZXl3b3JkTWF0Y2ggPSBleHBcclxuICAgICAgICAgICAgLnJlcGxhY2Uoc3RyaXBTdHJpbmdSRSwgJycpXHJcbiAgICAgICAgICAgIC5tYXRjaChwcm9oaWJpdGVkS2V5d29yZFJFKTtcclxuICAgICAgICBpZiAoa2V5d29yZE1hdGNoKSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJhdm9pZCB1c2luZyBKYXZhU2NyaXB0IGtleXdvcmQgYXMgcHJvcGVydHkgbmFtZTogXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJcXFwiXCIuY29uY2F0KGtleXdvcmRNYXRjaFswXSwgXCJcXFwiXFxuICBSYXcgZXhwcmVzc2lvbjogXCIpLmNvbmNhdCh0ZXh0LnRyaW0oKSksIHJhbmdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJpbnZhbGlkIGV4cHJlc3Npb246IFwiLmNvbmNhdChlLm1lc3NhZ2UsIFwiIGluXFxuXFxuXCIpICtcclxuICAgICAgICAgICAgICAgIFwiICAgIFwiLmNvbmNhdChleHAsIFwiXFxuXFxuXCIpICtcclxuICAgICAgICAgICAgICAgIFwiICBSYXcgZXhwcmVzc2lvbjogXCIuY29uY2F0KHRleHQudHJpbSgpLCBcIlxcblwiKSwgcmFuZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja0Z1bmN0aW9uUGFyYW1ldGVyRXhwcmVzc2lvbihleHAsIHRleHQsIHdhcm4sIHJhbmdlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIG5ldyBGdW5jdGlvbihleHAsICcnKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgd2FybihcImludmFsaWQgZnVuY3Rpb24gcGFyYW1ldGVyIGV4cHJlc3Npb246IFwiLmNvbmNhdChlLm1lc3NhZ2UsIFwiIGluXFxuXFxuXCIpICtcclxuICAgICAgICAgICAgXCIgICAgXCIuY29uY2F0KGV4cCwgXCJcXG5cXG5cIikgK1xyXG4gICAgICAgICAgICBcIiAgUmF3IGV4cHJlc3Npb246IFwiLmNvbmNhdCh0ZXh0LnRyaW0oKSwgXCJcXG5cIiksIHJhbmdlKTtcclxuICAgIH1cclxufVxuXG52YXIgcmFuZ2UgPSAyO1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0LCBlbmQpIHtcclxuICAgIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7IHN0YXJ0ID0gMDsgfVxyXG4gICAgaWYgKGVuZCA9PT0gdm9pZCAwKSB7IGVuZCA9IHNvdXJjZS5sZW5ndGg7IH1cclxuICAgIHZhciBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvXFxyP1xcbi8pO1xyXG4gICAgdmFyIGNvdW50ID0gMDtcclxuICAgIHZhciByZXMgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb3VudCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xyXG4gICAgICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSAtIHJhbmdlOyBqIDw9IGkgKyByYW5nZSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaChcIlwiLmNvbmNhdChqICsgMSkuY29uY2F0KHJlcGVhdChcIiBcIiwgMyAtIFN0cmluZyhqICsgMSkubGVuZ3RoKSwgXCJ8ICBcIikuY29uY2F0KGxpbmVzW2pdKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChqID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFkID0gc3RhcnQgLSAoY291bnQgLSBsaW5lTGVuZ3RoKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aF8xID0gZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goXCIgICB8ICBcIiArIHJlcGVhdChcIiBcIiwgcGFkKSArIHJlcGVhdChcIl5cIiwgbGVuZ3RoXzEpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogPiBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGhfMiA9IE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goXCIgICB8ICBcIiArIHJlcGVhdChcIl5cIiwgbGVuZ3RoXzIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5qb2luKCdcXG4nKTtcclxufVxyXG5mdW5jdGlvbiByZXBlYXQoc3RyLCBuKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICBpZiAobiA+IDApIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgICAgICAgICBpZiAobiAmIDEpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyO1xyXG4gICAgICAgICAgICBuID4+Pj0gMTtcclxuICAgICAgICAgICAgaWYgKG4gPD0gMClcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBzdHIgKz0gc3RyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb24oY29kZSwgZXJyb3JzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oY29kZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgZXJyb3JzLnB1c2goeyBlcnI6IGVyciwgY29kZTogY29kZSB9KTtcclxuICAgICAgICByZXR1cm4gbm9vcDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDb21waWxlVG9GdW5jdGlvbkZuKGNvbXBpbGUpIHtcclxuICAgIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gY29tcGlsZVRvRnVuY3Rpb25zKHRlbXBsYXRlLCBvcHRpb25zLCB2bSkge1xyXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciB3YXJuID0gb3B0aW9ucy53YXJuIHx8IHdhcm4kMjtcclxuICAgICAgICBkZWxldGUgb3B0aW9ucy53YXJuO1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIC8vIGRldGVjdCBwb3NzaWJsZSBDU1AgcmVzdHJpY3Rpb25cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIG5ldyBGdW5jdGlvbigncmV0dXJuIDEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudG9TdHJpbmcoKS5tYXRjaCgvdW5zYWZlLWV2YWx8Q1NQLykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdJdCBzZWVtcyB5b3UgYXJlIHVzaW5nIHRoZSBzdGFuZGFsb25lIGJ1aWxkIG9mIFZ1ZS5qcyBpbiBhbiAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Vudmlyb25tZW50IHdpdGggQ29udGVudCBTZWN1cml0eSBQb2xpY3kgdGhhdCBwcm9oaWJpdHMgdW5zYWZlLWV2YWwuICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGhlIHRlbXBsYXRlIGNvbXBpbGVyIGNhbm5vdCB3b3JrIGluIHRoaXMgZW52aXJvbm1lbnQuIENvbnNpZGVyICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncmVsYXhpbmcgdGhlIHBvbGljeSB0byBhbGxvdyB1bnNhZmUtZXZhbCBvciBwcmUtY29tcGlsaW5nIHlvdXIgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZW1wbGF0ZXMgaW50byByZW5kZXIgZnVuY3Rpb25zLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIGNhY2hlXHJcbiAgICAgICAgdmFyIGtleSA9IG9wdGlvbnMuZGVsaW1pdGVyc1xyXG4gICAgICAgICAgICA/IFN0cmluZyhvcHRpb25zLmRlbGltaXRlcnMpICsgdGVtcGxhdGVcclxuICAgICAgICAgICAgOiB0ZW1wbGF0ZTtcclxuICAgICAgICBpZiAoY2FjaGVba2V5XSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29tcGlsZVxyXG4gICAgICAgIHZhciBjb21waWxlZCA9IGNvbXBpbGUodGVtcGxhdGUsIG9wdGlvbnMpO1xyXG4gICAgICAgIC8vIGNoZWNrIGNvbXBpbGF0aW9uIGVycm9ycy90aXBzXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBpbGVkLmVycm9ycyAmJiBjb21waWxlZC5lcnJvcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVkLmVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oXCJFcnJvciBjb21waWxpbmcgdGVtcGxhdGU6XFxuXFxuXCIuY29uY2F0KGUubXNnLCBcIlxcblxcblwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUNvZGVGcmFtZSh0ZW1wbGF0ZSwgZS5zdGFydCwgZS5lbmQpLCB2bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiRXJyb3IgY29tcGlsaW5nIHRlbXBsYXRlOlxcblxcblwiLmNvbmNhdCh0ZW1wbGF0ZSwgXCJcXG5cXG5cIikgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21waWxlZC5lcnJvcnMubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiBcIi0gXCIuY29uY2F0KGUpOyB9KS5qb2luKCdcXG4nKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXG4nLCB2bSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbXBpbGVkLnRpcHMgJiYgY29tcGlsZWQudGlwcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZWQudGlwcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiB0aXAoZS5tc2csIHZtKTsgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21waWxlZC50aXBzLmZvckVhY2goZnVuY3Rpb24gKG1zZykgeyByZXR1cm4gdGlwKG1zZywgdm0pOyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0dXJuIGNvZGUgaW50byBmdW5jdGlvbnNcclxuICAgICAgICB2YXIgcmVzID0ge307XHJcbiAgICAgICAgdmFyIGZuR2VuRXJyb3JzID0gW107XHJcbiAgICAgICAgcmVzLnJlbmRlciA9IGNyZWF0ZUZ1bmN0aW9uKGNvbXBpbGVkLnJlbmRlciwgZm5HZW5FcnJvcnMpO1xyXG4gICAgICAgIHJlcy5zdGF0aWNSZW5kZXJGbnMgPSBjb21waWxlZC5zdGF0aWNSZW5kZXJGbnMubWFwKGZ1bmN0aW9uIChjb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVGdW5jdGlvbihjb2RlLCBmbkdlbkVycm9ycyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY2hlY2sgZnVuY3Rpb24gZ2VuZXJhdGlvbiBlcnJvcnMuXHJcbiAgICAgICAgLy8gdGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgdGhlcmUgaXMgYSBidWcgaW4gdGhlIGNvbXBpbGVyIGl0c2VsZi5cclxuICAgICAgICAvLyBtb3N0bHkgZm9yIGNvZGVnZW4gZGV2ZWxvcG1lbnQgdXNlXHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKCghY29tcGlsZWQuZXJyb3JzIHx8ICFjb21waWxlZC5lcnJvcnMubGVuZ3RoKSAmJiBmbkdlbkVycm9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcmVuZGVyIGZ1bmN0aW9uOlxcblxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICBmbkdlbkVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gX2EuZXJyLCBjb2RlID0gX2EuY29kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGVyci50b1N0cmluZygpLCBcIiBpblxcblxcblwiKS5jb25jYXQoY29kZSwgXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJ1xcbicpLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChjYWNoZVtrZXldID0gcmVzKTtcclxuICAgIH07XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tcGlsZXJDcmVhdG9yKGJhc2VDb21waWxlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQ29tcGlsZXIoYmFzZU9wdGlvbnMpIHtcclxuICAgICAgICBmdW5jdGlvbiBjb21waWxlKHRlbXBsYXRlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBmaW5hbE9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKGJhc2VPcHRpb25zKTtcclxuICAgICAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdGlwcyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgd2FybiA9IGZ1bmN0aW9uIChtc2csIHJhbmdlLCB0aXApIHtcclxuICAgICAgICAgICAgICAgICh0aXAgPyB0aXBzIDogZXJyb3JzKS5wdXNoKG1zZyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlYWRpbmdTcGFjZUxlbmd0aF8xID0gdGVtcGxhdGUubWF0Y2goL15cXHMqLylbMF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4gPSBmdW5jdGlvbiAobXNnLCByYW5nZSwgdGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdHlwZW9mIG1zZyA9PT0gJ3N0cmluZycgPyB7IG1zZzogbXNnIH0gOiBtc2c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnN0YXJ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQgKyBsZWFkaW5nU3BhY2VMZW5ndGhfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS5lbmQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZW5kID0gcmFuZ2UuZW5kICsgbGVhZGluZ1NwYWNlTGVuZ3RoXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKHRpcCA/IHRpcHMgOiBlcnJvcnMpLnB1c2goZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1lcmdlIGN1c3RvbSBtb2R1bGVzXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5tb2R1bGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluYWxPcHRpb25zLm1vZHVsZXMgPSAoYmFzZU9wdGlvbnMubW9kdWxlcyB8fCBbXSkuY29uY2F0KG9wdGlvbnMubW9kdWxlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtZXJnZSBjdXN0b20gZGlyZWN0aXZlc1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aXZlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsT3B0aW9ucy5kaXJlY3RpdmVzID0gZXh0ZW5kKE9iamVjdC5jcmVhdGUoYmFzZU9wdGlvbnMuZGlyZWN0aXZlcyB8fCBudWxsKSwgb3B0aW9ucy5kaXJlY3RpdmVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGNvcHkgb3RoZXIgb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnbW9kdWxlcycgJiYga2V5ICE9PSAnZGlyZWN0aXZlcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsT3B0aW9ucy53YXJuID0gd2FybjtcclxuICAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gYmFzZUNvbXBpbGUodGVtcGxhdGUudHJpbSgpLCBmaW5hbE9wdGlvbnMpO1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgZGV0ZWN0RXJyb3JzKGNvbXBpbGVkLmFzdCwgd2Fybik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcGlsZWQuZXJyb3JzID0gZXJyb3JzO1xyXG4gICAgICAgICAgICBjb21waWxlZC50aXBzID0gdGlwcztcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb21waWxlOiBjb21waWxlLFxyXG4gICAgICAgICAgICBjb21waWxlVG9GdW5jdGlvbnM6IGNyZWF0ZUNvbXBpbGVUb0Z1bmN0aW9uRm4oY29tcGlsZSlcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxuXG4vLyBgY3JlYXRlQ29tcGlsZXJDcmVhdG9yYCBhbGxvd3MgY3JlYXRpbmcgY29tcGlsZXJzIHRoYXQgdXNlIGFsdGVybmF0aXZlXHJcbi8vIHBhcnNlci9vcHRpbWl6ZXIvY29kZWdlbiwgZS5nIHRoZSBTU1Igb3B0aW1pemluZyBjb21waWxlci5cclxuLy8gSGVyZSB3ZSBqdXN0IGV4cG9ydCBhIGRlZmF1bHQgY29tcGlsZXIgdXNpbmcgdGhlIGRlZmF1bHQgcGFydHMuXHJcbnZhciBjcmVhdGVDb21waWxlciA9IGNyZWF0ZUNvbXBpbGVyQ3JlYXRvcihmdW5jdGlvbiBiYXNlQ29tcGlsZSh0ZW1wbGF0ZSwgb3B0aW9ucykge1xyXG4gICAgdmFyIGFzdCA9IHBhcnNlKHRlbXBsYXRlLnRyaW0oKSwgb3B0aW9ucyk7XHJcbiAgICBpZiAob3B0aW9ucy5vcHRpbWl6ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICBvcHRpbWl6ZShhc3QsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgdmFyIGNvZGUgPSBnZW5lcmF0ZShhc3QsIG9wdGlvbnMpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhc3Q6IGFzdCxcclxuICAgICAgICByZW5kZXI6IGNvZGUucmVuZGVyLFxyXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogY29kZS5zdGF0aWNSZW5kZXJGbnNcclxuICAgIH07XHJcbn0pO1xuXG52YXIgX2EgPSBjcmVhdGVDb21waWxlcihiYXNlT3B0aW9ucyksIGNvbXBpbGVUb0Z1bmN0aW9ucyA9IF9hLmNvbXBpbGVUb0Z1bmN0aW9ucztcblxuLy8gY2hlY2sgd2hldGhlciBjdXJyZW50IGJyb3dzZXIgZW5jb2RlcyBhIGNoYXIgaW5zaWRlIGF0dHJpYnV0ZSB2YWx1ZXNcclxudmFyIGRpdjtcclxuZnVuY3Rpb24gZ2V0U2hvdWxkRGVjb2RlKGhyZWYpIHtcclxuICAgIGRpdiA9IGRpdiB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRpdi5pbm5lckhUTUwgPSBocmVmID8gXCI8YSBocmVmPVxcXCJcXG5cXFwiLz5cIiA6IFwiPGRpdiBhPVxcXCJcXG5cXFwiLz5cIjtcclxuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MLmluZGV4T2YoJyYjMTA7JykgPiAwO1xyXG59XHJcbi8vICMzNjYzOiBJRSBlbmNvZGVzIG5ld2xpbmVzIGluc2lkZSBhdHRyaWJ1dGUgdmFsdWVzIHdoaWxlIG90aGVyIGJyb3dzZXJzIGRvbid0XHJcbnZhciBzaG91bGREZWNvZGVOZXdsaW5lcyA9IGluQnJvd3NlciA/IGdldFNob3VsZERlY29kZShmYWxzZSkgOiBmYWxzZTtcclxuLy8gIzY4Mjg6IGNocm9tZSBlbmNvZGVzIGNvbnRlbnQgaW4gYVtocmVmXVxyXG52YXIgc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmID0gaW5Ccm93c2VyXHJcbiAgICA/IGdldFNob3VsZERlY29kZSh0cnVlKVxyXG4gICAgOiBmYWxzZTtcblxudmFyIGlkVG9UZW1wbGF0ZSA9IGNhY2hlZChmdW5jdGlvbiAoaWQpIHtcclxuICAgIHZhciBlbCA9IHF1ZXJ5KGlkKTtcclxuICAgIHJldHVybiBlbCAmJiBlbC5pbm5lckhUTUw7XHJcbn0pO1xyXG52YXIgbW91bnQgPSBWdWUucHJvdG90eXBlLiRtb3VudDtcclxuVnVlLnByb3RvdHlwZS4kbW91bnQgPSBmdW5jdGlvbiAoZWwsIGh5ZHJhdGluZykge1xyXG4gICAgZWwgPSBlbCAmJiBxdWVyeShlbCk7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChlbCA9PT0gZG9jdW1lbnQuYm9keSB8fCBlbCA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICB3YXJuJDIoXCJEbyBub3QgbW91bnQgVnVlIHRvIDxodG1sPiBvciA8Ym9keT4gLSBtb3VudCB0byBub3JtYWwgZWxlbWVudHMgaW5zdGVhZC5cIik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XHJcbiAgICAvLyByZXNvbHZlIHRlbXBsYXRlL2VsIGFuZCBjb252ZXJ0IHRvIHJlbmRlciBmdW5jdGlvblxyXG4gICAgaWYgKCFvcHRpb25zLnJlbmRlcikge1xyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IG9wdGlvbnMudGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGUuY2hhckF0KDApID09PSAnIycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IGlkVG9UZW1wbGF0ZSh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIXRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMihcIlRlbXBsYXRlIGVsZW1lbnQgbm90IGZvdW5kIG9yIGlzIGVtcHR5OiBcIi5jb25jYXQob3B0aW9ucy50ZW1wbGF0ZSksIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0ZW1wbGF0ZS5ub2RlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMignaW52YWxpZCB0ZW1wbGF0ZSBvcHRpb246JyArIHRlbXBsYXRlLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVsKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSBnZXRPdXRlckhUTUwoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNvbmZpZy5wZXJmb3JtYW5jZSAmJiBtYXJrKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJrKCdjb21waWxlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIF9hID0gY29tcGlsZVRvRnVuY3Rpb25zKHRlbXBsYXRlLCB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXRTb3VyY2VSYW5nZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICAgICAgICAgIHNob3VsZERlY29kZU5ld2xpbmVzOiBzaG91bGREZWNvZGVOZXdsaW5lcyxcclxuICAgICAgICAgICAgICAgIHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjogc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmLFxyXG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyczogb3B0aW9ucy5kZWxpbWl0ZXJzLFxyXG4gICAgICAgICAgICAgICAgY29tbWVudHM6IG9wdGlvbnMuY29tbWVudHNcclxuICAgICAgICAgICAgfSwgdGhpcyksIHJlbmRlciA9IF9hLnJlbmRlciwgc3RhdGljUmVuZGVyRm5zID0gX2Euc3RhdGljUmVuZGVyRm5zO1xyXG4gICAgICAgICAgICBvcHRpb25zLnJlbmRlciA9IHJlbmRlcjtcclxuICAgICAgICAgICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnM7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykge1xyXG4gICAgICAgICAgICAgICAgbWFyaygnY29tcGlsZSBlbmQnKTtcclxuICAgICAgICAgICAgICAgIG1lYXN1cmUoXCJ2dWUgXCIuY29uY2F0KHRoaXMuX25hbWUsIFwiIGNvbXBpbGVcIiksICdjb21waWxlJywgJ2NvbXBpbGUgZW5kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbW91bnQuY2FsbCh0aGlzLCBlbCwgaHlkcmF0aW5nKTtcclxufTtcclxuLyoqXHJcbiAqIEdldCBvdXRlckhUTUwgb2YgZWxlbWVudHMsIHRha2luZyBjYXJlXHJcbiAqIG9mIFNWRyBlbGVtZW50cyBpbiBJRSBhcyB3ZWxsLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0T3V0ZXJIVE1MKGVsKSB7XHJcbiAgICBpZiAoZWwub3V0ZXJIVE1MKSB7XHJcbiAgICAgICAgcmV0dXJuIGVsLm91dGVySFRNTDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwuY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyLmlubmVySFRNTDtcclxuICAgIH1cclxufVxyXG5WdWUuY29tcGlsZSA9IGNvbXBpbGVUb0Z1bmN0aW9ucztcblxuZXhwb3J0IHsgRWZmZWN0U2NvcGUsIGNvbXB1dGVkLCBjdXN0b21SZWYsIFZ1ZSBhcyBkZWZhdWx0LCBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBkZWwsIGVmZmVjdFNjb3BlLCBnZXRDdXJyZW50SW5zdGFuY2UsIGdldEN1cnJlbnRTY29wZSwgaCwgaW5qZWN0LCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBtZXJnZURlZmF1bHRzLCBuZXh0VGljaywgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblNjb3BlRGlzcG9zZSwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgcHJvdmlkZSwgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiQxIGFzIHJlZiwgc2V0LCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyaWdnZXJSZWYsIHVucmVmLCB1c2VBdHRycywgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB1c2VMaXN0ZW5lcnMsIHVzZVNsb3RzLCB2ZXJzaW9uLCB3YXRjaCwgd2F0Y2hFZmZlY3QsIHdhdGNoUG9zdEVmZmVjdCwgd2F0Y2hTeW5jRWZmZWN0IH07XG4iLCIvKipcbiAgKiB2dWUtY2xhc3MtY29tcG9uZW50IHY3LjIuNlxuICAqIChjKSAyMDE1LXByZXNlbnQgRXZhbiBZb3VcbiAgKiBAbGljZW5zZSBNSVRcbiAgKi9cbmltcG9ydCBWdWUgZnJvbSAndnVlJztcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgIHJldHVybiBhcnIyO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbn1cblxuLy8gVGhlIHJhdGlvbmFsIGJlaGluZCB0aGUgdmVyYm9zZSBSZWZsZWN0LWZlYXR1cmUgY2hlY2sgYmVsb3cgaXMgdGhlIGZhY3QgdGhhdCB0aGVyZSBhcmUgcG9seWZpbGxzXG4vLyB3aGljaCBhZGQgYW4gaW1wbGVtZW50YXRpb24gZm9yIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEgYnV0IG5vdCBmb3IgUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMuXG4vLyBXaXRob3V0IHRoaXMgY2hlY2sgY29uc3VtZXJzIHdpbGwgZW5jb3VudGVyIGhhcmQgdG8gdHJhY2sgZG93biBydW50aW1lIGVycm9ycy5cbmZ1bmN0aW9uIHJlZmxlY3Rpb25Jc1N1cHBvcnRlZCgpIHtcbiAgcmV0dXJuIHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJyAmJiBSZWZsZWN0LmRlZmluZU1ldGFkYXRhICYmIFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzO1xufVxuZnVuY3Rpb24gY29weVJlZmxlY3Rpb25NZXRhZGF0YSh0bywgZnJvbSkge1xuICBmb3J3YXJkTWV0YWRhdGEodG8sIGZyb20pO1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhmcm9tLnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZm9yd2FyZE1ldGFkYXRhKHRvLnByb3RvdHlwZSwgZnJvbS5wcm90b3R5cGUsIGtleSk7XG4gIH0pO1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhmcm9tKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBmb3J3YXJkTWV0YWRhdGEodG8sIGZyb20sIGtleSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBmb3J3YXJkTWV0YWRhdGEodG8sIGZyb20sIHByb3BlcnR5S2V5KSB7XG4gIHZhciBtZXRhS2V5cyA9IHByb3BlcnR5S2V5ID8gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoZnJvbSwgcHJvcGVydHlLZXkpIDogUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoZnJvbSk7XG4gIG1ldGFLZXlzLmZvckVhY2goZnVuY3Rpb24gKG1ldGFLZXkpIHtcbiAgICB2YXIgbWV0YWRhdGEgPSBwcm9wZXJ0eUtleSA/IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEobWV0YUtleSwgZnJvbSwgcHJvcGVydHlLZXkpIDogUmVmbGVjdC5nZXRPd25NZXRhZGF0YShtZXRhS2V5LCBmcm9tKTtcblxuICAgIGlmIChwcm9wZXJ0eUtleSkge1xuICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShtZXRhS2V5LCBtZXRhZGF0YSwgdG8sIHByb3BlcnR5S2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShtZXRhS2V5LCBtZXRhZGF0YSwgdG8pO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBmYWtlQXJyYXkgPSB7XG4gIF9fcHJvdG9fXzogW11cbn07XG52YXIgaGFzUHJvdG8gPSBmYWtlQXJyYXkgaW5zdGFuY2VvZiBBcnJheTtcbmZ1bmN0aW9uIGNyZWF0ZURlY29yYXRvcihmYWN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGluZGV4KSB7XG4gICAgdmFyIEN0b3IgPSB0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yO1xuXG4gICAgaWYgKCFDdG9yLl9fZGVjb3JhdG9yc19fKSB7XG4gICAgICBDdG9yLl9fZGVjb3JhdG9yc19fID0gW107XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICAgIGluZGV4ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIEN0b3IuX19kZWNvcmF0b3JzX18ucHVzaChmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgcmV0dXJuIGZhY3Rvcnkob3B0aW9ucywga2V5LCBpbmRleCk7XG4gICAgfSk7XG4gIH07XG59XG5mdW5jdGlvbiBtaXhpbnMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBDdG9ycyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBDdG9yc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBWdWUuZXh0ZW5kKHtcbiAgICBtaXhpbnM6IEN0b3JzXG4gIH0pO1xufVxuZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSBfdHlwZW9mKHZhbHVlKTtcblxuICByZXR1cm4gdmFsdWUgPT0gbnVsbCB8fCB0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlICE9PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gd2FybihtZXNzYWdlKSB7XG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLndhcm4oJ1t2dWUtY2xhc3MtY29tcG9uZW50XSAnICsgbWVzc2FnZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdERhdGFGcm9tQ29uc3RydWN0b3Iodm0sIENvbXBvbmVudCkge1xuICAvLyBvdmVycmlkZSBfaW5pdCB0byBwcmV2ZW50IHRvIGluaXQgYXMgVnVlIGluc3RhbmNlXG4gIHZhciBvcmlnaW5hbEluaXQgPSBDb21wb25lbnQucHJvdG90eXBlLl9pbml0O1xuXG4gIENvbXBvbmVudC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIHByb3h5IHRvIGFjdHVhbCB2bVxuICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModm0pOyAvLyAyLjIuMCBjb21wYXQgKHByb3BzIGFyZSBubyBsb25nZXIgZXhwb3NlZCBhcyBzZWxmIHByb3BlcnRpZXMpXG5cbiAgICBpZiAodm0uJG9wdGlvbnMucHJvcHMpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiB2bS4kb3B0aW9ucy5wcm9wcykge1xuICAgICAgICBpZiAoIXZtLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMsIGtleSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdm1ba2V5XTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICB2bVtrZXldID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07IC8vIHNob3VsZCBiZSBhY3F1aXJlZCBjbGFzcyBwcm9wZXJ0eSB2YWx1ZXNcblxuXG4gIHZhciBkYXRhID0gbmV3IENvbXBvbmVudCgpOyAvLyByZXN0b3JlIG9yaWdpbmFsIF9pbml0IHRvIGF2b2lkIG1lbW9yeSBsZWFrICgjMjA5KVxuXG4gIENvbXBvbmVudC5wcm90b3R5cGUuX2luaXQgPSBvcmlnaW5hbEluaXQ7IC8vIGNyZWF0ZSBwbGFpbiBkYXRhIG9iamVjdFxuXG4gIHZhciBwbGFpbkRhdGEgPSB7fTtcbiAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwbGFpbkRhdGFba2V5XSA9IGRhdGFba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCEoQ29tcG9uZW50LnByb3RvdHlwZSBpbnN0YW5jZW9mIFZ1ZSkgJiYgT2JqZWN0LmtleXMocGxhaW5EYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgICB3YXJuKCdDb21wb25lbnQgY2xhc3MgbXVzdCBpbmhlcml0IFZ1ZSBvciBpdHMgZGVzY2VuZGFudCBjbGFzcyAnICsgJ3doZW4gY2xhc3MgcHJvcGVydHkgaXMgdXNlZC4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGxhaW5EYXRhO1xufVxuXG52YXIgJGludGVybmFsSG9va3MgPSBbJ2RhdGEnLCAnYmVmb3JlQ3JlYXRlJywgJ2NyZWF0ZWQnLCAnYmVmb3JlTW91bnQnLCAnbW91bnRlZCcsICdiZWZvcmVEZXN0cm95JywgJ2Rlc3Ryb3llZCcsICdiZWZvcmVVcGRhdGUnLCAndXBkYXRlZCcsICdhY3RpdmF0ZWQnLCAnZGVhY3RpdmF0ZWQnLCAncmVuZGVyJywgJ2Vycm9yQ2FwdHVyZWQnLCAnc2VydmVyUHJlZmV0Y2gnIC8vIDIuNlxuXTtcbmZ1bmN0aW9uIGNvbXBvbmVudEZhY3RvcnkoQ29tcG9uZW50KSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgb3B0aW9ucy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8IENvbXBvbmVudC5fY29tcG9uZW50VGFnIHx8IENvbXBvbmVudC5uYW1lOyAvLyBwcm90b3R5cGUgcHJvcHMuXG5cbiAgdmFyIHByb3RvID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGhvb2tzXG5cblxuICAgIGlmICgkaW50ZXJuYWxIb29rcy5pbmRleE9mKGtleSkgPiAtMSkge1xuICAgICAgb3B0aW9uc1trZXldID0gcHJvdG9ba2V5XTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIGtleSk7XG5cbiAgICBpZiAoZGVzY3JpcHRvci52YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAvLyBtZXRob2RzXG4gICAgICBpZiAodHlwZW9mIGRlc2NyaXB0b3IudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgKG9wdGlvbnMubWV0aG9kcyB8fCAob3B0aW9ucy5tZXRob2RzID0ge30pKVtrZXldID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHR5cGVzY3JpcHQgZGVjb3JhdGVkIGRhdGFcbiAgICAgICAgKG9wdGlvbnMubWl4aW5zIHx8IChvcHRpb25zLm1peGlucyA9IFtdKSkucHVzaCh7XG4gICAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgZGVzY3JpcHRvci52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRlc2NyaXB0b3IuZ2V0IHx8IGRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICAvLyBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gICAgICAob3B0aW9ucy5jb21wdXRlZCB8fCAob3B0aW9ucy5jb21wdXRlZCA9IHt9KSlba2V5XSA9IHtcbiAgICAgICAgZ2V0OiBkZXNjcmlwdG9yLmdldCxcbiAgICAgICAgc2V0OiBkZXNjcmlwdG9yLnNldFxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuICAob3B0aW9ucy5taXhpbnMgfHwgKG9wdGlvbnMubWl4aW5zID0gW10pKS5wdXNoKHtcbiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgICAgcmV0dXJuIGNvbGxlY3REYXRhRnJvbUNvbnN0cnVjdG9yKHRoaXMsIENvbXBvbmVudCk7XG4gICAgfVxuICB9KTsgLy8gZGVjb3JhdGUgb3B0aW9uc1xuXG4gIHZhciBkZWNvcmF0b3JzID0gQ29tcG9uZW50Ll9fZGVjb3JhdG9yc19fO1xuXG4gIGlmIChkZWNvcmF0b3JzKSB7XG4gICAgZGVjb3JhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIGZuKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIGRlbGV0ZSBDb21wb25lbnQuX19kZWNvcmF0b3JzX187XG4gIH0gLy8gZmluZCBzdXBlclxuXG5cbiAgdmFyIHN1cGVyUHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29tcG9uZW50LnByb3RvdHlwZSk7XG4gIHZhciBTdXBlciA9IHN1cGVyUHJvdG8gaW5zdGFuY2VvZiBWdWUgPyBzdXBlclByb3RvLmNvbnN0cnVjdG9yIDogVnVlO1xuICB2YXIgRXh0ZW5kZWQgPSBTdXBlci5leHRlbmQob3B0aW9ucyk7XG4gIGZvcndhcmRTdGF0aWNNZW1iZXJzKEV4dGVuZGVkLCBDb21wb25lbnQsIFN1cGVyKTtcblxuICBpZiAocmVmbGVjdGlvbklzU3VwcG9ydGVkKCkpIHtcbiAgICBjb3B5UmVmbGVjdGlvbk1ldGFkYXRhKEV4dGVuZGVkLCBDb21wb25lbnQpO1xuICB9XG5cbiAgcmV0dXJuIEV4dGVuZGVkO1xufVxudmFyIHJlc2VydmVkUHJvcGVydHlOYW1lcyA9IFsvLyBVbmlxdWUgaWRcbidjaWQnLCAvLyBTdXBlciBWdWUgY29uc3RydWN0b3JcbidzdXBlcicsIC8vIENvbXBvbmVudCBvcHRpb25zIHRoYXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBjb21wb25lbnRcbidvcHRpb25zJywgJ3N1cGVyT3B0aW9ucycsICdleHRlbmRPcHRpb25zJywgJ3NlYWxlZE9wdGlvbnMnLCAvLyBQcml2YXRlIGFzc2V0c1xuJ2NvbXBvbmVudCcsICdkaXJlY3RpdmUnLCAnZmlsdGVyJ107XG52YXIgc2hvdWxkSWdub3JlID0ge1xuICBwcm90b3R5cGU6IHRydWUsXG4gIGFyZ3VtZW50czogdHJ1ZSxcbiAgY2FsbGVlOiB0cnVlLFxuICBjYWxsZXI6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGZvcndhcmRTdGF0aWNNZW1iZXJzKEV4dGVuZGVkLCBPcmlnaW5hbCwgU3VwZXIpIHtcbiAgLy8gV2UgaGF2ZSB0byB1c2UgZ2V0T3duUHJvcGVydHlOYW1lcyBzaW5jZSBCYWJlbCByZWdpc3RlcnMgbWV0aG9kcyBhcyBub24tZW51bWVyYWJsZVxuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPcmlnaW5hbCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgLy8gU2tpcCB0aGUgcHJvcGVydGllcyB0aGF0IHNob3VsZCBub3QgYmUgb3ZlcndyaXR0ZW5cbiAgICBpZiAoc2hvdWxkSWdub3JlW2tleV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFNvbWUgYnJvd3NlcnMgZG9lcyBub3QgYWxsb3cgcmVjb25maWd1cmUgYnVpbHQtaW4gcHJvcGVydGllc1xuXG5cbiAgICB2YXIgZXh0ZW5kZWREZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFeHRlbmRlZCwga2V5KTtcblxuICAgIGlmIChleHRlbmRlZERlc2NyaXB0b3IgJiYgIWV4dGVuZGVkRGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT3JpZ2luYWwsIGtleSk7IC8vIElmIHRoZSB1c2VyIGFnZW50IGRvZXMgbm90IHN1cHBvcnQgYF9fcHJvdG9fX2Agb3IgaXRzIGZhbWlseSAoSUUgPD0gMTApLFxuICAgIC8vIHRoZSBzdWIgY2xhc3MgcHJvcGVydGllcyBtYXkgYmUgaW5oZXJpdGVkIHByb3BlcnRpZXMgZnJvbSB0aGUgc3VwZXIgY2xhc3MgaW4gVHlwZVNjcmlwdC5cbiAgICAvLyBXZSBuZWVkIHRvIGV4Y2x1ZGUgc3VjaCBwcm9wZXJ0aWVzIHRvIHByZXZlbnQgdG8gb3ZlcndyaXRlXG4gICAgLy8gdGhlIGNvbXBvbmVudCBvcHRpb25zIG9iamVjdCB3aGljaCBzdG9yZWQgb24gdGhlIGV4dGVuZGVkIGNvbnN0cnVjdG9yIChTZWUgIzE5MikuXG4gICAgLy8gSWYgdGhlIHZhbHVlIGlzIGEgcmVmZXJlbmNlZCB2YWx1ZSAob2JqZWN0IG9yIGZ1bmN0aW9uKSxcbiAgICAvLyB3ZSBjYW4gY2hlY2sgZXF1YWxpdHkgb2YgdGhlbSBhbmQgZXhjbHVkZSBpdCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgcmVmZXJlbmNlLlxuICAgIC8vIElmIGl0IGlzIGEgcHJpbWl0aXZlIHZhbHVlLCBpdCB3aWxsIGJlIGZvcndhcmRlZCBmb3Igc2FmZXR5LlxuXG4gICAgaWYgKCFoYXNQcm90bykge1xuICAgICAgLy8gT25seSBgY2lkYCBpcyBleHBsaWNpdGx5IGV4bHVkZWQgZnJvbSBwcm9wZXJ0eSBmb3J3YXJkaW5nXG4gICAgICAvLyBiZWNhdXNlIHdlIGNhbm5vdCBkZXRlY3Qgd2hldGhlciBpdCBpcyBhIGluaGVyaXRlZCBwcm9wZXJ0eSBvciBub3RcbiAgICAgIC8vIG9uIHRoZSBubyBgX19wcm90b19fYCBlbnZpcm9ubWVudCBldmVuIHRob3VnaCB0aGUgcHJvcGVydHkgaXMgcmVzZXJ2ZWQuXG4gICAgICBpZiAoa2V5ID09PSAnY2lkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdXBlckRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFN1cGVyLCBrZXkpO1xuXG4gICAgICBpZiAoIWlzUHJpbWl0aXZlKGRlc2NyaXB0b3IudmFsdWUpICYmIHN1cGVyRGVzY3JpcHRvciAmJiBzdXBlckRlc2NyaXB0b3IudmFsdWUgPT09IGRlc2NyaXB0b3IudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gLy8gV2FybiBpZiB0aGUgdXNlcnMgbWFudWFsbHkgZGVjbGFyZSByZXNlcnZlZCBwcm9wZXJ0aWVzXG5cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHJlc2VydmVkUHJvcGVydHlOYW1lcy5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgd2FybihcIlN0YXRpYyBwcm9wZXJ0eSBuYW1lICdcIi5jb25jYXQoa2V5LCBcIicgZGVjbGFyZWQgb24gY2xhc3MgJ1wiKS5jb25jYXQoT3JpZ2luYWwubmFtZSwgXCInIFwiKSArICdjb25mbGljdHMgd2l0aCByZXNlcnZlZCBwcm9wZXJ0eSBuYW1lIG9mIFZ1ZSBpbnRlcm5hbC4gJyArICdJdCBtYXkgY2F1c2UgdW5leHBlY3RlZCBiZWhhdmlvciBvZiB0aGUgY29tcG9uZW50LiBDb25zaWRlciByZW5hbWluZyB0aGUgcHJvcGVydHkuJyk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV4dGVuZGVkLCBrZXksIGRlc2NyaXB0b3IpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gQ29tcG9uZW50KG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudEZhY3Rvcnkob3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbXBvbmVudCkge1xuICAgIHJldHVybiBjb21wb25lbnRGYWN0b3J5KENvbXBvbmVudCwgb3B0aW9ucyk7XG4gIH07XG59XG5cbkNvbXBvbmVudC5yZWdpc3Rlckhvb2tzID0gZnVuY3Rpb24gcmVnaXN0ZXJIb29rcyhrZXlzKSB7XG4gICRpbnRlcm5hbEhvb2tzLnB1c2guYXBwbHkoJGludGVybmFsSG9va3MsIF90b0NvbnN1bWFibGVBcnJheShrZXlzKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnQ7XG5leHBvcnQgeyBjcmVhdGVEZWNvcmF0b3IsIG1peGlucyB9O1xuIiwidmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG4vLyBDb2RlIGNvcGllZCBmcm9tIFZ1ZS9zcmMvc2hhcmVkL3V0aWwuanNcbnZhciBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XG52YXIgaHlwaGVuYXRlID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpOyB9O1xuLyoqXG4gKiBkZWNvcmF0b3Igb2YgYW4gZXZlbnQtZW1pdHRlciBmdW5jdGlvblxuICogQHBhcmFtICBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAqIEByZXR1cm4gTWV0aG9kRGVjb3JhdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBFbWl0KGV2ZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChfdGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICB2YXIga2V5ID0gaHlwaGVuYXRlKHByb3BlcnR5S2V5KTtcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uIGVtaXR0ZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAocmV0dXJuVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW1pdE5hbWUgPSBldmVudCB8fCBrZXk7XG4gICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdChlbWl0TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KGVtaXROYW1lLCBhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0LmFwcGx5KF90aGlzLCBfX3NwcmVhZEFycmF5cyhbZW1pdE5hbWVdLCBhcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0LmFwcGx5KF90aGlzLCBfX3NwcmVhZEFycmF5cyhbZW1pdE5hbWVdLCBhcmdzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShyZXR1cm5WYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZS50aGVuKGVtaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW1pdChyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgIH07XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgUHJvbWlzZSB8fCAob2JqICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJyk7XG59XG4iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJ2dWVcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1widnVlXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInZ1ZS1zbGlkZXItY29tcG9uZW50XCJdID0gZmFjdG9yeShyZXF1aXJlKFwidnVlXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ2dWUtc2xpZGVyLWNvbXBvbmVudFwiXSA9IGZhY3Rvcnkocm9vdFtcIlZ1ZVwiXSk7XG59KSgodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX184YmJmX18pIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiZmIxNVwiKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gXCIwOTFiXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiMjRmYlwiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcIi52dWUtc2xpZGVyLWRvdHtwb3NpdGlvbjphYnNvbHV0ZTstd2Via2l0LXRyYW5zaXRpb246YWxsIDBzO3RyYW5zaXRpb246YWxsIDBzO3otaW5kZXg6NX0udnVlLXNsaWRlci1kb3Q6Zm9jdXN7b3V0bGluZTpub25lfS52dWUtc2xpZGVyLWRvdC10b29sdGlwe3Bvc2l0aW9uOmFic29sdXRlO3Zpc2liaWxpdHk6aGlkZGVufS52dWUtc2xpZGVyLWRvdC1ob3Zlcjpob3ZlciAudnVlLXNsaWRlci1kb3QtdG9vbHRpcHt2aXNpYmlsaXR5OnZpc2libGV9LnZ1ZS1zbGlkZXItZG90LXRvb2x0aXAtc2hvd3t2aXNpYmlsaXR5OnZpc2libGV9LnZ1ZS1zbGlkZXItZG90LXRvb2x0aXAtdG9we3RvcDotMTBweDtsZWZ0OjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtMTAwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC0xMDAlKX0udnVlLXNsaWRlci1kb3QtdG9vbHRpcC1ib3R0b217Ym90dG9tOi0xMHB4O2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDEwMCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwxMDAlKX0udnVlLXNsaWRlci1kb3QtdG9vbHRpcC1sZWZ0e2xlZnQ6LTEwcHg7dG9wOjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTEwMCUsLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTAwJSwtNTAlKX0udnVlLXNsaWRlci1kb3QtdG9vbHRpcC1yaWdodHtyaWdodDotMTBweDt0b3A6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgxMDAlLC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMTAwJSwtNTAlKX1cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIjI0ZmJcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiMjYzOFwiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9leHRlbmRzKCl7cmV0dXJuIF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKylmb3IodmFyIGQgaW4gYj1hcmd1bWVudHNbY10sYilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYixkKSYmKGFbZF09YltkXSk7cmV0dXJuIGF9LF9leHRlbmRzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbm9ybWFsTWVyZ2U9W1wiYXR0cnNcIixcInByb3BzXCIsXCJkb21Qcm9wc1wiXSx0b0FycmF5TWVyZ2U9W1wiY2xhc3NcIixcInN0eWxlXCIsXCJkaXJlY3RpdmVzXCJdLGZ1bmN0aW9uYWxNZXJnZT1bXCJvblwiLFwibmF0aXZlT25cIl0sbWVyZ2VKc3hQcm9wcz1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZWR1Y2UoZnVuY3Rpb24oYyxhKXtmb3IodmFyIGIgaW4gYSlpZighY1tiXSljW2JdPWFbYl07ZWxzZSBpZigtMSE9PW5vcm1hbE1lcmdlLmluZGV4T2YoYikpY1tiXT1fZXh0ZW5kcyh7fSxjW2JdLGFbYl0pO2Vsc2UgaWYoLTEhPT10b0FycmF5TWVyZ2UuaW5kZXhPZihiKSl7dmFyIGQ9Y1tiXWluc3RhbmNlb2YgQXJyYXk/Y1tiXTpbY1tiXV0sZT1hW2JdaW5zdGFuY2VvZiBBcnJheT9hW2JdOlthW2JdXTtjW2JdPWQuY29uY2F0KGUpfWVsc2UgaWYoLTEhPT1mdW5jdGlvbmFsTWVyZ2UuaW5kZXhPZihiKSl7Zm9yKHZhciBmIGluIGFbYl0paWYoY1tiXVtmXSl7dmFyIGc9Y1tiXVtmXWluc3RhbmNlb2YgQXJyYXk/Y1tiXVtmXTpbY1tiXVtmXV0saD1hW2JdW2ZdaW5zdGFuY2VvZiBBcnJheT9hW2JdW2ZdOlthW2JdW2ZdXTtjW2JdW2ZdPWcuY29uY2F0KGgpfWVsc2UgY1tiXVtmXT1hW2JdW2ZdO31lbHNlIGlmKFwiaG9va1wiPT1iKWZvcih2YXIgaSBpbiBhW2JdKWNbYl1baV09Y1tiXVtpXT9tZXJnZUZuKGNbYl1baV0sYVtiXVtpXSk6YVtiXVtpXTtlbHNlIGNbYl09YVtiXTtyZXR1cm4gY30se30pfSxtZXJnZUZuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YSYmYS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYiYmYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTttb2R1bGUuZXhwb3J0cz1tZXJnZUpzeFByb3BzO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIjQ5OWVcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBFU00gQ09NUEFUIEZMQUdcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcblxuLy8gRVhQT1JUU1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIC8qIGJpbmRpbmcgKi8gYWRkU3R5bGVzQ2xpZW50OyB9KTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvbGlzdFRvU3R5bGVzLmpzXG4vKipcbiAqIFRyYW5zbGF0ZXMgdGhlIGxpc3QgZm9ybWF0IHByb2R1Y2VkIGJ5IGNzcy1sb2FkZXIgaW50byBzb21ldGhpbmdcbiAqIGVhc2llciB0byBtYW5pcHVsYXRlLlxuICovXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKHBhcmVudElkLCBsaXN0KSB7XG4gIHZhciBzdHlsZXMgPSBbXVxuICB2YXIgbmV3U3R5bGVzID0ge31cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldXG4gICAgdmFyIGlkID0gaXRlbVswXVxuICAgIHZhciBjc3MgPSBpdGVtWzFdXG4gICAgdmFyIG1lZGlhID0gaXRlbVsyXVxuICAgIHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdXG4gICAgdmFyIHBhcnQgPSB7XG4gICAgICBpZDogcGFyZW50SWQgKyAnOicgKyBpLFxuICAgICAgY3NzOiBjc3MsXG4gICAgICBtZWRpYTogbWVkaWEsXG4gICAgICBzb3VyY2VNYXA6IHNvdXJjZU1hcFxuICAgIH1cbiAgICBpZiAoIW5ld1N0eWxlc1tpZF0pIHtcbiAgICAgIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7IGlkOiBpZCwgcGFydHM6IFtwYXJ0XSB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlc1xufVxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiAgTW9kaWZpZWQgYnkgRXZhbiBZb3UgQHl5eDk5MDgwM1xuKi9cblxuXG5cbnZhciBoYXNEb2N1bWVudCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcblxuaWYgKHR5cGVvZiBERUJVRyAhPT0gJ3VuZGVmaW5lZCcgJiYgREVCVUcpIHtcbiAgaWYgKCFoYXNEb2N1bWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAndnVlLXN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50LiAnICtcbiAgICBcIlVzZSB7IHRhcmdldDogJ25vZGUnIH0gaW4geW91ciBXZWJwYWNrIGNvbmZpZyB0byBpbmRpY2F0ZSBhIHNlcnZlci1yZW5kZXJpbmcgZW52aXJvbm1lbnQuXCJcbiAgKSB9XG59XG5cbi8qXG50eXBlIFN0eWxlT2JqZWN0ID0ge1xuICBpZDogbnVtYmVyO1xuICBwYXJ0czogQXJyYXk8U3R5bGVPYmplY3RQYXJ0PlxufVxuXG50eXBlIFN0eWxlT2JqZWN0UGFydCA9IHtcbiAgY3NzOiBzdHJpbmc7XG4gIG1lZGlhOiBzdHJpbmc7XG4gIHNvdXJjZU1hcDogP3N0cmluZ1xufVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0gey8qXG4gIFtpZDogbnVtYmVyXToge1xuICAgIGlkOiBudW1iZXIsXG4gICAgcmVmczogbnVtYmVyLFxuICAgIHBhcnRzOiBBcnJheTwob2JqPzogU3R5bGVPYmplY3RQYXJ0KSA9PiB2b2lkPlxuICB9XG4qL31cblxudmFyIGhlYWQgPSBoYXNEb2N1bWVudCAmJiAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdKVxudmFyIHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsXG52YXIgc2luZ2xldG9uQ291bnRlciA9IDBcbnZhciBpc1Byb2R1Y3Rpb24gPSBmYWxzZVxudmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fVxudmFyIG9wdGlvbnMgPSBudWxsXG52YXIgc3NySWRLZXkgPSAnZGF0YS12dWUtc3NyLWlkJ1xuXG4vLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbi8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcbnZhciBpc09sZElFID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL21zaWUgWzYtOV1cXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNDbGllbnQgKHBhcmVudElkLCBsaXN0LCBfaXNQcm9kdWN0aW9uLCBfb3B0aW9ucykge1xuICBpc1Byb2R1Y3Rpb24gPSBfaXNQcm9kdWN0aW9uXG5cbiAgb3B0aW9ucyA9IF9vcHRpb25zIHx8IHt9XG5cbiAgdmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhwYXJlbnRJZCwgbGlzdClcbiAgYWRkU3R5bGVzVG9Eb20oc3R5bGVzKVxuXG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcbiAgICB2YXIgbWF5UmVtb3ZlID0gW11cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV1cbiAgICAgIHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdXG4gICAgICBkb21TdHlsZS5yZWZzLS1cbiAgICAgIG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKVxuICAgIH1cbiAgICBpZiAobmV3TGlzdCkge1xuICAgICAgc3R5bGVzID0gbGlzdFRvU3R5bGVzKHBhcmVudElkLCBuZXdMaXN0KVxuICAgICAgYWRkU3R5bGVzVG9Eb20oc3R5bGVzKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXMgPSBbXVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldXG4gICAgICBpZiAoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgZG9tU3R5bGUucGFydHNbal0oKVxuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcyAvKiBBcnJheTxTdHlsZU9iamVjdD4gKi8pIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IHN0eWxlc1tpXVxuICAgIHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdXG4gICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICBkb21TdHlsZS5yZWZzKytcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSlcbiAgICAgIH1cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0pKVxuICAgICAgfVxuICAgICAgaWYgKGRvbVN0eWxlLnBhcnRzLmxlbmd0aCA+IGl0ZW0ucGFydHMubGVuZ3RoKSB7XG4gICAgICAgIGRvbVN0eWxlLnBhcnRzLmxlbmd0aCA9IGl0ZW0ucGFydHMubGVuZ3RoXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwYXJ0cyA9IFtdXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgcGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdKSlcbiAgICAgIH1cbiAgICAgIHN0eWxlc0luRG9tW2l0ZW0uaWRdID0geyBpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50ICgpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgc3R5bGVFbGVtZW50LnR5cGUgPSAndGV4dC9jc3MnXG4gIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KVxuICByZXR1cm4gc3R5bGVFbGVtZW50XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmogLyogU3R5bGVPYmplY3RQYXJ0ICovKSB7XG4gIHZhciB1cGRhdGUsIHJlbW92ZVxuICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3R5bGVbJyArIHNzcklkS2V5ICsgJ349XCInICsgb2JqLmlkICsgJ1wiXScpXG5cbiAgaWYgKHN0eWxlRWxlbWVudCkge1xuICAgIGlmIChpc1Byb2R1Y3Rpb24pIHtcbiAgICAgIC8vIGhhcyBTU1Igc3R5bGVzIGFuZCBpbiBwcm9kdWN0aW9uIG1vZGUuXG4gICAgICAvLyBzaW1wbHkgZG8gbm90aGluZy5cbiAgICAgIHJldHVybiBub29wXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhhcyBTU1Igc3R5bGVzIGJ1dCBpbiBkZXYgbW9kZS5cbiAgICAgIC8vIGZvciBzb21lIHJlYXNvbiBDaHJvbWUgY2FuJ3QgaGFuZGxlIHNvdXJjZSBtYXAgaW4gc2VydmVyLXJlbmRlcmVkXG4gICAgICAvLyBzdHlsZSB0YWdzIC0gc291cmNlIG1hcHMgaW4gPHN0eWxlPiBvbmx5IHdvcmtzIGlmIHRoZSBzdHlsZSB0YWcgaXNcbiAgICAgIC8vIGNyZWF0ZWQgYW5kIGluc2VydGVkIGR5bmFtaWNhbGx5LiBTbyB3ZSByZW1vdmUgdGhlIHNlcnZlciByZW5kZXJlZFxuICAgICAgLy8gc3R5bGVzIGFuZCBpbmplY3QgbmV3IG9uZXMuXG4gICAgICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpXG4gICAgfVxuICB9XG5cbiAgaWYgKGlzT2xkSUUpIHtcbiAgICAvLyB1c2Ugc2luZ2xldG9uIG1vZGUgZm9yIElFOS5cbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrK1xuICAgIHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQoKSlcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSlcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKVxuICB9IGVsc2Uge1xuICAgIC8vIHVzZSBtdWx0aS1zdHlsZS10YWcgbW9kZSBpbiBhbGwgb3RoZXIgY2FzZXNcbiAgICBzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQoKVxuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZShvYmopXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmogLyogU3R5bGVPYmplY3RQYXJ0ICovKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcbiAgICAgICAgICBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuICAgICAgICAgIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKVxuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKVxuICAgIH1cbiAgfVxufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgdGV4dFN0b3JlID0gW11cblxuICByZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudFxuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpXG4gIH1cbn0pKClcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLmNzc1xuXG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKVxuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKVxuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXNcbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSlcbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZUVsZW1lbnQsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzc1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWFcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXBcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKVxuICB9XG4gIGlmIChvcHRpb25zLnNzcklkKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShzc3JJZEtleSwgb2JqLmlkKVxuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCkge1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZGV2dG9vbHMvZG9jcy9qYXZhc2NyaXB0LWRlYnVnZ2luZ1xuICAgIC8vIHRoaXMgbWFrZXMgc291cmNlIG1hcHMgaW5zaWRlIHN0eWxlIHRhZ3Mgd29yayBwcm9wZXJseSBpbiBDaHJvbWVcbiAgICBjc3MgKz0gJ1xcbi8qIyBzb3VyY2VVUkw9JyArIHNvdXJjZU1hcC5zb3VyY2VzWzBdICsgJyAqLydcbiAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuICAgIGNzcyArPSAnXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCwnICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArICcgKi8nXG4gIH1cblxuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzXG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpXG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKVxuICB9XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiNGFiYlwiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIjdhNTdcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIjQ5OWVcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcImIyYWY3NTcyXCIsIGNvbnRlbnQsIHRydWUsIHtcInNvdXJjZU1hcFwiOmZhbHNlLFwic2hhZG93TW9kZVwiOmZhbHNlfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIjRlZDhcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIwOTFiXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaSwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IF9fd2VicGFja19yZXF1aXJlX18oXCI0OTllXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIyZjZiZWUxYVwiLCBjb250ZW50LCB0cnVlLCB7XCJzb3VyY2VNYXBcIjpmYWxzZSxcInNoYWRvd01vZGVcIjpmYWxzZX0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCI1NTZjXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiZWVmMlwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiNDk5ZVwiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMTIwOWZkNDdcIiwgY29udGVudCwgdHJ1ZSwge1wic291cmNlTWFwXCI6ZmFsc2UsXCJzaGFkb3dNb2RlXCI6ZmFsc2V9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiNjVkOVwiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICAqIHZ1ZS1jbGFzcy1jb21wb25lbnQgdjcuMC4xXG4gICogKGMpIDIwMTUtcHJlc2VudCBFdmFuIFlvdVxuICAqIEBsaWNlbnNlIE1JVFxuICAqL1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdCAoZXgpIHsgcmV0dXJuIChleCAmJiAodHlwZW9mIGV4ID09PSAnb2JqZWN0JykgJiYgJ2RlZmF1bHQnIGluIGV4KSA/IGV4WydkZWZhdWx0J10gOiBleDsgfVxuXG52YXIgVnVlID0gX2ludGVyb3BEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oXCI4YmJmXCIpKTtcblxuLy8gVGhlIHJhdGlvbmFsIGJlaGluZCB0aGUgdmVyYm9zZSBSZWZsZWN0LWZlYXR1cmUgY2hlY2sgYmVsb3cgaXMgdGhlIGZhY3QgdGhhdCB0aGVyZSBhcmUgcG9seWZpbGxzXG4vLyB3aGljaCBhZGQgYW4gaW1wbGVtZW50YXRpb24gZm9yIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEgYnV0IG5vdCBmb3IgUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMuXG4vLyBXaXRob3V0IHRoaXMgY2hlY2sgY29uc3VtZXJzIHdpbGwgZW5jb3VudGVyIGhhcmQgdG8gdHJhY2sgZG93biBydW50aW1lIGVycm9ycy5cbnZhciByZWZsZWN0aW9uSXNTdXBwb3J0ZWQgPSB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YSAmJiBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cztcbmZ1bmN0aW9uIGNvcHlSZWZsZWN0aW9uTWV0YWRhdGEodG8sIGZyb20pIHtcbiAgICBmb3J3YXJkTWV0YWRhdGEodG8sIGZyb20pO1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGZyb20ucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZm9yd2FyZE1ldGFkYXRhKHRvLnByb3RvdHlwZSwgZnJvbS5wcm90b3R5cGUsIGtleSk7XG4gICAgfSk7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZnJvbSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGZvcndhcmRNZXRhZGF0YSh0bywgZnJvbSwga2V5KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZvcndhcmRNZXRhZGF0YSh0bywgZnJvbSwgcHJvcGVydHlLZXkpIHtcbiAgICB2YXIgbWV0YUtleXMgPSBwcm9wZXJ0eUtleVxuICAgICAgICA/IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKGZyb20sIHByb3BlcnR5S2V5KVxuICAgICAgICA6IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKGZyb20pO1xuICAgIG1ldGFLZXlzLmZvckVhY2goZnVuY3Rpb24gKG1ldGFLZXkpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gcHJvcGVydHlLZXlcbiAgICAgICAgICAgID8gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShtZXRhS2V5LCBmcm9tLCBwcm9wZXJ0eUtleSlcbiAgICAgICAgICAgIDogUmVmbGVjdC5nZXRPd25NZXRhZGF0YShtZXRhS2V5LCBmcm9tKTtcbiAgICAgICAgaWYgKHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKG1ldGFLZXksIG1ldGFkYXRhLCB0bywgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShtZXRhS2V5LCBtZXRhZGF0YSwgdG8pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbnZhciBmYWtlQXJyYXkgPSB7IF9fcHJvdG9fXzogW10gfTtcbnZhciBoYXNQcm90byA9IGZha2VBcnJheSBpbnN0YW5jZW9mIEFycmF5O1xuZnVuY3Rpb24gY3JlYXRlRGVjb3JhdG9yKGZhY3RvcnkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5LCBpbmRleCkge1xuICAgICAgICB2YXIgQ3RvciA9IHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gdGFyZ2V0XG4gICAgICAgICAgICA6IHRhcmdldC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKCFDdG9yLl9fZGVjb3JhdG9yc19fKSB7XG4gICAgICAgICAgICBDdG9yLl9fZGVjb3JhdG9yc19fID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGluZGV4ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIEN0b3IuX19kZWNvcmF0b3JzX18ucHVzaChmdW5jdGlvbiAob3B0aW9ucykgeyByZXR1cm4gZmFjdG9yeShvcHRpb25zLCBrZXksIGluZGV4KTsgfSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1peGlucygpIHtcbiAgICB2YXIgQ3RvcnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBDdG9yc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gVnVlLmV4dGVuZCh7IG1peGluczogQ3RvcnMgfSk7XG59XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsIHx8ICh0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlICE9PSAnZnVuY3Rpb24nKTtcbn1cbmZ1bmN0aW9uIHdhcm4obWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbdnVlLWNsYXNzLWNvbXBvbmVudF0gJyArIG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdERhdGFGcm9tQ29uc3RydWN0b3Iodm0sIENvbXBvbmVudCkge1xuICAgIC8vIG92ZXJyaWRlIF9pbml0IHRvIHByZXZlbnQgdG8gaW5pdCBhcyBWdWUgaW5zdGFuY2VcbiAgICB2YXIgb3JpZ2luYWxJbml0ID0gQ29tcG9uZW50LnByb3RvdHlwZS5faW5pdDtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBwcm94eSB0byBhY3R1YWwgdm1cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2bSk7XG4gICAgICAgIC8vIDIuMi4wIGNvbXBhdCAocHJvcHMgYXJlIG5vIGxvbmdlciBleHBvc2VkIGFzIHNlbGYgcHJvcGVydGllcylcbiAgICAgICAgaWYgKHZtLiRvcHRpb25zLnByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdm0uJG9wdGlvbnMucHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZtLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSAhPT0gJ18nKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2bVtrZXldOyB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB2bVtrZXldID0gdmFsdWU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIHNob3VsZCBiZSBhY3F1aXJlZCBjbGFzcyBwcm9wZXJ0eSB2YWx1ZXNcbiAgICB2YXIgZGF0YSA9IG5ldyBDb21wb25lbnQoKTtcbiAgICAvLyByZXN0b3JlIG9yaWdpbmFsIF9pbml0IHRvIGF2b2lkIG1lbW9yeSBsZWFrICgjMjA5KVxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuX2luaXQgPSBvcmlnaW5hbEluaXQ7XG4gICAgLy8gY3JlYXRlIHBsYWluIGRhdGEgb2JqZWN0XG4gICAgdmFyIHBsYWluRGF0YSA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBsYWluRGF0YVtrZXldID0gZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGZhbHNlKSB7fVxuICAgIHJldHVybiBwbGFpbkRhdGE7XG59XG5cbnZhciAkaW50ZXJuYWxIb29rcyA9IFtcbiAgICAnZGF0YScsXG4gICAgJ2JlZm9yZUNyZWF0ZScsXG4gICAgJ2NyZWF0ZWQnLFxuICAgICdiZWZvcmVNb3VudCcsXG4gICAgJ21vdW50ZWQnLFxuICAgICdiZWZvcmVEZXN0cm95JyxcbiAgICAnZGVzdHJveWVkJyxcbiAgICAnYmVmb3JlVXBkYXRlJyxcbiAgICAndXBkYXRlZCcsXG4gICAgJ2FjdGl2YXRlZCcsXG4gICAgJ2RlYWN0aXZhdGVkJyxcbiAgICAncmVuZGVyJyxcbiAgICAnZXJyb3JDYXB0dXJlZCcsXG4gICAgJ3NlcnZlclByZWZldGNoJyAvLyAyLjZcbl07XG5mdW5jdGlvbiBjb21wb25lbnRGYWN0b3J5KENvbXBvbmVudCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgb3B0aW9ucy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8IENvbXBvbmVudC5fY29tcG9uZW50VGFnIHx8IENvbXBvbmVudC5uYW1lO1xuICAgIC8vIHByb3RvdHlwZSBwcm9wcy5cbiAgICB2YXIgcHJvdG8gPSBDb21wb25lbnQucHJvdG90eXBlO1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhvb2tzXG4gICAgICAgIGlmICgkaW50ZXJuYWxIb29rcy5pbmRleE9mKGtleSkgPiAtMSkge1xuICAgICAgICAgICAgb3B0aW9uc1trZXldID0gcHJvdG9ba2V5XTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIGtleSk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIC8vIG1ldGhvZHNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIChvcHRpb25zLm1ldGhvZHMgfHwgKG9wdGlvbnMubWV0aG9kcyA9IHt9KSlba2V5XSA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0eXBlc2NyaXB0IGRlY29yYXRlZCBkYXRhXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMubWl4aW5zIHx8IChvcHRpb25zLm1peGlucyA9IFtdKSkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYSA9IHt9LCBfYVtrZXldID0gZGVzY3JpcHRvci52YWx1ZSwgX2E7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXNjcmlwdG9yLmdldCB8fCBkZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgLy8gY29tcHV0ZWQgcHJvcGVydGllc1xuICAgICAgICAgICAgKG9wdGlvbnMuY29tcHV0ZWQgfHwgKG9wdGlvbnMuY29tcHV0ZWQgPSB7fSkpW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgZ2V0OiBkZXNjcmlwdG9yLmdldCxcbiAgICAgICAgICAgICAgICBzZXQ6IGRlc2NyaXB0b3Iuc2V0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgKG9wdGlvbnMubWl4aW5zIHx8IChvcHRpb25zLm1peGlucyA9IFtdKSkucHVzaCh7XG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0RGF0YUZyb21Db25zdHJ1Y3Rvcih0aGlzLCBDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gZGVjb3JhdGUgb3B0aW9uc1xuICAgIHZhciBkZWNvcmF0b3JzID0gQ29tcG9uZW50Ll9fZGVjb3JhdG9yc19fO1xuICAgIGlmIChkZWNvcmF0b3JzKSB7XG4gICAgICAgIGRlY29yYXRvcnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKG9wdGlvbnMpOyB9KTtcbiAgICAgICAgZGVsZXRlIENvbXBvbmVudC5fX2RlY29yYXRvcnNfXztcbiAgICB9XG4gICAgLy8gZmluZCBzdXBlclxuICAgIHZhciBzdXBlclByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbXBvbmVudC5wcm90b3R5cGUpO1xuICAgIHZhciBTdXBlciA9IHN1cGVyUHJvdG8gaW5zdGFuY2VvZiBWdWVcbiAgICAgICAgPyBzdXBlclByb3RvLmNvbnN0cnVjdG9yXG4gICAgICAgIDogVnVlO1xuICAgIHZhciBFeHRlbmRlZCA9IFN1cGVyLmV4dGVuZChvcHRpb25zKTtcbiAgICBmb3J3YXJkU3RhdGljTWVtYmVycyhFeHRlbmRlZCwgQ29tcG9uZW50LCBTdXBlcik7XG4gICAgaWYgKHJlZmxlY3Rpb25Jc1N1cHBvcnRlZCkge1xuICAgICAgICBjb3B5UmVmbGVjdGlvbk1ldGFkYXRhKEV4dGVuZGVkLCBDb21wb25lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gRXh0ZW5kZWQ7XG59XG52YXIgcmVzZXJ2ZWRQcm9wZXJ0eU5hbWVzID0gW1xuICAgIC8vIFVuaXF1ZSBpZFxuICAgICdjaWQnLFxuICAgIC8vIFN1cGVyIFZ1ZSBjb25zdHJ1Y3RvclxuICAgICdzdXBlcicsXG4gICAgLy8gQ29tcG9uZW50IG9wdGlvbnMgdGhhdCB3aWxsIGJlIHVzZWQgYnkgdGhlIGNvbXBvbmVudFxuICAgICdvcHRpb25zJyxcbiAgICAnc3VwZXJPcHRpb25zJyxcbiAgICAnZXh0ZW5kT3B0aW9ucycsXG4gICAgJ3NlYWxlZE9wdGlvbnMnLFxuICAgIC8vIFByaXZhdGUgYXNzZXRzXG4gICAgJ2NvbXBvbmVudCcsXG4gICAgJ2RpcmVjdGl2ZScsXG4gICAgJ2ZpbHRlcidcbl07XG5mdW5jdGlvbiBmb3J3YXJkU3RhdGljTWVtYmVycyhFeHRlbmRlZCwgT3JpZ2luYWwsIFN1cGVyKSB7XG4gICAgLy8gV2UgaGF2ZSB0byB1c2UgZ2V0T3duUHJvcGVydHlOYW1lcyBzaW5jZSBCYWJlbCByZWdpc3RlcnMgbWV0aG9kcyBhcyBub24tZW51bWVyYWJsZVxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9yaWdpbmFsKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgLy8gYHByb3RvdHlwZWAgc2hvdWxkIG5vdCBiZSBvdmVyd3JpdHRlblxuICAgICAgICBpZiAoa2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9lcyBub3QgYWxsb3cgcmVjb25maWd1cmUgYnVpbHQtaW4gcHJvcGVydGllc1xuICAgICAgICB2YXIgZXh0ZW5kZWREZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFeHRlbmRlZCwga2V5KTtcbiAgICAgICAgaWYgKGV4dGVuZGVkRGVzY3JpcHRvciAmJiAhZXh0ZW5kZWREZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPcmlnaW5hbCwga2V5KTtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgYWdlbnQgZG9lcyBub3Qgc3VwcG9ydCBgX19wcm90b19fYCBvciBpdHMgZmFtaWx5IChJRSA8PSAxMCksXG4gICAgICAgIC8vIHRoZSBzdWIgY2xhc3MgcHJvcGVydGllcyBtYXkgYmUgaW5oZXJpdGVkIHByb3BlcnRpZXMgZnJvbSB0aGUgc3VwZXIgY2xhc3MgaW4gVHlwZVNjcmlwdC5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBleGNsdWRlIHN1Y2ggcHJvcGVydGllcyB0byBwcmV2ZW50IHRvIG92ZXJ3cml0ZVxuICAgICAgICAvLyB0aGUgY29tcG9uZW50IG9wdGlvbnMgb2JqZWN0IHdoaWNoIHN0b3JlZCBvbiB0aGUgZXh0ZW5kZWQgY29uc3RydWN0b3IgKFNlZSAjMTkyKS5cbiAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGEgcmVmZXJlbmNlZCB2YWx1ZSAob2JqZWN0IG9yIGZ1bmN0aW9uKSxcbiAgICAgICAgLy8gd2UgY2FuIGNoZWNrIGVxdWFsaXR5IG9mIHRoZW0gYW5kIGV4Y2x1ZGUgaXQgaWYgdGhleSBoYXZlIHRoZSBzYW1lIHJlZmVyZW5jZS5cbiAgICAgICAgLy8gSWYgaXQgaXMgYSBwcmltaXRpdmUgdmFsdWUsIGl0IHdpbGwgYmUgZm9yd2FyZGVkIGZvciBzYWZldHkuXG4gICAgICAgIGlmICghaGFzUHJvdG8pIHtcbiAgICAgICAgICAgIC8vIE9ubHkgYGNpZGAgaXMgZXhwbGljaXRseSBleGx1ZGVkIGZyb20gcHJvcGVydHkgZm9yd2FyZGluZ1xuICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW5ub3QgZGV0ZWN0IHdoZXRoZXIgaXQgaXMgYSBpbmhlcml0ZWQgcHJvcGVydHkgb3Igbm90XG4gICAgICAgICAgICAvLyBvbiB0aGUgbm8gYF9fcHJvdG9fX2AgZW52aXJvbm1lbnQgZXZlbiB0aG91Z2ggdGhlIHByb3BlcnR5IGlzIHJlc2VydmVkLlxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NpZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3VwZXJEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTdXBlciwga2V5KTtcbiAgICAgICAgICAgIGlmICghaXNQcmltaXRpdmUoZGVzY3JpcHRvci52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgICBzdXBlckRlc2NyaXB0b3IgJiZcbiAgICAgICAgICAgICAgICBzdXBlckRlc2NyaXB0b3IudmFsdWUgPT09IGRlc2NyaXB0b3IudmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2FybiBpZiB0aGUgdXNlcnMgbWFudWFsbHkgZGVjbGFyZSByZXNlcnZlZCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmIChmYWxzZSkge31cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV4dGVuZGVkLCBrZXksIGRlc2NyaXB0b3IpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBDb21wb25lbnQob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50RmFjdG9yeShvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChDb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudEZhY3RvcnkoQ29tcG9uZW50LCBvcHRpb25zKTtcbiAgICB9O1xufVxuQ29tcG9uZW50LnJlZ2lzdGVySG9va3MgPSBmdW5jdGlvbiByZWdpc3Rlckhvb2tzKGtleXMpIHtcbiAgICAkaW50ZXJuYWxIb29rcy5wdXNoLmFwcGx5KCRpbnRlcm5hbEhvb2tzLCBrZXlzKTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbXBvbmVudDtcbmV4cG9ydHMuY3JlYXRlRGVjb3JhdG9yID0gY3JlYXRlRGVjb3JhdG9yO1xuZXhwb3J0cy5taXhpbnMgPSBtaXhpbnM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiN2E1N1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIjI0ZmJcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaSwgXCIudnVlLXNsaWRlcntwb3NpdGlvbjpyZWxhdGl2ZTstd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ZGlzcGxheTpibG9jazstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiYSgwLDAsMCwwKX0udnVlLXNsaWRlci1yYWlse3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5OndpZHRoLGhlaWdodCxsZWZ0LHJpZ2h0LHRvcCxib3R0b207dHJhbnNpdGlvbi1wcm9wZXJ0eTp3aWR0aCxoZWlnaHQsbGVmdCxyaWdodCx0b3AsYm90dG9tfS52dWUtc2xpZGVyLXByb2Nlc3N7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxfVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiODg3NVwiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvLyBhZGRhcHRlZCBmcm9tIHRoZSBkb2N1bWVudC5jdXJyZW50U2NyaXB0IHBvbHlmaWxsIGJ5IEFkYW0gTWlsbGVyXG4vLyBNSVQgbGljZW5zZVxuLy8gc291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vYW1pbGxlci1naC9jdXJyZW50U2NyaXB0LXBvbHlmaWxsXG5cbi8vIGFkZGVkIHN1cHBvcnQgZm9yIEZpcmVmb3ggaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTYyMDUwNVxuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHRydWUpIHtcbiAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID9cblx0XHRcdFx0KF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG4gIH0gZWxzZSB7fVxufSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBnZXRDdXJyZW50U2NyaXB0ICgpIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZG9jdW1lbnQsICdjdXJyZW50U2NyaXB0JylcbiAgICAvLyBmb3IgY2hyb21lXG4gICAgaWYgKCFkZXNjcmlwdG9yICYmICdjdXJyZW50U2NyaXB0JyBpbiBkb2N1bWVudCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3VycmVudFNjcmlwdFxuICAgIH1cblxuICAgIC8vIGZvciBvdGhlciBicm93c2VycyB3aXRoIG5hdGl2ZSBzdXBwb3J0IGZvciBjdXJyZW50U2NyaXB0XG4gICAgaWYgKGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5nZXQgIT09IGdldEN1cnJlbnRTY3JpcHQgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmN1cnJlbnRTY3JpcHRcbiAgICB9XG4gIFxuICAgIC8vIElFIDgtMTAgc3VwcG9ydCBzY3JpcHQgcmVhZHlTdGF0ZVxuICAgIC8vIElFIDExKyAmIEZpcmVmb3ggc3VwcG9ydCBzdGFjayB0cmFjZVxuICAgIHRyeSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgLy8gRmluZCB0aGUgc2Vjb25kIG1hdGNoIGZvciB0aGUgXCJhdFwiIHN0cmluZyB0byBnZXQgZmlsZSBzcmMgdXJsIGZyb20gc3RhY2suXG4gICAgICB2YXIgaWVTdGFja1JlZ0V4cCA9IC8uKmF0IFteKF0qXFwoKC4qKTooLispOiguKylcXCkkL2lnLFxuICAgICAgICBmZlN0YWNrUmVnRXhwID0gL0AoW15AXSopOihcXGQrKTooXFxkKylcXHMqJC9pZyxcbiAgICAgICAgc3RhY2tEZXRhaWxzID0gaWVTdGFja1JlZ0V4cC5leGVjKGVyci5zdGFjaykgfHwgZmZTdGFja1JlZ0V4cC5leGVjKGVyci5zdGFjayksXG4gICAgICAgIHNjcmlwdExvY2F0aW9uID0gKHN0YWNrRGV0YWlscyAmJiBzdGFja0RldGFpbHNbMV0pIHx8IGZhbHNlLFxuICAgICAgICBsaW5lID0gKHN0YWNrRGV0YWlscyAmJiBzdGFja0RldGFpbHNbMl0pIHx8IGZhbHNlLFxuICAgICAgICBjdXJyZW50TG9jYXRpb24gPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoZG9jdW1lbnQubG9jYXRpb24uaGFzaCwgJycpLFxuICAgICAgICBwYWdlU291cmNlLFxuICAgICAgICBpbmxpbmVTY3JpcHRTb3VyY2VSZWdFeHAsXG4gICAgICAgIGlubGluZVNjcmlwdFNvdXJjZSxcbiAgICAgICAgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTsgLy8gTGl2ZSBOb2RlTGlzdCBjb2xsZWN0aW9uXG4gIFxuICAgICAgaWYgKHNjcmlwdExvY2F0aW9uID09PSBjdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgcGFnZVNvdXJjZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7XG4gICAgICAgIGlubGluZVNjcmlwdFNvdXJjZVJlZ0V4cCA9IG5ldyBSZWdFeHAoJyg/OlteXFxcXG5dKz9cXFxcbil7MCwnICsgKGxpbmUgLSAyKSArICd9W148XSo8c2NyaXB0PihbXFxcXGRcXFxcRF0qPyk8XFxcXC9zY3JpcHQ+W1xcXFxkXFxcXERdKicsICdpJyk7XG4gICAgICAgIGlubGluZVNjcmlwdFNvdXJjZSA9IHBhZ2VTb3VyY2UucmVwbGFjZShpbmxpbmVTY3JpcHRTb3VyY2VSZWdFeHAsICckMScpLnRyaW0oKTtcbiAgICAgIH1cbiAgXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gSWYgcmVhZHkgc3RhdGUgaXMgaW50ZXJhY3RpdmUsIHJldHVybiB0aGUgc2NyaXB0IHRhZ1xuICAgICAgICBpZiAoc2NyaXB0c1tpXS5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7XG4gICAgICAgICAgcmV0dXJuIHNjcmlwdHNbaV07XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIElmIHNyYyBtYXRjaGVzLCByZXR1cm4gdGhlIHNjcmlwdCB0YWdcbiAgICAgICAgaWYgKHNjcmlwdHNbaV0uc3JjID09PSBzY3JpcHRMb2NhdGlvbikge1xuICAgICAgICAgIHJldHVybiBzY3JpcHRzW2ldO1xuICAgICAgICB9XG4gIFxuICAgICAgICAvLyBJZiBpbmxpbmUgc291cmNlIG1hdGNoZXMsIHJldHVybiB0aGUgc2NyaXB0IHRhZ1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2NyaXB0TG9jYXRpb24gPT09IGN1cnJlbnRMb2NhdGlvbiAmJlxuICAgICAgICAgIHNjcmlwdHNbaV0uaW5uZXJIVE1MICYmXG4gICAgICAgICAgc2NyaXB0c1tpXS5pbm5lckhUTUwudHJpbSgpID09PSBpbmxpbmVTY3JpcHRTb3VyY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHNjcmlwdHNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICAvLyBJZiBubyBtYXRjaCwgcmV0dXJuIG51bGxcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZ2V0Q3VycmVudFNjcmlwdFxufSkpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIjhiYmZcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX184YmJmX187XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcImVlZjJcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIyNGZiXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmksIFwiLnZ1ZS1zbGlkZXItbWFya3N7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0udnVlLXNsaWRlci1tYXJre3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MX0udnVlLXNsaWRlci1sdHIgLnZ1ZS1zbGlkZXItbWFyaywudnVlLXNsaWRlci1ydGwgLnZ1ZS1zbGlkZXItbWFya3t3aWR0aDowO2hlaWdodDoxMDAlO3RvcDo1MCV9LnZ1ZS1zbGlkZXItbHRyIC52dWUtc2xpZGVyLW1hcmstc3RlcCwudnVlLXNsaWRlci1ydGwgLnZ1ZS1zbGlkZXItbWFyay1zdGVwe3RvcDowfS52dWUtc2xpZGVyLWx0ciAudnVlLXNsaWRlci1tYXJrLWxhYmVsLC52dWUtc2xpZGVyLXJ0bCAudnVlLXNsaWRlci1tYXJrLWxhYmVse3RvcDoxMDAlO21hcmdpbi10b3A6MTBweH0udnVlLXNsaWRlci1sdHIgLnZ1ZS1zbGlkZXItbWFya3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9LnZ1ZS1zbGlkZXItbHRyIC52dWUtc2xpZGVyLW1hcmstc3RlcHtsZWZ0OjB9LnZ1ZS1zbGlkZXItbHRyIC52dWUtc2xpZGVyLW1hcmstbGFiZWx7bGVmdDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKX0udnVlLXNsaWRlci1ydGwgLnZ1ZS1zbGlkZXItbWFya3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLC01MCUpfS52dWUtc2xpZGVyLXJ0bCAudnVlLXNsaWRlci1tYXJrLXN0ZXB7cmlnaHQ6MH0udnVlLXNsaWRlci1ydGwgLnZ1ZS1zbGlkZXItbWFyay1sYWJlbHtyaWdodDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCg1MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDUwJSl9LnZ1ZS1zbGlkZXItYnR0IC52dWUtc2xpZGVyLW1hcmssLnZ1ZS1zbGlkZXItdHRiIC52dWUtc2xpZGVyLW1hcmt7d2lkdGg6MTAwJTtoZWlnaHQ6MDtsZWZ0OjUwJX0udnVlLXNsaWRlci1idHQgLnZ1ZS1zbGlkZXItbWFyay1zdGVwLC52dWUtc2xpZGVyLXR0YiAudnVlLXNsaWRlci1tYXJrLXN0ZXB7bGVmdDowfS52dWUtc2xpZGVyLWJ0dCAudnVlLXNsaWRlci1tYXJrLWxhYmVsLC52dWUtc2xpZGVyLXR0YiAudnVlLXNsaWRlci1tYXJrLWxhYmVse2xlZnQ6MTAwJTttYXJnaW4tbGVmdDoxMHB4fS52dWUtc2xpZGVyLWJ0dCAudnVlLXNsaWRlci1tYXJrey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDUwJSl9LnZ1ZS1zbGlkZXItYnR0IC52dWUtc2xpZGVyLW1hcmstc3RlcHt0b3A6MH0udnVlLXNsaWRlci1idHQgLnZ1ZS1zbGlkZXItbWFyay1sYWJlbHt0b3A6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9LnZ1ZS1zbGlkZXItdHRiIC52dWUtc2xpZGVyLW1hcmt7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS52dWUtc2xpZGVyLXR0YiAudnVlLXNsaWRlci1tYXJrLXN0ZXB7Ym90dG9tOjB9LnZ1ZS1zbGlkZXItdHRiIC52dWUtc2xpZGVyLW1hcmstbGFiZWx7Ym90dG9tOjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNTAlKX0udnVlLXNsaWRlci1tYXJrLWxhYmVsLC52dWUtc2xpZGVyLW1hcmstc3RlcHtwb3NpdGlvbjphYnNvbHV0ZX1cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcImZiMTVcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBFU00gQ09NUEFUIEZMQUdcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcblxuLy8gRVhQT1JUU1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRVJST1JfVFlQRVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIC8qIHJlZXhwb3J0ICovIEVSUk9SX1RZUEU7IH0pO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVnVlU2xpZGVyTWFya1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIC8qIHJlZXhwb3J0ICovIHZ1ZV9zbGlkZXJfbWFyazsgfSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWdWVTbGlkZXJEb3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiAvKiByZWV4cG9ydCAqLyB2dWVfc2xpZGVyX2RvdDsgfSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0B2dWUvY2xpLXNlcnZpY2UvbGliL2NvbW1hbmRzL2J1aWxkL3NldFB1YmxpY1BhdGguanNcbi8vIFRoaXMgZmlsZSBpcyBpbXBvcnRlZCBpbnRvIGxpYi93YyBjbGllbnQgYnVuZGxlcy5cblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHZhciBjdXJyZW50U2NyaXB0ID0gd2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHRcbiAgaWYgKHRydWUpIHtcbiAgICB2YXIgZ2V0Q3VycmVudFNjcmlwdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCI4ODc1XCIpXG4gICAgY3VycmVudFNjcmlwdCA9IGdldEN1cnJlbnRTY3JpcHQoKVxuXG4gICAgLy8gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGJlY2F1c2UgcHJldmlvdXNseSB3ZSBkaXJlY3RseSBpbmNsdWRlZCB0aGUgcG9seWZpbGxcbiAgICBpZiAoISgnY3VycmVudFNjcmlwdCcgaW4gZG9jdW1lbnQpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICdjdXJyZW50U2NyaXB0JywgeyBnZXQ6IGdldEN1cnJlbnRTY3JpcHQgfSlcbiAgICB9XG4gIH1cblxuICB2YXIgc3JjID0gY3VycmVudFNjcmlwdCAmJiBjdXJyZW50U2NyaXB0LnNyYy5tYXRjaCgvKC4rXFwvKVteL10rXFwuanMoXFw/LiopPyQvKVxuICBpZiAoc3JjKSB7XG4gICAgX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc3JjWzFdIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfVxufVxuXG4vLyBJbmRpY2F0ZSB0byB3ZWJwYWNrIHRoYXQgdGhpcyBmaWxlIGNhbiBiZSBjb25jYXRlbmF0ZWRcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHNldFB1YmxpY1BhdGggPSAobnVsbCk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wcy9kaXN0L2hlbHBlci5qc1xudmFyIGhlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oXCIyNjM4XCIpO1xudmFyIGhlbHBlcl9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihoZWxwZXIpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanNcbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInZ1ZVwiLFwiY29tbW9uanMyXCI6XCJ2dWVcIixcInJvb3RcIjpcIlZ1ZVwiLFwiYW1kXCI6XCJ2dWVcIn1cbnZhciBleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9yb290X1Z1ZV9hbWRfdnVlXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCI4YmJmXCIpO1xudmFyIGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX3Jvb3RfVnVlX2FtZF92dWVfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfcm9vdF9WdWVfYW1kX3Z1ZV8pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3Z1ZS1jbGFzcy1jb21wb25lbnQvZGlzdC92dWUtY2xhc3MtY29tcG9uZW50LmNvbW1vbi5qc1xudmFyIHZ1ZV9jbGFzc19jb21wb25lbnRfY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIjY1ZDlcIik7XG52YXIgdnVlX2NsYXNzX2NvbXBvbmVudF9jb21tb25fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odnVlX2NsYXNzX2NvbXBvbmVudF9jb21tb24pO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy92dWUtcHJvcGVydHktZGVjb3JhdG9yL2xpYi92dWUtcHJvcGVydHktZGVjb3JhdG9yLmpzXG4vKiogdnVlLXByb3BlcnR5LWRlY29yYXRvciB2ZXJzb24gOC4xLjAgTUlUIExJQ0VOU0UgY29weXJpZ2h0IDIwMTgga2FvcnVuMzQzICovXG4vLy8gPHJlZmVyZW5jZSB0eXBlcz0ncmVmbGVjdC1tZXRhZGF0YScvPlxuXG5cblxuXG4vKipcbiAqIGRlY29yYXRvciBvZiBhbiBpbmplY3RcbiAqIEBwYXJhbSBmcm9tIGtleVxuICogQHJldHVybiBQcm9wZXJ0eURlY29yYXRvclxuICovXG5mdW5jdGlvbiBJbmplY3Qob3B0aW9ucykge1xuICAgIHJldHVybiBPYmplY3QodnVlX2NsYXNzX2NvbXBvbmVudF9jb21tb25bXCJjcmVhdGVEZWNvcmF0b3JcIl0pKGZ1bmN0aW9uIChjb21wb25lbnRPcHRpb25zLCBrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRPcHRpb25zLmluamVjdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudE9wdGlvbnMuaW5qZWN0ID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbXBvbmVudE9wdGlvbnMuaW5qZWN0KSkge1xuICAgICAgICAgICAgY29tcG9uZW50T3B0aW9ucy5pbmplY3Rba2V5XSA9IG9wdGlvbnMgfHwga2V5O1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIGRlY29yYXRvciBvZiBhIHByb3ZpZGVcbiAqIEBwYXJhbSBrZXkga2V5XG4gKiBAcmV0dXJuIFByb3BlcnR5RGVjb3JhdG9yIHwgdm9pZFxuICovXG5mdW5jdGlvbiBQcm92aWRlKGtleSkge1xuICAgIHJldHVybiBPYmplY3QodnVlX2NsYXNzX2NvbXBvbmVudF9jb21tb25bXCJjcmVhdGVEZWNvcmF0b3JcIl0pKGZ1bmN0aW9uIChjb21wb25lbnRPcHRpb25zLCBrKSB7XG4gICAgICAgIHZhciBwcm92aWRlID0gY29tcG9uZW50T3B0aW9ucy5wcm92aWRlO1xuICAgICAgICBpZiAodHlwZW9mIHByb3ZpZGUgIT09ICdmdW5jdGlvbicgfHwgIXByb3ZpZGUubWFuYWdlZCkge1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsXzEgPSBjb21wb25lbnRPcHRpb25zLnByb3ZpZGU7XG4gICAgICAgICAgICBwcm92aWRlID0gY29tcG9uZW50T3B0aW9ucy5wcm92aWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBydiA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBvcmlnaW5hbF8xID09PSAnZnVuY3Rpb24nID8gb3JpZ2luYWxfMS5jYWxsKHRoaXMpIDogb3JpZ2luYWxfMSkgfHwgbnVsbCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBwcm92aWRlLm1hbmFnZWQpXG4gICAgICAgICAgICAgICAgICAgIHJ2W3Byb3ZpZGUubWFuYWdlZFtpXV0gPSB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwcm92aWRlLm1hbmFnZWQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBwcm92aWRlLm1hbmFnZWRba10gPSBrZXkgfHwgaztcbiAgICB9KTtcbn1cbi8qKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlLWNsYXNzLWNvbXBvbmVudC9ibG9iL21hc3Rlci9zcmMvcmVmbGVjdC50c30gKi9cbnZhciByZWZsZWN0TWV0YWRhdGFJc1N1cHBvcnRlZCA9IHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgUmVmbGVjdC5nZXRNZXRhZGF0YSAhPT0gJ3VuZGVmaW5lZCc7XG5mdW5jdGlvbiBhcHBseU1ldGFkYXRhKG9wdGlvbnMsIHRhcmdldCwga2V5KSB7XG4gICAgaWYgKHJlZmxlY3RNZXRhZGF0YUlzU3VwcG9ydGVkKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvcHRpb25zKSAmJiB0eXBlb2Ygb3B0aW9ucyAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb3B0aW9ucy50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb3B0aW9ucy50eXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIGtleSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIGRlY29yYXRvciBvZiBtb2RlbFxuICogQHBhcmFtICBldmVudCBldmVudCBuYW1lXG4gKiBAcGFyYW0gb3B0aW9ucyBvcHRpb25zXG4gKiBAcmV0dXJuIFByb3BlcnR5RGVjb3JhdG9yXG4gKi9cbmZ1bmN0aW9uIE1vZGVsKGV2ZW50LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XG4gICAgICAgIGFwcGx5TWV0YWRhdGEob3B0aW9ucywgdGFyZ2V0LCBrZXkpO1xuICAgICAgICBPYmplY3QodnVlX2NsYXNzX2NvbXBvbmVudF9jb21tb25bXCJjcmVhdGVEZWNvcmF0b3JcIl0pKGZ1bmN0aW9uIChjb21wb25lbnRPcHRpb25zLCBrKSB7XG4gICAgICAgICAgICAoY29tcG9uZW50T3B0aW9ucy5wcm9wcyB8fCAoY29tcG9uZW50T3B0aW9ucy5wcm9wcyA9IHt9KSlba10gPSBvcHRpb25zO1xuICAgICAgICAgICAgY29tcG9uZW50T3B0aW9ucy5tb2RlbCA9IHsgcHJvcDogaywgZXZlbnQ6IGV2ZW50IHx8IGsgfTtcbiAgICAgICAgfSkodGFyZ2V0LCBrZXkpO1xuICAgIH07XG59XG4vKipcbiAqIGRlY29yYXRvciBvZiBhIHByb3BcbiAqIEBwYXJhbSAgb3B0aW9ucyB0aGUgb3B0aW9ucyBmb3IgdGhlIHByb3BcbiAqIEByZXR1cm4gUHJvcGVydHlEZWNvcmF0b3IgfCB2b2lkXG4gKi9cbmZ1bmN0aW9uIFByb3Aob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgICAgICBhcHBseU1ldGFkYXRhKG9wdGlvbnMsIHRhcmdldCwga2V5KTtcbiAgICAgICAgT2JqZWN0KHZ1ZV9jbGFzc19jb21wb25lbnRfY29tbW9uW1wiY3JlYXRlRGVjb3JhdG9yXCJdKShmdW5jdGlvbiAoY29tcG9uZW50T3B0aW9ucywgaykge1xuICAgICAgICAgICAgKGNvbXBvbmVudE9wdGlvbnMucHJvcHMgfHwgKGNvbXBvbmVudE9wdGlvbnMucHJvcHMgPSB7fSkpW2tdID0gb3B0aW9ucztcbiAgICAgICAgfSkodGFyZ2V0LCBrZXkpO1xuICAgIH07XG59XG4vKipcbiAqIGRlY29yYXRvciBvZiBhIHdhdGNoIGZ1bmN0aW9uXG4gKiBAcGFyYW0gIHBhdGggdGhlIHBhdGggb3IgdGhlIGV4cHJlc3Npb24gdG8gb2JzZXJ2ZVxuICogQHBhcmFtICBXYXRjaE9wdGlvblxuICogQHJldHVybiBNZXRob2REZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gV2F0Y2gocGF0aCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIF9hID0gb3B0aW9ucy5kZWVwLCBkZWVwID0gX2EgPT09IHZvaWQgMCA/IGZhbHNlIDogX2EsIF9iID0gb3B0aW9ucy5pbW1lZGlhdGUsIGltbWVkaWF0ZSA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iO1xuICAgIHJldHVybiBPYmplY3QodnVlX2NsYXNzX2NvbXBvbmVudF9jb21tb25bXCJjcmVhdGVEZWNvcmF0b3JcIl0pKGZ1bmN0aW9uIChjb21wb25lbnRPcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50T3B0aW9ucy53YXRjaCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudE9wdGlvbnMud2F0Y2ggPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3YXRjaCA9IGNvbXBvbmVudE9wdGlvbnMud2F0Y2g7XG4gICAgICAgIGlmICh0eXBlb2Ygd2F0Y2hbcGF0aF0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHdhdGNoW3BhdGhdKSkge1xuICAgICAgICAgICAgd2F0Y2hbcGF0aF0gPSBbd2F0Y2hbcGF0aF1dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3YXRjaFtwYXRoXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHdhdGNoW3BhdGhdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgd2F0Y2hbcGF0aF0ucHVzaCh7IGhhbmRsZXI6IGhhbmRsZXIsIGRlZXA6IGRlZXAsIGltbWVkaWF0ZTogaW1tZWRpYXRlIH0pO1xuICAgIH0pO1xufVxuLy8gQ29kZSBjb3BpZWQgZnJvbSBWdWUvc3JjL3NoYXJlZC91dGlsLmpzXG52YXIgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xudmFyIGh5cGhlbmF0ZSA9IGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuIHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnLSQxJykudG9Mb3dlckNhc2UoKTsgfTtcbi8qKlxuICogZGVjb3JhdG9yIG9mIGFuIGV2ZW50LWVtaXR0ZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSAgZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gKiBAcmV0dXJuIE1ldGhvZERlY29yYXRvclxuICovXG5mdW5jdGlvbiBFbWl0KGV2ZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChfdGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAga2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICAgIHZhciBvcmlnaW5hbCA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiBlbWl0dGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKHJldHVyblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQuYXBwbHkoX3RoaXMsIFtldmVudCB8fCBrZXldLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICBpZiAoaXNQcm9taXNlKHJldHVyblZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4oZnVuY3Rpb24gKHJldHVyblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXQocmV0dXJuVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW1pdChyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgUHJvbWlzZSB8fCAob2JqICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9saWIvc3R5bGVzL2RvdC5zY3NzXG52YXIgZG90ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIjRlZDhcIik7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbGliL3Z1ZS1zbGlkZXItZG90LnRzeFxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5cblxuXG5cbnZhciBWdWVTbGlkZXJEb3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHtcbiAgX2luaGVyaXRzKFZ1ZVNsaWRlckRvdCwgX1Z1ZSk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihWdWVTbGlkZXJEb3QpO1xuXG4gIGZ1bmN0aW9uIFZ1ZVNsaWRlckRvdCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVnVlU2xpZGVyRG90KTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhWdWVTbGlkZXJEb3QsIFt7XG4gICAga2V5OiBcImRyYWdTdGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnU3RhcnQoZSkge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiRlbWl0KCdkcmFnLXN0YXJ0Jyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgaCA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICAgICAgXCJyZWZcIjogXCJkb3RcIixcbiAgICAgICAgXCJjbGFzc1wiOiB0aGlzLmRvdENsYXNzZXMsXG4gICAgICAgIFwiYXR0cnNcIjoge1xuICAgICAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogdGhpcy50b29sdGlwVmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJvblwiOiB7XG4gICAgICAgICAgXCJtb3VzZWRvd25cIjogdGhpcy5kcmFnU3RhcnQsXG4gICAgICAgICAgXCJ0b3VjaHN0YXJ0XCI6IHRoaXMuZHJhZ1N0YXJ0XG4gICAgICAgIH1cbiAgICAgIH0sIFt0aGlzLiRzbG90cy5kb3QgfHwgaChcImRpdlwiLCB7XG4gICAgICAgIFwiY2xhc3NcIjogdGhpcy5oYW5kbGVDbGFzc2VzLFxuICAgICAgICBcInN0eWxlXCI6IHRoaXMuZG90U3R5bGVcbiAgICAgIH0pLCB0aGlzLnRvb2x0aXAgIT09ICdub25lJyA/IGgoXCJkaXZcIiwge1xuICAgICAgICBcImNsYXNzXCI6IHRoaXMudG9vbHRpcENsYXNzZXNcbiAgICAgIH0sIFt0aGlzLiRzbG90cy50b29sdGlwIHx8IGgoXCJkaXZcIiwge1xuICAgICAgICBcImNsYXNzXCI6IHRoaXMudG9vbHRpcElubmVyQ2xhc3NlcyxcbiAgICAgICAgXCJzdHlsZVwiOiB0aGlzLnRvb2x0aXBTdHlsZVxuICAgICAgfSwgW2goXCJzcGFuXCIsIHtcbiAgICAgICAgXCJjbGFzc1wiOiAndnVlLXNsaWRlci1kb3QtdG9vbHRpcC10ZXh0J1xuICAgICAgfSwgW3RoaXMudG9vbHRpcFZhbHVlXSldKV0pIDogbnVsbF0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkb3RDbGFzc2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2dWUtc2xpZGVyLWRvdCcsIHtcbiAgICAgICAgJ3Z1ZS1zbGlkZXItZG90LWhvdmVyJzogdGhpcy50b29sdGlwID09PSAnaG92ZXInIHx8IHRoaXMudG9vbHRpcCA9PT0gJ2FjdGl2ZScsXG4gICAgICAgICd2dWUtc2xpZGVyLWRvdC1kaXNhYmxlZCc6IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICd2dWUtc2xpZGVyLWRvdC1mb2N1cyc6IHRoaXMuZm9jdXNcbiAgICAgIH1dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVDbGFzc2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2dWUtc2xpZGVyLWRvdC1oYW5kbGUnLCB7XG4gICAgICAgICd2dWUtc2xpZGVyLWRvdC1oYW5kbGUtZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAndnVlLXNsaWRlci1kb3QtaGFuZGxlLWZvY3VzJzogdGhpcy5mb2N1c1xuICAgICAgfV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvb2x0aXBDbGFzc2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2dWUtc2xpZGVyLWRvdC10b29sdGlwJywgW1widnVlLXNsaWRlci1kb3QtdG9vbHRpcC1cIi5jb25jYXQodGhpcy50b29sdGlwUGxhY2VtZW50KV0sIHtcbiAgICAgICAgJ3Z1ZS1zbGlkZXItZG90LXRvb2x0aXAtc2hvdyc6IHRoaXMuc2hvd1Rvb2x0aXBcbiAgICAgIH1dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b29sdGlwSW5uZXJDbGFzc2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2dWUtc2xpZGVyLWRvdC10b29sdGlwLWlubmVyJywgW1widnVlLXNsaWRlci1kb3QtdG9vbHRpcC1pbm5lci1cIi5jb25jYXQodGhpcy50b29sdGlwUGxhY2VtZW50KV0sIHtcbiAgICAgICAgJ3Z1ZS1zbGlkZXItZG90LXRvb2x0aXAtaW5uZXItZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAndnVlLXNsaWRlci1kb3QtdG9vbHRpcC1pbm5lci1mb2N1cyc6IHRoaXMuZm9jdXNcbiAgICAgIH1dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG93VG9vbHRpcFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgc3dpdGNoICh0aGlzLnRvb2x0aXApIHtcbiAgICAgICAgY2FzZSAnYWx3YXlzJzpcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY2FzZSAnZm9jdXMnOlxuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgIHJldHVybiAhIXRoaXMuZm9jdXM7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvb2x0aXBWYWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMudG9vbHRpcEZvcm1hdHRlcikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMudG9vbHRpcEZvcm1hdHRlciA9PT0gJ3N0cmluZycgPyB0aGlzLnRvb2x0aXBGb3JtYXR0ZXIucmVwbGFjZSgvXFx7dmFsdWVcXH0vLCBTdHJpbmcodGhpcy52YWx1ZSkpIDogdGhpcy50b29sdGlwRm9ybWF0dGVyKHRoaXMudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFZ1ZVNsaWRlckRvdDtcbn0oZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfcm9vdF9WdWVfYW1kX3Z1ZV9kZWZhdWx0LmEpO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgZGVmYXVsdDogMFxufSldLCBWdWVTbGlkZXJEb3QucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIFZ1ZVNsaWRlckRvdC5wcm90b3R5cGUsIFwidG9vbHRpcFwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKCldLCBWdWVTbGlkZXJEb3QucHJvdG90eXBlLCBcImRvdFN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIFZ1ZVNsaWRlckRvdC5wcm90b3R5cGUsIFwidG9vbHRpcFN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBTdHJpbmcsXG4gIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkge1xuICAgIHJldHVybiBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddLmluZGV4T2YodmFsKSA+IC0xO1xuICB9LFxuICByZXF1aXJlZDogdHJ1ZVxufSldLCBWdWVTbGlkZXJEb3QucHJvdG90eXBlLCBcInRvb2x0aXBQbGFjZW1lbnRcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IFtTdHJpbmcsIEZ1bmN0aW9uXVxufSldLCBWdWVTbGlkZXJEb3QucHJvdG90eXBlLCBcInRvb2x0aXBGb3JtYXR0ZXJcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IEJvb2xlYW4sXG4gIGRlZmF1bHQ6IGZhbHNlXG59KV0sIFZ1ZVNsaWRlckRvdC5wcm90b3R5cGUsIFwiZm9jdXNcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIGRlZmF1bHQ6IGZhbHNlXG59KV0sIFZ1ZVNsaWRlckRvdC5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcblxuVnVlU2xpZGVyRG90ID0gX19kZWNvcmF0ZShbdnVlX2NsYXNzX2NvbXBvbmVudF9jb21tb25fZGVmYXVsdCgpKHtcbiAgbmFtZTogJ1Z1ZVNsaWRlckRvdCdcbn0pXSwgVnVlU2xpZGVyRG90KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHZ1ZV9zbGlkZXJfZG90ID0gKFZ1ZVNsaWRlckRvdCk7XG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbGliL3N0eWxlcy9tYXJrLnNjc3NcbnZhciBtYXJrID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIjU1NmNcIik7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbGliL3Z1ZS1zbGlkZXItbWFyay50c3hcbmZ1bmN0aW9uIHZ1ZV9zbGlkZXJfbWFya190eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IHZ1ZV9zbGlkZXJfbWFya190eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgdnVlX3NsaWRlcl9tYXJrX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiB2dWVfc2xpZGVyX21hcmtfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9tYXJrX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9tYXJrX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX21hcmtfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSB2dWVfc2xpZGVyX21hcmtfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIHZ1ZV9zbGlkZXJfbWFya19kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX21hcmtfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgdnVlX3NsaWRlcl9tYXJrX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX21hcmtfc2V0UHJvdG90eXBlT2YobywgcCkgeyB2dWVfc2xpZGVyX21hcmtfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIHZ1ZV9zbGlkZXJfbWFya19zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX21hcmtfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IHZ1ZV9zbGlkZXJfbWFya19pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSB2dWVfc2xpZGVyX21hcmtfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IHZ1ZV9zbGlkZXJfbWFya19nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gdnVlX3NsaWRlcl9tYXJrX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX21hcmtfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmICh2dWVfc2xpZGVyX21hcmtfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiB2dWVfc2xpZGVyX21hcmtfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIHZ1ZV9zbGlkZXJfbWFya19hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX21hcmtfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIHZ1ZV9zbGlkZXJfbWFya19nZXRQcm90b3R5cGVPZihvKSB7IHZ1ZV9zbGlkZXJfbWFya19nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiB2dWVfc2xpZGVyX21hcmtfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuXG5cblxuXG52YXIgVnVlU2xpZGVNYXJrID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7XG4gIHZ1ZV9zbGlkZXJfbWFya19pbmhlcml0cyhWdWVTbGlkZU1hcmssIF9WdWUpO1xuXG4gIHZhciBfc3VwZXIgPSB2dWVfc2xpZGVyX21hcmtfY3JlYXRlU3VwZXIoVnVlU2xpZGVNYXJrKTtcblxuICBmdW5jdGlvbiBWdWVTbGlkZU1hcmsoKSB7XG4gICAgdnVlX3NsaWRlcl9tYXJrX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZ1ZVNsaWRlTWFyayk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICB2dWVfc2xpZGVyX21hcmtfY3JlYXRlQ2xhc3MoVnVlU2xpZGVNYXJrLCBbe1xuICAgIGtleTogXCJsYWJlbENsaWNrSGFuZGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxhYmVsQ2xpY2tIYW5kbGUoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuJGVtaXQoJ3ByZXNzTGFiZWwnLCB0aGlzLm1hcmsucG9zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBoID0gYXJndW1lbnRzWzBdO1xuICAgICAgdmFyIG1hcmsgPSB0aGlzLm1hcms7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICAgIFwiY2xhc3NcIjogdGhpcy5tYXJrc0NsYXNzZXNcbiAgICAgIH0sIFt0aGlzLiRzbG90cy5zdGVwIHx8IGgoXCJkaXZcIiwge1xuICAgICAgICBcImNsYXNzXCI6IHRoaXMuc3RlcENsYXNzZXMsXG4gICAgICAgIFwic3R5bGVcIjogW3RoaXMuc3RlcFN0eWxlLCBtYXJrLnN0eWxlLCBtYXJrLmFjdGl2ZSA/IHRoaXMuc3RlcEFjdGl2ZVN0eWxlIDogbnVsbCwgbWFyay5hY3RpdmUgPyBtYXJrLmFjdGl2ZVN0eWxlIDogbnVsbF1cbiAgICAgIH0pLCAhdGhpcy5oaWRlTGFiZWwgPyB0aGlzLiRzbG90cy5sYWJlbCB8fCBoKFwiZGl2XCIsIHtcbiAgICAgICAgXCJjbGFzc1wiOiB0aGlzLmxhYmVsQ2xhc3NlcyxcbiAgICAgICAgXCJzdHlsZVwiOiBbdGhpcy5sYWJlbFN0eWxlLCBtYXJrLmxhYmVsU3R5bGUsIG1hcmsuYWN0aXZlID8gdGhpcy5sYWJlbEFjdGl2ZVN0eWxlIDogbnVsbCwgbWFyay5hY3RpdmUgPyBtYXJrLmxhYmVsQWN0aXZlU3R5bGUgOiBudWxsXSxcbiAgICAgICAgXCJvblwiOiB7XG4gICAgICAgICAgXCJjbGlja1wiOiB0aGlzLmxhYmVsQ2xpY2tIYW5kbGVcbiAgICAgICAgfVxuICAgICAgfSwgW21hcmsubGFiZWxdKSA6IG51bGxdKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWFya3NDbGFzc2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2dWUtc2xpZGVyLW1hcmsnLCB7XG4gICAgICAgICd2dWUtc2xpZGVyLW1hcmstYWN0aXZlJzogdGhpcy5tYXJrLmFjdGl2ZVxuICAgICAgfV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0ZXBDbGFzc2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2dWUtc2xpZGVyLW1hcmstc3RlcCcsIHtcbiAgICAgICAgJ3Z1ZS1zbGlkZXItbWFyay1zdGVwLWFjdGl2ZSc6IHRoaXMubWFyay5hY3RpdmVcbiAgICAgIH1dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsYWJlbENsYXNzZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBbJ3Z1ZS1zbGlkZXItbWFyay1sYWJlbCcsIHtcbiAgICAgICAgJ3Z1ZS1zbGlkZXItbWFyay1sYWJlbC1hY3RpdmUnOiB0aGlzLm1hcmsuYWN0aXZlXG4gICAgICB9XTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVnVlU2xpZGVNYXJrO1xufShleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9yb290X1Z1ZV9hbWRfdnVlX2RlZmF1bHQuYSk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICByZXF1aXJlZDogdHJ1ZVxufSldLCBWdWVTbGlkZU1hcmsucHJvdG90eXBlLCBcIm1hcmtcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcChCb29sZWFuKV0sIFZ1ZVNsaWRlTWFyay5wcm90b3R5cGUsIFwiaGlkZUxhYmVsXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIFZ1ZVNsaWRlTWFyay5wcm90b3R5cGUsIFwic3RlcFN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIFZ1ZVNsaWRlTWFyay5wcm90b3R5cGUsIFwic3RlcEFjdGl2ZVN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIFZ1ZVNsaWRlTWFyay5wcm90b3R5cGUsIFwibGFiZWxTdHlsZVwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKCldLCBWdWVTbGlkZU1hcmsucHJvdG90eXBlLCBcImxhYmVsQWN0aXZlU3R5bGVcIiwgdm9pZCAwKTtcblxuVnVlU2xpZGVNYXJrID0gX19kZWNvcmF0ZShbdnVlX2NsYXNzX2NvbXBvbmVudF9jb21tb25fZGVmYXVsdCgpKHtcbiAgbmFtZTogJ1Z1ZVNsaWRlTWFyaydcbn0pXSwgVnVlU2xpZGVNYXJrKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHZ1ZV9zbGlkZXJfbWFyayA9IChWdWVTbGlkZU1hcmspO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9saWIvdXRpbHMvaW5kZXgudHNcbnZhciBnZXRTaXplID0gZnVuY3Rpb24gZ2V0U2l6ZSh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IFwiXCIuY29uY2F0KHZhbHVlLCBcInB4XCIpIDogdmFsdWU7XG59O1xuLyoqIEdldCB0aGUgZGlzdGFuY2Ugb2YgdGhlIGVsZW1lbnQgZnJvbSB0aGUgdG9wL2xlZnQgb2YgdGhlIHBhZ2UgKi9cblxudmFyIGdldE9mZnNldCA9IGZ1bmN0aW9uIGdldE9mZnNldChlbGVtKSB7XG4gIHZhciBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgdmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgb2Zmc2V0ID0ge1xuICAgIHk6IHJlY3QudG9wICsgKHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2Muc2Nyb2xsVG9wKSAtIChkb2MuY2xpZW50VG9wIHx8IGJvZHkuY2xpZW50VG9wIHx8IDApLFxuICAgIHg6IHJlY3QubGVmdCArICh3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jLnNjcm9sbExlZnQpIC0gKGRvYy5jbGllbnRMZWZ0IHx8IGJvZHkuY2xpZW50TGVmdCB8fCAwKVxuICB9O1xuICByZXR1cm4gb2Zmc2V0O1xufTtcbi8qKlxuICogR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbW91c2UvZmluZ2VyIGluIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0gZSBUcmlnZ2VyIGV2ZW50XG4gKiBAcGFyYW0gZWxlbSBDb250YWluZXIgZWxlbWVudFxuICogQHBhcmFtIGlzUmV2ZXJzZSBGcm9tIHRoZSByaWdodC9ib3R0b21cbiAqL1xuXG52YXIgZ2V0UG9zID0gZnVuY3Rpb24gZ2V0UG9zKGUsIGVsZW0sIGlzUmV2ZXJzZSkge1xuICB2YXIgem9vbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMTtcbiAgdmFyIGV2ZW50ID0gJ3RhcmdldFRvdWNoZXMnIGluIGUgPyBlLnRhcmdldFRvdWNoZXNbMF0gOiBlO1xuICB2YXIgb2Zmc2V0ID0gZ2V0T2Zmc2V0KGVsZW0pO1xuICB2YXIgcG9zT2JqID0ge1xuICAgIHg6IGV2ZW50LnBhZ2VYIC0gb2Zmc2V0LngsXG4gICAgeTogZXZlbnQucGFnZVkgLSBvZmZzZXQueVxuICB9O1xuICByZXR1cm4ge1xuICAgIHg6IGlzUmV2ZXJzZSA/IGVsZW0ub2Zmc2V0V2lkdGggKiB6b29tIC0gcG9zT2JqLnggOiBwb3NPYmoueCxcbiAgICB5OiBpc1JldmVyc2UgPyBlbGVtLm9mZnNldEhlaWdodCAqIHpvb20gLSBwb3NPYmoueSA6IHBvc09iai55XG4gIH07XG59O1xudmFyIEtFWV9DT0RFO1xuXG4oZnVuY3Rpb24gKEtFWV9DT0RFKSB7XG4gIEtFWV9DT0RFW0tFWV9DT0RFW1wiUEFHRV9VUFwiXSA9IDMzXSA9IFwiUEFHRV9VUFwiO1xuICBLRVlfQ09ERVtLRVlfQ09ERVtcIlBBR0VfRE9XTlwiXSA9IDM0XSA9IFwiUEFHRV9ET1dOXCI7XG4gIEtFWV9DT0RFW0tFWV9DT0RFW1wiRU5EXCJdID0gMzVdID0gXCJFTkRcIjtcbiAgS0VZX0NPREVbS0VZX0NPREVbXCJIT01FXCJdID0gMzZdID0gXCJIT01FXCI7XG4gIEtFWV9DT0RFW0tFWV9DT0RFW1wiTEVGVFwiXSA9IDM3XSA9IFwiTEVGVFwiO1xuICBLRVlfQ09ERVtLRVlfQ09ERVtcIlVQXCJdID0gMzhdID0gXCJVUFwiO1xuICBLRVlfQ09ERVtLRVlfQ09ERVtcIlJJR0hUXCJdID0gMzldID0gXCJSSUdIVFwiO1xuICBLRVlfQ09ERVtLRVlfQ09ERVtcIkRPV05cIl0gPSA0MF0gPSBcIkRPV05cIjtcbn0pKEtFWV9DT0RFIHx8IChLRVlfQ09ERSA9IHt9KSk7XG5cbnZhciBnZXRLZXlib2FyZEhhbmRsZUZ1bmMgPSBmdW5jdGlvbiBnZXRLZXlib2FyZEhhbmRsZUZ1bmMoZSwgcGFyYW1zKSB7XG4gIGlmIChwYXJhbXMuaG9vaykge1xuICAgIHZhciByZXN1bHQgPSBwYXJhbXMuaG9vayhlKTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoIXJlc3VsdCkgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgIGNhc2UgS0VZX0NPREUuVVA6XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIHBhcmFtcy5kaXJlY3Rpb24gPT09ICd0dGInID8gaSAtIDEgOiBpICsgMTtcbiAgICAgIH07XG5cbiAgICBjYXNlIEtFWV9DT0RFLlJJR0hUOlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBwYXJhbXMuZGlyZWN0aW9uID09PSAncnRsJyA/IGkgLSAxIDogaSArIDE7XG4gICAgICB9O1xuXG4gICAgY2FzZSBLRVlfQ09ERS5ET1dOOlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBwYXJhbXMuZGlyZWN0aW9uID09PSAndHRiJyA/IGkgKyAxIDogaSAtIDE7XG4gICAgICB9O1xuXG4gICAgY2FzZSBLRVlfQ09ERS5MRUZUOlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBwYXJhbXMuZGlyZWN0aW9uID09PSAncnRsJyA/IGkgKyAxIDogaSAtIDE7XG4gICAgICB9O1xuXG4gICAgY2FzZSBLRVlfQ09ERS5FTkQ6XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLm1heDtcbiAgICAgIH07XG5cbiAgICBjYXNlIEtFWV9DT0RFLkhPTUU6XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLm1pbjtcbiAgICAgIH07XG5cbiAgICBjYXNlIEtFWV9DT0RFLlBBR0VfVVA6XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIGkgKyAxMDtcbiAgICAgIH07XG5cbiAgICBjYXNlIEtFWV9DT0RFLlBBR0VfRE9XTjpcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaSAtIDEwO1xuICAgICAgfTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbGliL3V0aWxzL2RlY2ltYWwudHNcbmZ1bmN0aW9uIGRlY2ltYWxfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBkZWNpbWFsX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBkZWNpbWFsX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVjaW1hbF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVjaW1hbF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqIEZvciBhbnkgcHJlY2lzZSBmbG9hdGluZyBwb2ludCBjYWxjdWxhdGlvblxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBEZWNpbWFsXG4gKi9cbnZhciBEZWNpbWFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGVjaW1hbChudW0pIHtcbiAgICBkZWNpbWFsX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlY2ltYWwpO1xuXG4gICAgdGhpcy5udW0gPSBudW07XG4gIH1cblxuICBkZWNpbWFsX2NyZWF0ZUNsYXNzKERlY2ltYWwsIFt7XG4gICAga2V5OiBcImRlY2ltYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVjaW1hbChudW0yLCBvcGVyYXRvcikge1xuICAgICAgdmFyIG51bTEgPSB0aGlzLm51bTtcbiAgICAgIHZhciBsZW4xID0gdGhpcy5nZXREZWNpbWFsTGVuKG51bTEpO1xuICAgICAgdmFyIGxlbjIgPSB0aGlzLmdldERlY2ltYWxMZW4obnVtMik7XG4gICAgICB2YXIgYmFzZSA9IDA7XG5cbiAgICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgYmFzZSA9IHRoaXMuZ2V0RXhwb25lbnQobGVuMSwgbGVuMik7XG4gICAgICAgICAgdGhpcy5udW0gPSAodGhpcy5zYWZlUm91bmRVcChudW0xLCBiYXNlKSArIHRoaXMuc2FmZVJvdW5kVXAobnVtMiwgYmFzZSkpIC8gYmFzZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICBiYXNlID0gdGhpcy5nZXRFeHBvbmVudChsZW4xLCBsZW4yKTtcbiAgICAgICAgICB0aGlzLm51bSA9ICh0aGlzLnNhZmVSb3VuZFVwKG51bTEsIGJhc2UpIC0gdGhpcy5zYWZlUm91bmRVcChudW0yLCBiYXNlKSkgLyBiYXNlO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgIHRoaXMubnVtID0gdGhpcy5zYWZlUm91bmRVcCh0aGlzLnNhZmVSb3VuZFVwKG51bTEsIHRoaXMuZ2V0RXhwb25lbnQobGVuMSkpLCB0aGlzLnNhZmVSb3VuZFVwKG51bTIsIHRoaXMuZ2V0RXhwb25lbnQobGVuMikpKSAvIHRoaXMuZ2V0RXhwb25lbnQobGVuMSArIGxlbjIpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJy8nOlxuICAgICAgICAgIGJhc2UgPSB0aGlzLmdldEV4cG9uZW50KGxlbjEsIGxlbjIpO1xuICAgICAgICAgIHRoaXMubnVtID0gdGhpcy5zYWZlUm91bmRVcChudW0xLCBiYXNlKSAvIHRoaXMuc2FmZVJvdW5kVXAobnVtMiwgYmFzZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnJSc6XG4gICAgICAgICAgYmFzZSA9IHRoaXMuZ2V0RXhwb25lbnQobGVuMSwgbGVuMik7XG4gICAgICAgICAgdGhpcy5udW0gPSB0aGlzLnNhZmVSb3VuZFVwKG51bTEsIGJhc2UpICUgdGhpcy5zYWZlUm91bmRVcChudW0yLCBiYXNlKSAvIGJhc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwbHVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBsdXMobnVtMikge1xuICAgICAgcmV0dXJuIHRoaXMuZGVjaW1hbChudW0yLCAnKycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtaW51c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtaW51cyhudW0yKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWNpbWFsKG51bTIsICctJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm11bHRpcGx5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG11bHRpcGx5KG51bTIpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlY2ltYWwobnVtMiwgJyonKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGl2aWRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpdmlkZShudW0yKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWNpbWFsKG51bTIsICcvJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbWFpbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1haW5kZXIobnVtMikge1xuICAgICAgcmV0dXJuIHRoaXMuZGVjaW1hbChudW0yLCAnJScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b051bWJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b051bWJlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLm51bTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RGVjaW1hbExlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZWNpbWFsTGVuKG51bSkge1xuICAgICAgdmFyIHN0ckFyciA9IFwiXCIuY29uY2F0KG51bSkuc3BsaXQoJ2UnKTtcbiAgICAgIHJldHVybiAoXCJcIi5jb25jYXQoc3RyQXJyWzBdKS5zcGxpdCgnLicpWzFdIHx8ICcnKS5sZW5ndGggLSAoc3RyQXJyWzFdID8gK3N0ckFyclsxXSA6IDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRFeHBvbmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFeHBvbmVudChudW0xLCBudW0yKSB7XG4gICAgICByZXR1cm4gTWF0aC5wb3coMTAsIG51bTIgIT09IHZvaWQgMCA/IE1hdGgubWF4KG51bTEsIG51bTIpIDogbnVtMSk7XG4gICAgfSAvLyBmaXg6IDk5OTk5OTkuOTk5OTUgKiAxMDAwMDAgPSA5OTk5OTk5OTk5OTQuOTk5OVxuXG4gIH0sIHtcbiAgICBrZXk6IFwic2FmZVJvdW5kVXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2FmZVJvdW5kVXAobnVtLCBleHBvbmVudCkge1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtICogZXhwb25lbnQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEZWNpbWFsO1xufSgpO1xuXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbGliL3V0aWxzL2NvbnRyb2wudHNcbnZhciBfRVJST1JfTVNHO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gY29udHJvbF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGNvbnRyb2xfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIGNvbnRyb2xfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBjb250cm9sX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBjb250cm9sX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cblxudmFyIEVSUk9SX1RZUEU7XG5cbihmdW5jdGlvbiAoRVJST1JfVFlQRSkge1xuICBFUlJPUl9UWVBFW0VSUk9SX1RZUEVbXCJWQUxVRVwiXSA9IDFdID0gXCJWQUxVRVwiO1xuICBFUlJPUl9UWVBFW0VSUk9SX1RZUEVbXCJJTlRFUlZBTFwiXSA9IDJdID0gXCJJTlRFUlZBTFwiO1xuICBFUlJPUl9UWVBFW0VSUk9SX1RZUEVbXCJNSU5cIl0gPSAzXSA9IFwiTUlOXCI7XG4gIEVSUk9SX1RZUEVbRVJST1JfVFlQRVtcIk1BWFwiXSA9IDRdID0gXCJNQVhcIjtcbiAgRVJST1JfVFlQRVtFUlJPUl9UWVBFW1wiT1JERVJcIl0gPSA1XSA9IFwiT1JERVJcIjtcbn0pKEVSUk9SX1RZUEUgfHwgKEVSUk9SX1RZUEUgPSB7fSkpO1xuXG52YXIgRVJST1JfTVNHID0gKF9FUlJPUl9NU0cgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9FUlJPUl9NU0csIEVSUk9SX1RZUEUuVkFMVUUsICdUaGUgdHlwZSBvZiB0aGUgXCJ2YWx1ZVwiIGlzIGlsbGVnYWwnKSwgX2RlZmluZVByb3BlcnR5KF9FUlJPUl9NU0csIEVSUk9SX1RZUEUuSU5URVJWQUwsICdUaGUgcHJvcCBcImludGVydmFsXCIgaXMgaW52YWxpZCwgXCIobWF4IC0gbWluKVwiIG11c3QgYmUgZGl2aXNpYmxlIGJ5IFwiaW50ZXJ2YWxcIicpLCBfZGVmaW5lUHJvcGVydHkoX0VSUk9SX01TRywgRVJST1JfVFlQRS5NSU4sICdUaGUgXCJ2YWx1ZVwiIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBcIm1pblwiLicpLCBfZGVmaW5lUHJvcGVydHkoX0VSUk9SX01TRywgRVJST1JfVFlQRS5NQVgsICdUaGUgXCJ2YWx1ZVwiIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBcIm1heFwiLicpLCBfZGVmaW5lUHJvcGVydHkoX0VSUk9SX01TRywgRVJST1JfVFlQRS5PUkRFUiwgJ1doZW4gXCJvcmRlclwiIGlzIGZhbHNlLCB0aGUgcGFyYW1ldGVycyBcIm1pblJhbmdlXCIsIFwibWF4UmFuZ2VcIiwgXCJmaXhlZFwiLCBcImVuYWJsZWRcIiBhcmUgaW52YWxpZC4nKSwgX0VSUk9SX01TRyk7XG4vKipcbiAqIFNsaWRlciBsb2dpYyBjb250cm9sIGNlbnRlclxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBDb250cm9sXG4gKi9cblxudmFyIGNvbnRyb2xfQ29udHJvbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbnRyb2wob3B0aW9ucykge1xuICAgIGNvbnRyb2xfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udHJvbCk7XG5cbiAgICB0aGlzLmRvdHNQb3MgPSBbXTsgLy8gVGhlIHBvc2l0aW9uIG9mIGVhY2ggc2xpZGVyXG5cbiAgICB0aGlzLmRvdHNWYWx1ZSA9IFtdOyAvLyBUaGUgdmFsdWUgb2YgZWFjaCBzbGlkZXJcblxuICAgIHRoaXMuY2FjaGVSYW5nZURpciA9IHt9O1xuICAgIHRoaXMuZGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgICB0aGlzLm1heCA9IG9wdGlvbnMubWF4O1xuICAgIHRoaXMubWluID0gb3B0aW9ucy5taW47XG4gICAgdGhpcy5pbnRlcnZhbCA9IG9wdGlvbnMuaW50ZXJ2YWw7XG4gICAgdGhpcy5vcmRlciA9IG9wdGlvbnMub3JkZXI7XG4gICAgdGhpcy5tYXJrcyA9IG9wdGlvbnMubWFya3M7XG4gICAgdGhpcy5pbmNsdWRlZCA9IG9wdGlvbnMuaW5jbHVkZWQ7XG4gICAgdGhpcy5wcm9jZXNzID0gb3B0aW9ucy5wcm9jZXNzO1xuICAgIHRoaXMuYWRzb3JiID0gb3B0aW9ucy5hZHNvcmI7XG4gICAgdGhpcy5kb3RPcHRpb25zID0gb3B0aW9ucy5kb3RPcHRpb25zO1xuICAgIHRoaXMub25FcnJvciA9IG9wdGlvbnMub25FcnJvcjtcblxuICAgIGlmICh0aGlzLm9yZGVyKSB7XG4gICAgICB0aGlzLm1pblJhbmdlID0gb3B0aW9ucy5taW5SYW5nZSB8fCAwO1xuICAgICAgdGhpcy5tYXhSYW5nZSA9IG9wdGlvbnMubWF4UmFuZ2UgfHwgMDtcbiAgICAgIHRoaXMuZW5hYmxlQ3Jvc3MgPSBvcHRpb25zLmVuYWJsZUNyb3NzO1xuICAgICAgdGhpcy5maXhlZCA9IG9wdGlvbnMuZml4ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcHRpb25zLm1pblJhbmdlIHx8IG9wdGlvbnMubWF4UmFuZ2UgfHwgIW9wdGlvbnMuZW5hYmxlQ3Jvc3MgfHwgb3B0aW9ucy5maXhlZCkge1xuICAgICAgICB0aGlzLmVtaXRFcnJvcihFUlJPUl9UWVBFLk9SREVSKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5taW5SYW5nZSA9IDA7XG4gICAgICB0aGlzLm1heFJhbmdlID0gMDtcbiAgICAgIHRoaXMuZW5hYmxlQ3Jvc3MgPSB0cnVlO1xuICAgICAgdGhpcy5maXhlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0VmFsdWUob3B0aW9ucy52YWx1ZSk7XG4gIH1cblxuICBjb250cm9sX2NyZWF0ZUNsYXNzKENvbnRyb2wsIFt7XG4gICAga2V5OiBcInNldFZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLnNldERvdHNWYWx1ZShBcnJheS5pc0FycmF5KHZhbHVlKSA/IHRoaXMub3JkZXIgPyBfdG9Db25zdW1hYmxlQXJyYXkodmFsdWUpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdldEluZGV4QnlWYWx1ZShhKSAtIF90aGlzLmdldEluZGV4QnlWYWx1ZShiKTtcbiAgICAgIH0pIDogX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlKSA6IFt2YWx1ZV0sIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXREb3RzVmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RG90c1ZhbHVlKHZhbHVlLCBzeW5jUG9zKSB7XG4gICAgICB0aGlzLmRvdHNWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICBpZiAoc3luY1Bvcykge1xuICAgICAgICB0aGlzLnN5bmNEb3RzUG9zKCk7XG4gICAgICB9XG4gICAgfSAvLyBTZXQgdGhlIHNsaWRlciBwb3NpdGlvblxuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RG90c1Bvc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREb3RzUG9zKGRvdHNQb3MpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgbGlzdCA9IHRoaXMub3JkZXIgPyBfdG9Db25zdW1hYmxlQXJyYXkoZG90c1Bvcykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICB9KSA6IGRvdHNQb3M7XG4gICAgICB0aGlzLmRvdHNQb3MgPSBsaXN0O1xuICAgICAgdGhpcy5zZXREb3RzVmFsdWUobGlzdC5tYXAoZnVuY3Rpb24gKGRvdFBvcykge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmdldFZhbHVlQnlQb3MoZG90UG9zKTtcbiAgICAgIH0pLCB0aGlzLmFkc29yYik7XG4gICAgfSAvLyBHZXQgdmFsdWUgYnkgcG9zaXRpb25cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZhbHVlQnlQb3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWVCeVBvcyhwb3MpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMucGFyc2VQb3MocG9zKTsgLy8gV2hlbiBpbmNsdWRlZCBpcyB0cnVlLCB0aGUgcmV0dXJuIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGUgbmVhcmVzdCBtYXJrXG5cbiAgICAgIGlmICh0aGlzLmluY2x1ZGVkKSB7XG4gICAgICAgIHZhciBkaXIgPSAxMDA7XG4gICAgICAgIHRoaXMubWFya0xpc3QuZm9yRWFjaChmdW5jdGlvbiAobWFyaykge1xuICAgICAgICAgIHZhciBjdXJEaXIgPSBNYXRoLmFicyhtYXJrLnBvcyAtIHBvcyk7XG5cbiAgICAgICAgICBpZiAoY3VyRGlyIDwgZGlyKSB7XG4gICAgICAgICAgICBkaXIgPSBjdXJEaXI7XG4gICAgICAgICAgICB2YWx1ZSA9IG1hcmsudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gLy8gU3luYyBzbGlkZXIgcG9zaXRpb25cblxuICB9LCB7XG4gICAga2V5OiBcInN5bmNEb3RzUG9zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN5bmNEb3RzUG9zKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZG90c1BvcyA9IHRoaXMuZG90c1ZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gX3RoaXMzLnBhcnNlVmFsdWUodik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCB0aGUgbWFya3NcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEB0eXBlIHtNYXJrW119XG4gICAgICogQG1lbWJlcm9mIENvbnRyb2xcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFJlY2VudERvdFwiLFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb3N0IHJlY2VudCBzbGlkZXIgaW5kZXggYnkgcG9zaXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBDb250cm9sXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlY2VudERvdChwb3MpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgYXJyID0gdGhpcy5kb3RzUG9zLmZpbHRlcihmdW5jdGlvbiAoZG90UG9zLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gIShfdGhpczQuZ2V0RG90T3B0aW9uKGluZGV4KSAmJiBfdGhpczQuZ2V0RG90T3B0aW9uKGluZGV4KS5kaXNhYmxlZCk7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKGRvdFBvcykge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoZG90UG9zIC0gcG9zKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFyci5pbmRleE9mKE1hdGgubWluLmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheShhcnIpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBpbmRleCBieSB2YWx1ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtWYWx1ZX0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBDb250cm9sXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRJbmRleEJ5VmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5kZXhCeVZhbHVlKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuaW5kZXhPZih2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRGVjaW1hbCgrdmFsdWUpLm1pbnVzKHRoaXMubWluKS5kaXZpZGUodGhpcy5pbnRlcnZhbCkudG9OdW1iZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHZhbHVlIGJ5IGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2luZGV4fSBudW1iZXJcbiAgICAgKiBAcmV0dXJucyB7VmFsdWV9XG4gICAgICogQG1lbWJlcm9mIENvbnRyb2xcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZhbHVlQnlJbmRleFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChpbmRleCA+IHRoaXMudG90YWwpIHtcbiAgICAgICAgaW5kZXggPSB0aGlzLnRvdGFsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5kYXRhID8gdGhpcy5kYXRhW2luZGV4XSA6IG5ldyBEZWNpbWFsKGluZGV4KS5tdWx0aXBseSh0aGlzLmludGVydmFsKS5wbHVzKHRoaXMubWluKS50b051bWJlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBvc2l0aW9uIG9mIGEgc2luZ2xlIHNsaWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RG90UG9zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldERvdFBvcyhwb3MsIGluZGV4KSB7XG4gICAgICBwb3MgPSB0aGlzLmdldFZhbGlkUG9zKHBvcywgaW5kZXgpLnBvcztcbiAgICAgIHZhciBjaGFuZ2VQb3MgPSBwb3MgLSB0aGlzLmRvdHNQb3NbaW5kZXhdO1xuXG4gICAgICBpZiAoIWNoYW5nZVBvcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFuZ2VQb3NBcnIgPSBuZXcgQXJyYXkodGhpcy5kb3RzUG9zLmxlbmd0aCk7XG5cbiAgICAgIGlmICh0aGlzLmZpeGVkKSB7XG4gICAgICAgIGNoYW5nZVBvc0FyciA9IHRoaXMuZ2V0Rml4ZWRDaGFuZ2VQb3NBcnIoY2hhbmdlUG9zLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubWluUmFuZ2UgfHwgdGhpcy5tYXhSYW5nZSkge1xuICAgICAgICBjaGFuZ2VQb3NBcnIgPSB0aGlzLmdldExpbWl0UmFuZ2VDaGFuZ2VQb3NBcnIocG9zLCBjaGFuZ2VQb3MsIGluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5nZVBvc0FycltpbmRleF0gPSBjaGFuZ2VQb3M7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0RG90c1Bvcyh0aGlzLmRvdHNQb3MubWFwKGZ1bmN0aW9uIChjdXJQb3MsIGkpIHtcbiAgICAgICAgcmV0dXJuIGN1clBvcyArIChjaGFuZ2VQb3NBcnJbaV0gfHwgMCk7XG4gICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluIGZpeGVkIG1vZGUsIGdldCB0aGUgcG9zaXRpb24gb2YgYWxsIHNsaWRlciBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2hhbmdlUG9zIENoYW5nZSBkaXN0YW5jZSBvZiBhIHNpbmdsZSBzbGlkZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggc2xpZGVyIGluZGV4XG4gICAgICogQHJldHVybnMge0RvdHNQb3NDaGFuZ2VBcnJheX1cbiAgICAgKiBAbWVtYmVyb2YgQ29udHJvbFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Rml4ZWRDaGFuZ2VQb3NBcnJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rml4ZWRDaGFuZ2VQb3NBcnIoY2hhbmdlUG9zLCBpbmRleCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZG90c1Bvcy5mb3JFYWNoKGZ1bmN0aW9uIChvcmlnaW5Qb3MsIGkpIHtcbiAgICAgICAgaWYgKGkgIT09IGluZGV4KSB7XG4gICAgICAgICAgdmFyIF90aGlzNSRnZXRWYWxpZFBvcyA9IF90aGlzNS5nZXRWYWxpZFBvcyhvcmlnaW5Qb3MgKyBjaGFuZ2VQb3MsIGkpLFxuICAgICAgICAgICAgICBsYXN0UG9zID0gX3RoaXM1JGdldFZhbGlkUG9zLnBvcyxcbiAgICAgICAgICAgICAgaW5SYW5nZSA9IF90aGlzNSRnZXRWYWxpZFBvcy5pblJhbmdlO1xuXG4gICAgICAgICAgaWYgKCFpblJhbmdlKSB7XG4gICAgICAgICAgICBjaGFuZ2VQb3MgPSBNYXRoLm1pbihNYXRoLmFicyhsYXN0UG9zIC0gb3JpZ2luUG9zKSwgTWF0aC5hYnMoY2hhbmdlUG9zKSkgKiAoY2hhbmdlUG9zIDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLmRvdHNQb3MubWFwKGZ1bmN0aW9uIChfKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VQb3M7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW4gbWluUmFuZ2UvbWF4UmFuZ2UgbW9kZSwgZ2V0IHRoZSBwb3NpdGlvbiBvZiBhbGwgc2xpZGVyIGNoYW5nZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgcG9zaXRpb24gb2YgYSBzaW5nbGUgc2xpZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNoYW5nZVBvcyBDaGFuZ2UgZGlzdGFuY2Ugb2YgYSBzaW5nbGUgc2xpZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IHNsaWRlciBpbmRleFxuICAgICAqIEByZXR1cm5zIHtEb3RzUG9zQ2hhbmdlQXJyYXl9XG4gICAgICogQG1lbWJlcm9mIENvbnRyb2xcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldExpbWl0UmFuZ2VDaGFuZ2VQb3NBcnJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGltaXRSYW5nZUNoYW5nZVBvc0Fycihwb3MsIGNoYW5nZVBvcywgaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICB2YXIgY2hhbmdlRG90cyA9IFt7XG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgY2hhbmdlUG9zOiBjaGFuZ2VQb3NcbiAgICAgIH1dO1xuICAgICAgdmFyIG5ld0NoYW5nZVBvcyA9IGNoYW5nZVBvcztcbiAgICAgIFt0aGlzLm1pblJhbmdlLCB0aGlzLm1heFJhbmdlXS5mb3JFYWNoKGZ1bmN0aW9uIChpc0xpbWl0UmFuZ2UsIHJhbmdlSW5kZXgpIHtcbiAgICAgICAgaWYgKCFpc0xpbWl0UmFuZ2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNNaW5SYW5nZSA9IHJhbmdlSW5kZXggPT09IDA7XG4gICAgICAgIHZhciBpc0ZvcndhcmQgPSBjaGFuZ2VQb3MgPiAwO1xuICAgICAgICB2YXIgbmV4dCA9IDA7XG5cbiAgICAgICAgaWYgKGlzTWluUmFuZ2UpIHtcbiAgICAgICAgICBuZXh0ID0gaXNGb3J3YXJkID8gMSA6IC0xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgPSBpc0ZvcndhcmQgPyAtMSA6IDE7XG4gICAgICAgIH0gLy8gRGV0ZXJtaW5lIGlmIHRoZSB0d28gcG9zaXRpb25zIGFyZSB3aXRoaW4gdGhlIGxlZ2FsIGludGVydmFsXG5cblxuICAgICAgICB2YXIgaW5MaW1pdFJhbmdlID0gZnVuY3Rpb24gaW5MaW1pdFJhbmdlKHBvczIsIHBvczEpIHtcbiAgICAgICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKHBvczIgLSBwb3MxKTtcbiAgICAgICAgICByZXR1cm4gaXNNaW5SYW5nZSA/IGRpZmYgPCBfdGhpczYubWluUmFuZ2VEaXIgOiBkaWZmID4gX3RoaXM2Lm1heFJhbmdlRGlyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpID0gaW5kZXggKyBuZXh0O1xuICAgICAgICB2YXIgbmV4dFBvcyA9IF90aGlzNi5kb3RzUG9zW2ldO1xuICAgICAgICB2YXIgY3VyUG9zID0gcG9zO1xuXG4gICAgICAgIHdoaWxlIChfdGhpczYuaXNQb3MobmV4dFBvcykgJiYgaW5MaW1pdFJhbmdlKG5leHRQb3MsIGN1clBvcykpIHtcbiAgICAgICAgICB2YXIgX3RoaXM2JGdldFZhbGlkUG9zID0gX3RoaXM2LmdldFZhbGlkUG9zKG5leHRQb3MgKyBuZXdDaGFuZ2VQb3MsIGkpLFxuICAgICAgICAgICAgICBsYXN0UG9zID0gX3RoaXM2JGdldFZhbGlkUG9zLnBvcztcblxuICAgICAgICAgIGNoYW5nZURvdHMucHVzaCh7XG4gICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgIGNoYW5nZVBvczogbGFzdFBvcyAtIG5leHRQb3NcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpID0gaSArIG5leHQ7XG4gICAgICAgICAgY3VyUG9zID0gbGFzdFBvcztcbiAgICAgICAgICBuZXh0UG9zID0gX3RoaXM2LmRvdHNQb3NbaV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuZG90c1Bvcy5tYXAoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICAgICAgdmFyIGNoYW5nZURvdCA9IGNoYW5nZURvdHMuZmlsdGVyKGZ1bmN0aW9uIChkb3QpIHtcbiAgICAgICAgICByZXR1cm4gZG90LmluZGV4ID09PSBpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNoYW5nZURvdC5sZW5ndGggPyBjaGFuZ2VEb3RbMF0uY2hhbmdlUG9zIDogMDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1Bvc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Bvcyhwb3MpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgcG9zID09PSAnbnVtYmVyJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdmFsaWQgcG9zaXRpb24gYnkgcG9zXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybnMge3sgcG9zOiBudW1iZXIsIGluUmFuZ2U6IGJvb2xlYW4gfX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZhbGlkUG9zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbGlkUG9zKHBvcywgaW5kZXgpIHtcbiAgICAgIHZhciByYW5nZSA9IHRoaXMudmFsdWVQb3NSYW5nZVtpbmRleF07XG4gICAgICB2YXIgaW5SYW5nZSA9IHRydWU7XG5cbiAgICAgIGlmIChwb3MgPCByYW5nZVswXSkge1xuICAgICAgICBwb3MgPSByYW5nZVswXTtcbiAgICAgICAgaW5SYW5nZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChwb3MgPiByYW5nZVsxXSkge1xuICAgICAgICBwb3MgPSByYW5nZVsxXTtcbiAgICAgICAgaW5SYW5nZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwb3M6IHBvcyxcbiAgICAgICAgaW5SYW5nZTogaW5SYW5nZVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2xpZGVyIGJ5IHZhbHVlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1ZhbHVlfSB2YWxcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGFyc2VWYWx1ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZVZhbHVlKHZhbCkge1xuICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICB2YWwgPSB0aGlzLmRhdGEuaW5kZXhPZih2YWwpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YWwgPSArdmFsO1xuXG4gICAgICAgIGlmICh2YWwgPCB0aGlzLm1pbikge1xuICAgICAgICAgIHRoaXMuZW1pdEVycm9yKEVSUk9SX1RZUEUuTUlOKTtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWwgPiB0aGlzLm1heCkge1xuICAgICAgICAgIHRoaXMuZW1pdEVycm9yKEVSUk9SX1RZUEUuTUFYKTtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJyB8fCB2YWwgIT09IHZhbCkge1xuICAgICAgICAgIHRoaXMuZW1pdEVycm9yKEVSUk9SX1RZUEUuVkFMVUUpO1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsID0gbmV3IERlY2ltYWwodmFsKS5taW51cyh0aGlzLm1pbikuZGl2aWRlKHRoaXMuaW50ZXJ2YWwpLnRvTnVtYmVyKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3MgPSBuZXcgRGVjaW1hbCh2YWwpLm11bHRpcGx5KHRoaXMuZ2FwKS50b051bWJlcigpO1xuICAgICAgcmV0dXJuIHBvcyA8IDAgPyAwIDogcG9zID4gMTAwID8gMTAwIDogcG9zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHZhbHVlIGJ5IHBvc2l0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9zXG4gICAgICogQHJldHVybnMge1ZhbHVlfVxuICAgICAqIEBtZW1iZXJvZiBDb250cm9sXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJzZVBvc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZVBvcyhwb3MpIHtcbiAgICAgIHZhciBpbmRleCA9IE1hdGgucm91bmQocG9zIC8gdGhpcy5nYXApO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVCeUluZGV4KGluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHRoZSBsb2NhdGlvbiBpcyBhY3RpdmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgQ29udHJvbFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNBY3RpdmVCeVBvc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FjdGl2ZUJ5UG9zKHBvcykge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0FycmF5LnNvbWUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgICBzdGFydCA9IF9yZWYyWzBdLFxuICAgICAgICAgICAgZW5kID0gX3JlZjJbMV07XG5cbiAgICAgICAgcmV0dXJuIHBvcyA+PSBzdGFydCAmJiBwb3MgPD0gZW5kO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBlYWNoIHZhbHVlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7VmFsdWVbXX1cbiAgICAgKiBAbWVtYmVyb2YgQ29udHJvbFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmFsdWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlcygpIHtcbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSB0aGlzLnRvdGFsOyBpKyspIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChuZXcgRGVjaW1hbChpKS5tdWx0aXBseSh0aGlzLmludGVydmFsKS5wbHVzKHRoaXMubWluKS50b051bWJlcigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2Ugb2YgdGhlIHJhbmdlXG4gICAgICogQHBhcmFtIHJhbmdlIG51bWJlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UmFuZ2VEaXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmFuZ2VEaXIocmFuZ2UpIHtcbiAgICAgIHJldHVybiByYW5nZSA/IG5ldyBEZWNpbWFsKHJhbmdlKS5kaXZpZGUobmV3IERlY2ltYWwodGhpcy5kYXRhID8gdGhpcy5kYXRhLmxlbmd0aCAtIDEgOiB0aGlzLm1heCkubWludXModGhpcy5kYXRhID8gMCA6IHRoaXMubWluKS50b051bWJlcigpKS5tdWx0aXBseSgxMDApLnRvTnVtYmVyKCkgOiAxMDA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVtaXRFcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0RXJyb3IodHlwZSkge1xuICAgICAgaWYgKHRoaXMub25FcnJvcikge1xuICAgICAgICB0aGlzLm9uRXJyb3IodHlwZSwgRVJST1JfTVNHW3R5cGVdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RG90T3B0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERvdE9wdGlvbihpbmRleCkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5kb3RPcHRpb25zKSA/IHRoaXMuZG90T3B0aW9uc1tpbmRleF0gOiB0aGlzLmRvdE9wdGlvbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldERvdFJhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERvdFJhbmdlKGluZGV4LCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLmRvdE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9wdGlvbiA9IHRoaXMuZ2V0RG90T3B0aW9uKGluZGV4KTtcbiAgICAgIHJldHVybiBvcHRpb24gJiYgb3B0aW9uW2tleV0gIT09IHZvaWQgMCA/IHRoaXMucGFyc2VWYWx1ZShvcHRpb25ba2V5XSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNsaWRpbmcgcmFuZ2Ugb2YgZWFjaCBzbGlkZXJcbiAgICAgKlxuICAgICAqIEB0eXBlIHtBcnJheTxbbnVtYmVyLCBudW1iZXJdPn1cbiAgICAgKiBAbWVtYmVyb2YgQ29udHJvbFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFya0xpc3RcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMubWFya3MpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICB2YXIgZ2V0TWFya0J5VmFsdWUgPSBmdW5jdGlvbiBnZXRNYXJrQnlWYWx1ZSh2YWx1ZSwgbWFyaykge1xuICAgICAgICB2YXIgcG9zID0gX3RoaXM3LnBhcnNlVmFsdWUodmFsdWUpO1xuXG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBwb3M6IHBvcyxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgbGFiZWw6IHZhbHVlLFxuICAgICAgICAgIGFjdGl2ZTogX3RoaXM3LmlzQWN0aXZlQnlQb3MocG9zKVxuICAgICAgICB9LCBtYXJrKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1hcmtzID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlcygpLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0TWFya0J5VmFsdWUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMubWFya3MpID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tYXJrcykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgIHJldHVybiArYSAtICtiO1xuICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIGl0ZW0gPSBfdGhpczcubWFya3NbdmFsdWVdO1xuICAgICAgICAgIHJldHVybiBnZXRNYXJrQnlWYWx1ZSh2YWx1ZSwgdHlwZW9mIGl0ZW0gIT09ICdzdHJpbmcnID8gaXRlbSA6IHtcbiAgICAgICAgICAgIGxhYmVsOiBpdGVtXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMubWFya3MpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmtzLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0TWFya0J5VmFsdWUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMubWFya3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVzKCkubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICByZXN1bHQ6IF90aGlzNy5tYXJrcyh2YWx1ZSlcbiAgICAgICAgICB9O1xuICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IF9yZWYzLnJlc3VsdDtcbiAgICAgICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAoX3JlZjQpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBfcmVmNC52YWx1ZSxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gX3JlZjQucmVzdWx0O1xuICAgICAgICAgIHJldHVybiBnZXRNYXJrQnlWYWx1ZSh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInByb2Nlc3NBcnJheVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMucHJvY2Vzcykge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvY2VzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3ModGhpcy5kb3RzUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRvdHNQb3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIFtbMCwgdGhpcy5kb3RzUG9zWzBdXV07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kb3RzUG9zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXR1cm4gW1tNYXRoLm1pbi5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5kb3RzUG9zKSksIE1hdGgubWF4LmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmRvdHNQb3MpKV1dO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiB2YWx1ZXNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIENvbnRyb2xcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvdGFsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgdG90YWwgPSAwO1xuXG4gICAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgIHRvdGFsID0gdGhpcy5kYXRhLmxlbmd0aCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3RhbCA9IG5ldyBEZWNpbWFsKHRoaXMubWF4KS5taW51cyh0aGlzLm1pbikuZGl2aWRlKHRoaXMuaW50ZXJ2YWwpLnRvTnVtYmVyKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0b3RhbCAtIE1hdGguZmxvb3IodG90YWwpICE9PSAwKSB7XG4gICAgICAgIHRoaXMuZW1pdEVycm9yKEVSUk9SX1RZUEUuSU5URVJWQUwpO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH0gLy8gRGlzdGFuY2UgYmV0d2VlbiBlYWNoIHZhbHVlXG5cbiAgfSwge1xuICAgIGtleTogXCJnYXBcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAxMDAgLyB0aGlzLnRvdGFsO1xuICAgIH0gLy8gVGhlIG1pbmltdW0gZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHNsaWRlcnNcblxuICB9LCB7XG4gICAga2V5OiBcIm1pblJhbmdlRGlyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAodGhpcy5jYWNoZVJhbmdlRGlyW3RoaXMubWluUmFuZ2VdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmFuZ2VEaXJbdGhpcy5taW5SYW5nZV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmFuZ2VEaXJbdGhpcy5taW5SYW5nZV0gPSB0aGlzLmdldFJhbmdlRGlyKHRoaXMubWluUmFuZ2UpO1xuICAgIH0gLy8gTWF4aW11bSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gc2xpZGVyc1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWF4UmFuZ2VEaXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICh0aGlzLmNhY2hlUmFuZ2VEaXJbdGhpcy5tYXhSYW5nZV0pIHJldHVybiB0aGlzLmNhY2hlUmFuZ2VEaXJbdGhpcy5tYXhSYW5nZV07XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJhbmdlRGlyW3RoaXMubWF4UmFuZ2VdID0gdGhpcy5nZXRSYW5nZURpcih0aGlzLm1heFJhbmdlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidmFsdWVQb3NSYW5nZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgIHZhciBkb3RzUG9zID0gdGhpcy5kb3RzUG9zO1xuICAgICAgdmFyIHZhbHVlUG9zUmFuZ2UgPSBbXTtcbiAgICAgIGRvdHNQb3MuZm9yRWFjaChmdW5jdGlvbiAocG9zLCBpKSB7XG4gICAgICAgIHZhbHVlUG9zUmFuZ2UucHVzaChbTWF0aC5tYXgoX3RoaXM4Lm1pblJhbmdlID8gX3RoaXM4Lm1pblJhbmdlRGlyICogaSA6IDAsICFfdGhpczguZW5hYmxlQ3Jvc3MgPyBkb3RzUG9zW2kgLSAxXSB8fCAwIDogMCwgX3RoaXM4LmdldERvdFJhbmdlKGksICdtaW4nLCAwKSksIE1hdGgubWluKF90aGlzOC5taW5SYW5nZSA/IDEwMCAtIF90aGlzOC5taW5SYW5nZURpciAqIChkb3RzUG9zLmxlbmd0aCAtIDEgLSBpKSA6IDEwMCwgIV90aGlzOC5lbmFibGVDcm9zcyA/IGRvdHNQb3NbaSArIDFdIHx8IDEwMCA6IDEwMCwgX3RoaXM4LmdldERvdFJhbmdlKGksICdtYXgnLCAxMDApKV0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdmFsdWVQb3NSYW5nZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZG90c0luZGV4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuZG90c1ZhbHVlLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiBfdGhpczkuZ2V0SW5kZXhCeVZhbHVlKHZhbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29udHJvbDtcbn0oKTtcblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL2xpYi91dGlscy9zdGF0ZS50c1xuZnVuY3Rpb24gc3RhdGVfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBzdGF0ZV9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gc3RhdGVfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBzdGF0ZV9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgc3RhdGVfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFN0YXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RhdGUobWFwKSB7XG4gICAgc3RhdGVfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhdGUpO1xuXG4gICAgdGhpcy5zdGF0ZXMgPSAwO1xuICAgIHRoaXMubWFwID0gbWFwO1xuICB9XG5cbiAgc3RhdGVfY3JlYXRlQ2xhc3MoU3RhdGUsIFt7XG4gICAga2V5OiBcImFkZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoc3RhdGUpIHtcbiAgICAgIHRoaXMuc3RhdGVzIHw9IHN0YXRlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShzdGF0ZSkge1xuICAgICAgdGhpcy5zdGF0ZXMgJj0gfnN0YXRlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b2dnbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlKHN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5oYXMoc3RhdGUpKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlKHN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkKHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhzdGF0ZSkge1xuICAgICAgcmV0dXJuICEhKHRoaXMuc3RhdGVzICYgc3RhdGUpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdGF0ZTtcbn0oKTtcblxuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbGliL3N0eWxlcy9zbGlkZXIuc2Nzc1xudmFyIHNsaWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oXCI0YWJiXCIpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL2xpYi92dWUtc2xpZGVyLnRzeFxuXG5cbmZ1bmN0aW9uIHZ1ZV9zbGlkZXJfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIHZ1ZV9zbGlkZXJfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCB2dWVfc2xpZGVyX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdnVlX3NsaWRlcl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IHZ1ZV9zbGlkZXJfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIHZ1ZV9zbGlkZXJfb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgdnVlX3NsaWRlcl9vd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgdnVlX3NsaWRlcl9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyB2dWVfc2xpZGVyX293bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gdnVlX3NsaWRlcl9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IHZ1ZV9zbGlkZXJfaXRlcmFibGVUb0FycmF5KGFycikgfHwgdnVlX3NsaWRlcl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHZ1ZV9zbGlkZXJfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gdnVlX3NsaWRlcl9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gdnVlX3NsaWRlcl9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gdnVlX3NsaWRlcl9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgdnVlX3NsaWRlcl90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgdnVlX3NsaWRlcl90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gdnVlX3NsaWRlcl90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSB2dWVfc2xpZGVyX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX3NldFByb3RvdHlwZU9mKG8sIHApIHsgdnVlX3NsaWRlcl9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gdnVlX3NsaWRlcl9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSB2dWVfc2xpZGVyX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IHZ1ZV9zbGlkZXJfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IHZ1ZV9zbGlkZXJfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIHZ1ZV9zbGlkZXJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIHZ1ZV9zbGlkZXJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmICh2dWVfc2xpZGVyX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gdnVlX3NsaWRlcl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gdnVlX3NsaWRlcl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiB2dWVfc2xpZGVyX2dldFByb3RvdHlwZU9mKG8pIHsgdnVlX3NsaWRlcl9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiB2dWVfc2xpZGVyX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBTbGlkZXJTdGF0ZSA9IHtcbiAgTm9uZTogMCxcbiAgRHJhZzogMSA8PCAxLFxuICBGb2N1czogMSA8PCAyXG59O1xudmFyIERFRkFVTFRfU0xJREVSX1NJWkUgPSA0O1xuXG52YXIgdnVlX3NsaWRlcl9WdWVTbGlkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHtcbiAgdnVlX3NsaWRlcl9pbmhlcml0cyhWdWVTbGlkZXIsIF9WdWUpO1xuXG4gIHZhciBfc3VwZXIgPSB2dWVfc2xpZGVyX2NyZWF0ZVN1cGVyKFZ1ZVNsaWRlcik7XG5cbiAgZnVuY3Rpb24gVnVlU2xpZGVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIHZ1ZV9zbGlkZXJfY2xhc3NDYWxsQ2hlY2sodGhpcywgVnVlU2xpZGVyKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgX3RoaXMuc3RhdGVzID0gbmV3IFN0YXRlKFNsaWRlclN0YXRlKTsgLy8gVGhlIHdpZHRoIG9mIHRoZSBjb21wb25lbnQgaXMgZGl2aWRlZCBpbnRvIG9uZSBodW5kcmVkLCB0aGUgd2lkdGggb2YgZWFjaCBvbmUuXG5cbiAgICBfdGhpcy5zY2FsZSA9IDE7IC8vIEN1cnJlbnRseSBkcmFnZ2VkIHNsaWRlciBpbmRleFxuXG4gICAgX3RoaXMuZm9jdXNEb3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdnVlX3NsaWRlcl9jcmVhdGVDbGFzcyhWdWVTbGlkZXIsIFt7XG4gICAga2V5OiBcImlzT2JqZWN0RGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc09iamVjdERhdGEoZGF0YSkge1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0YSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc09iamVjdEFycmF5RGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc09iamVjdEFycmF5RGF0YShkYXRhKSB7XG4gICAgICByZXR1cm4gISFkYXRhICYmIEFycmF5LmlzQXJyYXkoZGF0YSkgJiYgZGF0YS5sZW5ndGggPiAwICYmIHZ1ZV9zbGlkZXJfdHlwZW9mKGRhdGFbMF0pID09PSAnb2JqZWN0JztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25WYWx1ZUNoYW5nZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25WYWx1ZUNoYW5nZWQoKSB7XG4gICAgICBpZiAodGhpcy5jb250cm9sICYmICF0aGlzLnN0YXRlcy5oYXMoU2xpZGVyU3RhdGUuRHJhZykgJiYgdGhpcy5pc05vdFN5bmMpIHtcbiAgICAgICAgdGhpcy5jb250cm9sLnNldFZhbHVlKHRoaXMudmFsdWUpO1xuICAgICAgICB0aGlzLnN5bmNWYWx1ZUJ5UG9zKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICAgIHRoaXMuaW5pdENvbnRyb2woKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibW91bnRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgICAgdGhpcy5iaW5kRXZlbnQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYmVmb3JlRGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge1xuICAgICAgdGhpcy51bmJpbmRFdmVudCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJiaW5kRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50KCkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5kcmFnTW92ZSwge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuZHJhZ0VuZCwge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmJsdXJIYW5kbGUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5kcmFnTW92ZSwge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5kcmFnRW5kKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmRyYWdFbmQpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkhhbmRsZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVuYmluZEV2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuYmluZEV2ZW50KCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5kcmFnTW92ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuZHJhZ0VuZCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmJsdXJIYW5kbGUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5kcmFnTW92ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5kcmFnRW5kKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmRyYWdFbmQpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkhhbmRsZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFNjYWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNjYWxlKCkge1xuICAgICAgdmFyIGRlY2ltYWwgPSBuZXcgRGVjaW1hbChNYXRoLmZsb29yKHRoaXMuaXNIb3Jpem9udGFsID8gdGhpcy4kcmVmcy5yYWlsLm9mZnNldFdpZHRoIDogdGhpcy4kcmVmcy5yYWlsLm9mZnNldEhlaWdodCkpO1xuXG4gICAgICBpZiAodGhpcy56b29tICE9PSB2b2lkIDApIHtcbiAgICAgICAgZGVjaW1hbC5tdWx0aXBseSh0aGlzLnpvb20pO1xuICAgICAgfVxuXG4gICAgICBkZWNpbWFsLmRpdmlkZSgxMDApO1xuICAgICAgdGhpcy5zY2FsZSA9IGRlY2ltYWwudG9OdW1iZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdENvbnRyb2xcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdENvbnRyb2woKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5jb250cm9sID0gbmV3IGNvbnRyb2xfQ29udHJvbCh7XG4gICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICBkYXRhOiB0aGlzLnNsaWRlckRhdGEsXG4gICAgICAgIGVuYWJsZUNyb3NzOiB0aGlzLmVuYWJsZUNyb3NzLFxuICAgICAgICBmaXhlZDogdGhpcy5maXhlZCxcbiAgICAgICAgbWF4OiB0aGlzLm1heCxcbiAgICAgICAgbWluOiB0aGlzLm1pbixcbiAgICAgICAgaW50ZXJ2YWw6IHRoaXMuaW50ZXJ2YWwsXG4gICAgICAgIG1pblJhbmdlOiB0aGlzLm1pblJhbmdlLFxuICAgICAgICBtYXhSYW5nZTogdGhpcy5tYXhSYW5nZSxcbiAgICAgICAgb3JkZXI6IHRoaXMub3JkZXIsXG4gICAgICAgIG1hcmtzOiB0aGlzLnNsaWRlck1hcmtzLFxuICAgICAgICBpbmNsdWRlZDogdGhpcy5pbmNsdWRlZCxcbiAgICAgICAgcHJvY2VzczogdGhpcy5wcm9jZXNzLFxuICAgICAgICBhZHNvcmI6IHRoaXMuYWRzb3JiLFxuICAgICAgICBkb3RPcHRpb25zOiB0aGlzLmRvdE9wdGlvbnMsXG4gICAgICAgIG9uRXJyb3I6IHRoaXMuZW1pdEVycm9yXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3luY1ZhbHVlQnlQb3MoKTtcbiAgICAgIFsnZGF0YScsICdlbmFibGVDcm9zcycsICdmaXhlZCcsICdtYXgnLCAnbWluJywgJ2ludGVydmFsJywgJ21pblJhbmdlJywgJ21heFJhbmdlJywgJ29yZGVyJywgJ21hcmtzJywgJ3Byb2Nlc3MnLCAnYWRzb3JiJywgJ2luY2x1ZGVkJywgJ2RvdE9wdGlvbnMnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIF90aGlzMi4kd2F0Y2gobmFtZSwgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgIGlmIChuYW1lID09PSAnZGF0YScgJiYgQXJyYXkuaXNBcnJheShfdGhpczIuY29udHJvbC5kYXRhKSAmJiBBcnJheS5pc0FycmF5KHZhbCkgJiYgX3RoaXMyLmNvbnRyb2wuZGF0YS5sZW5ndGggPT09IHZhbC5sZW5ndGggJiYgdmFsLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0gPT09IF90aGlzMi5jb250cm9sLmRhdGFbaW5kZXhdO1xuICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgIGNhc2UgJ2RhdGFMYWJlbCc6XG4gICAgICAgICAgICBjYXNlICdkYXRhVmFsdWUnOlxuICAgICAgICAgICAgICBfdGhpczIuY29udHJvbC5kYXRhID0gX3RoaXMyLnNsaWRlckRhdGE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdtYXJrJzpcbiAgICAgICAgICAgICAgX3RoaXMyLmNvbnRyb2wubWFya3MgPSBfdGhpczIuc2xpZGVyTWFya3M7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIF90aGlzMi5jb250cm9sW25hbWVdID0gdmFsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChbJ2RhdGEnLCAnbWF4JywgJ21pbicsICdpbnRlcnZhbCddLmluZGV4T2YobmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgX3RoaXMyLmNvbnRyb2wuc3luY0RvdHNQb3MoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN5bmNWYWx1ZUJ5UG9zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN5bmNWYWx1ZUJ5UG9zKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuY29udHJvbC5kb3RzVmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLmlzRGlmZih2YWx1ZXMsIEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkgPyB0aGlzLnZhbHVlIDogW3RoaXMudmFsdWVdKSkge1xuICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2YWx1ZXMubGVuZ3RoID09PSAxID8gdmFsdWVzWzBdIDogdnVlX3NsaWRlcl90b0NvbnN1bWFibGVBcnJheSh2YWx1ZXMpLCB0aGlzLmZvY3VzRG90SW5kZXgpO1xuICAgICAgfVxuICAgIH0gLy8gU2xpZGVyIHZhbHVlIGFuZCBjb21wb25lbnQgaW50ZXJuYWwgdmFsdWUgYXJlIGluY29uc2lzdGVudFxuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNEaWZmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRGlmZih2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgcmV0dXJuIHZhbHVlMS5sZW5ndGggIT09IHZhbHVlMi5sZW5ndGggfHwgdmFsdWUxLnNvbWUoZnVuY3Rpb24gKHZhbCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHZhbCAhPT0gdmFsdWUyW2luZGV4XTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbWl0RXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdEVycm9yKHR5cGUsIG1lc3NhZ2UpIHtcbiAgICAgIGlmICghdGhpcy5zaWxlbnQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltWdWVTbGlkZXIgZXJyb3JdOiBcIi5jb25jYXQobWVzc2FnZSkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiRlbWl0KCdlcnJvcicsIHR5cGUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRyYWcgcmFuZ2Ugb2YgdGhlIHNsaWRlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggc2xpZGVyIGluZGV4XG4gICAgICogQHJldHVybnMge1tudW1iZXIsIG51bWJlcl19IHJhbmdlIFtzdGFydCwgZW5kXVxuICAgICAqIEBtZW1iZXJvZiBWdWVTbGlkZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRyYWdTdGFydE9uUHJvY2Vzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnU3RhcnRPblByb2Nlc3MoZSkge1xuICAgICAgaWYgKHRoaXMuZHJhZ09uQ2xpY2spIHtcbiAgICAgICAgdGhpcy5zZXRTY2FsZSgpO1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5nZXRQb3NCeUV2ZW50KGUpO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNvbnRyb2wuZ2V0UmVjZW50RG90KHBvcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuZG90c1tpbmRleF0uZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYWdTdGFydChpbmRleCk7XG4gICAgICAgIHRoaXMuY29udHJvbC5zZXREb3RQb3MocG9zLCB0aGlzLmZvY3VzRG90SW5kZXgpO1xuXG4gICAgICAgIGlmICghdGhpcy5sYXp5KSB7XG4gICAgICAgICAgdGhpcy5zeW5jVmFsdWVCeVBvcygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYWdTdGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnU3RhcnQoaW5kZXgpIHtcbiAgICAgIHRoaXMuZm9jdXNEb3RJbmRleCA9IGluZGV4O1xuICAgICAgdGhpcy5zZXRTY2FsZSgpO1xuICAgICAgdGhpcy5zdGF0ZXMuYWRkKFNsaWRlclN0YXRlLkRyYWcpO1xuICAgICAgdGhpcy5zdGF0ZXMuYWRkKFNsaWRlclN0YXRlLkZvY3VzKTtcbiAgICAgIHRoaXMuJGVtaXQoJ2RyYWctc3RhcnQnLCB0aGlzLmZvY3VzRG90SW5kZXgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmFnTW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnTW92ZShlKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGVzLmhhcyhTbGlkZXJTdGF0ZS5EcmFnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBwb3MgPSB0aGlzLmdldFBvc0J5RXZlbnQoZSk7XG4gICAgICB0aGlzLmlzQ3Jvc3NEb3QocG9zKTtcbiAgICAgIHRoaXMuY29udHJvbC5zZXREb3RQb3MocG9zLCB0aGlzLmZvY3VzRG90SW5kZXgpO1xuXG4gICAgICBpZiAoIXRoaXMubGF6eSkge1xuICAgICAgICB0aGlzLnN5bmNWYWx1ZUJ5UG9zKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29udHJvbC5kb3RzVmFsdWU7XG4gICAgICB0aGlzLiRlbWl0KCdkcmFnZ2luZycsIHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdnVlX3NsaWRlcl90b0NvbnN1bWFibGVBcnJheSh2YWx1ZSksIHRoaXMuZm9jdXNEb3RJbmRleCk7XG4gICAgfSAvLyBJZiB0aGUgY29tcG9uZW50IGlzIHNvcnRlZCwgdGhlbiB3aGVuIHRoZSBzbGlkZXIgY3Jvc3NlcywgdG9nZ2xlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgc2xpZGVyIGluZGV4XG5cbiAgfSwge1xuICAgIGtleTogXCJpc0Nyb3NzRG90XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ3Jvc3NEb3QocG9zKSB7XG4gICAgICBpZiAodGhpcy5jYW5Tb3J0KSB7XG4gICAgICAgIHZhciBjdXJJbmRleCA9IHRoaXMuZm9jdXNEb3RJbmRleDtcbiAgICAgICAgdmFyIGN1clBvcyA9IHBvcztcblxuICAgICAgICBpZiAoY3VyUG9zID4gdGhpcy5kcmFnUmFuZ2VbMV0pIHtcbiAgICAgICAgICBjdXJQb3MgPSB0aGlzLmRyYWdSYW5nZVsxXTtcbiAgICAgICAgICB0aGlzLmZvY3VzRG90SW5kZXgrKztcbiAgICAgICAgfSBlbHNlIGlmIChjdXJQb3MgPCB0aGlzLmRyYWdSYW5nZVswXSkge1xuICAgICAgICAgIGN1clBvcyA9IHRoaXMuZHJhZ1JhbmdlWzBdO1xuICAgICAgICAgIHRoaXMuZm9jdXNEb3RJbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1ckluZGV4ICE9PSB0aGlzLmZvY3VzRG90SW5kZXgpIHtcbiAgICAgICAgICB2YXIgZG90Vm0gPSB0aGlzLiRyZWZzW1wiZG90LVwiLmNvbmNhdCh0aGlzLmZvY3VzRG90SW5kZXgpXTtcblxuICAgICAgICAgIGlmIChkb3RWbSAmJiBkb3RWbS4kZWwpIHtcbiAgICAgICAgICAgIGRvdFZtLiRlbC5mb2N1cygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuY29udHJvbC5zZXREb3RQb3MoY3VyUG9zLCBjdXJJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ0VuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnRW5kKGUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGVzLmhhcyhTbGlkZXJTdGF0ZS5EcmFnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMzLmxhenkpIHtcbiAgICAgICAgICBfdGhpczMuc3luY1ZhbHVlQnlQb3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpczMuaW5jbHVkZWQgJiYgX3RoaXMzLmlzTm90U3luYykge1xuICAgICAgICAgIF90aGlzMy5jb250cm9sLnNldFZhbHVlKF90aGlzMy52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU3luYyBzbGlkZXIgcG9zaXRpb25cbiAgICAgICAgICBfdGhpczMuY29udHJvbC5zeW5jRG90c1BvcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnN0YXRlcy5kZWxldGUoU2xpZGVyU3RhdGUuRHJhZyk7IC8vIElmIHVzZUtleWJvYXJkIGlzIHRydWUsIGtlZXAgZm9jdXMgc3RhdHVzIGFmdGVyIGRyYWdnaW5nXG5cblxuICAgICAgICBpZiAoIV90aGlzMy51c2VLZXlib2FyZCB8fCAndGFyZ2V0VG91Y2hlcycgaW4gZSkge1xuICAgICAgICAgIF90aGlzMy5zdGF0ZXMuZGVsZXRlKFNsaWRlclN0YXRlLkZvY3VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy4kZW1pdCgnZHJhZy1lbmQnLCBfdGhpczMuZm9jdXNEb3RJbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYmx1ckhhbmRsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBibHVySGFuZGxlKGUpIHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZXMuaGFzKFNsaWRlclN0YXRlLkZvY3VzKSB8fCAhdGhpcy4kcmVmcy5jb250YWluZXIgfHwgdGhpcy4kcmVmcy5jb250YWluZXIuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZXMuZGVsZXRlKFNsaWRlclN0YXRlLkZvY3VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xpY2tIYW5kbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xpY2tIYW5kbGUoZSkge1xuICAgICAgaWYgKCF0aGlzLmNsaWNrYWJsZSB8fCB0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhdGVzLmhhcyhTbGlkZXJTdGF0ZS5EcmFnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U2NhbGUoKTtcbiAgICAgIHZhciBwb3MgPSB0aGlzLmdldFBvc0J5RXZlbnQoZSk7XG4gICAgICB0aGlzLnNldFZhbHVlQnlQb3MocG9zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9jdXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICB2YXIgaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICB0aGlzLnN0YXRlcy5hZGQoU2xpZGVyU3RhdGUuRm9jdXMpO1xuICAgICAgdGhpcy5mb2N1c0RvdEluZGV4ID0gaW5kZXg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImJsdXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmx1cigpIHtcbiAgICAgIHRoaXMuc3RhdGVzLmRlbGV0ZShTbGlkZXJTdGF0ZS5Gb2N1cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuY29udHJvbC5kb3RzVmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWVzLmxlbmd0aCA9PT0gMSA/IHZhbHVlc1swXSA6IHZhbHVlcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0SW5kZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5kZXgoKSB7XG4gICAgICB2YXIgaW5kZXhlcyA9IHRoaXMuY29udHJvbC5kb3RzSW5kZXg7XG4gICAgICByZXR1cm4gaW5kZXhlcy5sZW5ndGggPT09IDEgPyBpbmRleGVzWzBdIDogaW5kZXhlcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0VmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgIHRoaXMuY29udHJvbC5zZXRWYWx1ZShBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZ1ZV9zbGlkZXJfdG9Db25zdW1hYmxlQXJyYXkodmFsdWUpIDogW3ZhbHVlXSk7XG4gICAgICB0aGlzLnN5bmNWYWx1ZUJ5UG9zKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldEluZGV4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEluZGV4KGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIHZhbHVlID0gQXJyYXkuaXNBcnJheShpbmRleCkgPyBpbmRleC5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNC5jb250cm9sLmdldFZhbHVlQnlJbmRleChuKTtcbiAgICAgIH0pIDogdGhpcy5jb250cm9sLmdldFZhbHVlQnlJbmRleChpbmRleCk7XG4gICAgICB0aGlzLnNldFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0VmFsdWVCeVBvc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZUJ5UG9zKHBvcykge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciBpbmRleCA9IHRoaXMuY29udHJvbC5nZXRSZWNlbnREb3QocG9zKTtcblxuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5kb3RzW2luZGV4XS5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZm9jdXNEb3RJbmRleCA9IGluZGV4O1xuICAgICAgdGhpcy5jb250cm9sLnNldERvdFBvcyhwb3MsIGluZGV4KTtcbiAgICAgIHRoaXMuc3luY1ZhbHVlQnlQb3MoKTtcblxuICAgICAgaWYgKHRoaXMudXNlS2V5Ym9hcmQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZXMuYWRkKFNsaWRlclN0YXRlLkZvY3VzKTtcbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczUuaW5jbHVkZWQgJiYgX3RoaXM1LmlzTm90U3luYykge1xuICAgICAgICAgIF90aGlzNS5jb250cm9sLnNldFZhbHVlKF90aGlzNS52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXM1LmNvbnRyb2wuc3luY0RvdHNQb3MoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImtleWRvd25IYW5kbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24ga2V5ZG93bkhhbmRsZShlKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLnVzZUtleWJvYXJkIHx8ICF0aGlzLnN0YXRlcy5oYXMoU2xpZGVyU3RhdGUuRm9jdXMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzSW5jbHVkZSA9IHRoaXMuaW5jbHVkZWQgJiYgdGhpcy5tYXJrcztcbiAgICAgIHZhciBoYW5kbGVGdW5jID0gZ2V0S2V5Ym9hcmRIYW5kbGVGdW5jKGUsIHtcbiAgICAgICAgZGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvbixcbiAgICAgICAgbWF4OiBpc0luY2x1ZGUgPyB0aGlzLmNvbnRyb2wubWFya0xpc3QubGVuZ3RoIC0gMSA6IHRoaXMuY29udHJvbC50b3RhbCxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBob29rOiB0aGlzLmtleWRvd25Ib29rXG4gICAgICB9KTtcblxuICAgICAgaWYgKGhhbmRsZUZ1bmMpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgbmV3SW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHBvcyA9IDA7XG5cbiAgICAgICAgaWYgKGlzSW5jbHVkZSkge1xuICAgICAgICAgIHRoaXMuY29udHJvbC5tYXJrTGlzdC5zb21lKGZ1bmN0aW9uIChtYXJrLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKG1hcmsudmFsdWUgPT09IF90aGlzNi5jb250cm9sLmRvdHNWYWx1ZVtfdGhpczYuZm9jdXNEb3RJbmRleF0pIHtcbiAgICAgICAgICAgICAgbmV3SW5kZXggPSBoYW5kbGVGdW5jKGluZGV4KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChuZXdJbmRleCA8IDApIHtcbiAgICAgICAgICAgIG5ld0luZGV4ID0gMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5ld0luZGV4ID4gdGhpcy5jb250cm9sLm1hcmtMaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIG5ld0luZGV4ID0gdGhpcy5jb250cm9sLm1hcmtMaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcG9zID0gdGhpcy5jb250cm9sLm1hcmtMaXN0W25ld0luZGV4XS5wb3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3SW5kZXggPSBoYW5kbGVGdW5jKHRoaXMuY29udHJvbC5nZXRJbmRleEJ5VmFsdWUodGhpcy5jb250cm9sLmRvdHNWYWx1ZVt0aGlzLmZvY3VzRG90SW5kZXhdKSk7XG4gICAgICAgICAgcG9zID0gdGhpcy5jb250cm9sLnBhcnNlVmFsdWUodGhpcy5jb250cm9sLmdldFZhbHVlQnlJbmRleChuZXdJbmRleCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0Nyb3NzRG90KHBvcyk7XG4gICAgICAgIHRoaXMuY29udHJvbC5zZXREb3RQb3MocG9zLCB0aGlzLmZvY3VzRG90SW5kZXgpO1xuICAgICAgICB0aGlzLnN5bmNWYWx1ZUJ5UG9zKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFBvc0J5RXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9zQnlFdmVudChlKSB7XG4gICAgICByZXR1cm4gZ2V0UG9zKGUsIHRoaXMuJHJlZnMucmFpbCwgdGhpcy5pc1JldmVyc2UsIHRoaXMuem9vbSlbdGhpcy5pc0hvcml6b250YWwgPyAneCcgOiAneSddIC8gdGhpcy5zY2FsZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyU2xvdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJTbG90KG5hbWUsIGRhdGEsIGRlZmF1bHRTbG90LCBpc0RlZmF1bHQpIHtcbiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDtcbiAgICAgIHZhciBzY29wZWRTbG90ID0gdGhpcy4kc2NvcGVkU2xvdHNbbmFtZV07XG4gICAgICByZXR1cm4gc2NvcGVkU2xvdCA/IGlzRGVmYXVsdCA/IHNjb3BlZFNsb3QoZGF0YSkgOiBoKFwidGVtcGxhdGVcIiwge1xuICAgICAgICBcInNsb3RcIjogbmFtZVxuICAgICAgfSwgW3Njb3BlZFNsb3QoZGF0YSldKSA6IGRlZmF1bHRTbG90O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHZhciBoID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwgaGVscGVyX2RlZmF1bHQoKShbe1xuICAgICAgICBcInJlZlwiOiBcImNvbnRhaW5lclwiLFxuICAgICAgICBcImNsYXNzXCI6IHRoaXMuY29udGFpbmVyQ2xhc3NlcyxcbiAgICAgICAgXCJzdHlsZVwiOiB0aGlzLmNvbnRhaW5lclN0eWxlcyxcbiAgICAgICAgXCJvblwiOiB7XG4gICAgICAgICAgXCJjbGlja1wiOiB0aGlzLmNsaWNrSGFuZGxlLFxuICAgICAgICAgIFwidG91Y2hzdGFydFwiOiB0aGlzLmRyYWdTdGFydE9uUHJvY2VzcyxcbiAgICAgICAgICBcIm1vdXNlZG93blwiOiB0aGlzLmRyYWdTdGFydE9uUHJvY2Vzc1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLiRhdHRyc10pLCBbaChcImRpdlwiLCB7XG4gICAgICAgIFwicmVmXCI6IFwicmFpbFwiLFxuICAgICAgICBcImNsYXNzXCI6IFwidnVlLXNsaWRlci1yYWlsXCIsXG4gICAgICAgIFwic3R5bGVcIjogdGhpcy5yYWlsU3R5bGVcbiAgICAgIH0sIFt0aGlzLnByb2Nlc3NBcnJheS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBfdGhpczcucmVuZGVyU2xvdCgncHJvY2VzcycsIGl0ZW0sIGgoXCJkaXZcIiwge1xuICAgICAgICAgIFwiY2xhc3NcIjogXCJ2dWUtc2xpZGVyLXByb2Nlc3NcIixcbiAgICAgICAgICBcImtleVwiOiBcInByb2Nlc3MtXCIuY29uY2F0KGluZGV4KSxcbiAgICAgICAgICBcInN0eWxlXCI6IGl0ZW0uc3R5bGVcbiAgICAgICAgfSksIHRydWUpO1xuICAgICAgfSksIHRoaXMuc2xpZGVyTWFya3MgPyBoKFwiZGl2XCIsIHtcbiAgICAgICAgXCJjbGFzc1wiOiBcInZ1ZS1zbGlkZXItbWFya3NcIlxuICAgICAgfSwgW3RoaXMuY29udHJvbC5tYXJrTGlzdC5tYXAoZnVuY3Rpb24gKG1hcmssIGluZGV4KSB7XG4gICAgICAgIHZhciBfcmVmO1xuXG4gICAgICAgIHJldHVybiBfdGhpczcucmVuZGVyU2xvdCgnbWFyaycsIG1hcmssIGgoXCJ2dWUtc2xpZGVyLW1hcmtcIiwge1xuICAgICAgICAgIFwia2V5XCI6IFwibWFyay1cIi5jb25jYXQoaW5kZXgpLFxuICAgICAgICAgIFwiYXR0cnNcIjoge1xuICAgICAgICAgICAgXCJtYXJrXCI6IG1hcmssXG4gICAgICAgICAgICBcImhpZGVMYWJlbFwiOiBfdGhpczcuaGlkZUxhYmVsLFxuICAgICAgICAgICAgXCJzdGVwU3R5bGVcIjogX3RoaXM3LnN0ZXBTdHlsZSxcbiAgICAgICAgICAgIFwic3RlcEFjdGl2ZVN0eWxlXCI6IF90aGlzNy5zdGVwQWN0aXZlU3R5bGUsXG4gICAgICAgICAgICBcImxhYmVsU3R5bGVcIjogX3RoaXM3LmxhYmVsU3R5bGUsXG4gICAgICAgICAgICBcImxhYmVsQWN0aXZlU3R5bGVcIjogX3RoaXM3LmxhYmVsQWN0aXZlU3R5bGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic3R5bGVcIjogKF9yZWYgPSB7fSwgdnVlX3NsaWRlcl9kZWZpbmVQcm9wZXJ0eShfcmVmLCBfdGhpczcuaXNIb3Jpem9udGFsID8gJ2hlaWdodCcgOiAnd2lkdGgnLCAnMTAwJScpLCB2dWVfc2xpZGVyX2RlZmluZVByb3BlcnR5KF9yZWYsIF90aGlzNy5pc0hvcml6b250YWwgPyAnd2lkdGgnIDogJ2hlaWdodCcsIF90aGlzNy50YWlsU2l6ZSksIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydHkoX3JlZiwgX3RoaXM3Lm1haW5EaXJlY3Rpb24sIFwiXCIuY29uY2F0KG1hcmsucG9zLCBcIiVcIikpLCBfcmVmKSxcbiAgICAgICAgICBcIm9uXCI6IHtcbiAgICAgICAgICAgIFwicHJlc3NMYWJlbFwiOiBmdW5jdGlvbiBwcmVzc0xhYmVsKHBvcykge1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LmNsaWNrYWJsZSAmJiBfdGhpczcuc2V0VmFsdWVCeVBvcyhwb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgW190aGlzNy5yZW5kZXJTbG90KCdzdGVwJywgbWFyaywgbnVsbCksIF90aGlzNy5yZW5kZXJTbG90KCdsYWJlbCcsIG1hcmssIG51bGwpXSksIHRydWUpO1xuICAgICAgfSldKSA6IG51bGwsIHRoaXMuZG90cy5tYXAoZnVuY3Rpb24gKGRvdCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIF9yZWYyO1xuXG4gICAgICAgIHJldHVybiBoKFwidnVlLXNsaWRlci1kb3RcIiwge1xuICAgICAgICAgIFwicmVmXCI6IFwiZG90LVwiLmNvbmNhdChpbmRleCksXG4gICAgICAgICAgXCJrZXlcIjogXCJkb3QtXCIuY29uY2F0KGluZGV4KSxcbiAgICAgICAgICBcImF0dHJzXCI6IHZ1ZV9zbGlkZXJfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogZG90LnZhbHVlLFxuICAgICAgICAgICAgXCJkaXNhYmxlZFwiOiBkb3QuZGlzYWJsZWQsXG4gICAgICAgICAgICBcImZvY3VzXCI6IGRvdC5mb2N1cyxcbiAgICAgICAgICAgIFwiZG90LXN0eWxlXCI6IFtkb3Quc3R5bGUsIGRvdC5kaXNhYmxlZCA/IGRvdC5kaXNhYmxlZFN0eWxlIDogbnVsbCwgZG90LmZvY3VzID8gZG90LmZvY3VzU3R5bGUgOiBudWxsXSxcbiAgICAgICAgICAgIFwidG9vbHRpcFwiOiBkb3QudG9vbHRpcCB8fCBfdGhpczcudG9vbHRpcCxcbiAgICAgICAgICAgIFwidG9vbHRpcC1zdHlsZVwiOiBbX3RoaXM3LnRvb2x0aXBTdHlsZSwgZG90LnRvb2x0aXBTdHlsZSwgZG90LmRpc2FibGVkID8gZG90LnRvb2x0aXBEaXNhYmxlZFN0eWxlIDogbnVsbCwgZG90LmZvY3VzID8gZG90LnRvb2x0aXBGb2N1c1N0eWxlIDogbnVsbF0sXG4gICAgICAgICAgICBcInRvb2x0aXAtZm9ybWF0dGVyXCI6IEFycmF5LmlzQXJyYXkoX3RoaXM3LnNsaWRlclRvb2x0aXBGb3JtYXR0ZXIpID8gX3RoaXM3LnNsaWRlclRvb2x0aXBGb3JtYXR0ZXJbaW5kZXhdIDogX3RoaXM3LnNsaWRlclRvb2x0aXBGb3JtYXR0ZXIsXG4gICAgICAgICAgICBcInRvb2x0aXAtcGxhY2VtZW50XCI6IF90aGlzNy50b29sdGlwRGlyZWN0aW9uc1tpbmRleF0sXG4gICAgICAgICAgICBcInJvbGVcIjogXCJzbGlkZXJcIixcbiAgICAgICAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiBkb3QudmFsdWUsXG4gICAgICAgICAgICBcImFyaWEtdmFsdWVtaW5cIjogX3RoaXM3Lm1pbixcbiAgICAgICAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiBfdGhpczcubWF4LFxuICAgICAgICAgICAgXCJhcmlhLW9yaWVudGF0aW9uXCI6IF90aGlzNy5pc0hvcml6b250YWwgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnLFxuICAgICAgICAgICAgXCJ0YWJpbmRleFwiOiBcIjBcIlxuICAgICAgICAgIH0sIF90aGlzNy5kb3RBdHRycyksXG4gICAgICAgICAgXCJzdHlsZVwiOiBbX3RoaXM3LmRvdEJhc2VTdHlsZSwgKF9yZWYyID0ge30sIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydHkoX3JlZjIsIF90aGlzNy5tYWluRGlyZWN0aW9uLCBcIlwiLmNvbmNhdChkb3QucG9zLCBcIiVcIikpLCB2dWVfc2xpZGVyX2RlZmluZVByb3BlcnR5KF9yZWYyLCBcInRyYW5zaXRpb25cIiwgXCJcIi5jb25jYXQoX3RoaXM3Lm1haW5EaXJlY3Rpb24sIFwiIFwiKS5jb25jYXQoX3RoaXM3LmFuaW1hdGVUaW1lLCBcInNcIikpLCBfcmVmMildLFxuICAgICAgICAgIFwib25cIjoge1xuICAgICAgICAgICAgXCJkcmFnLXN0YXJ0XCI6IGZ1bmN0aW9uIGRyYWdTdGFydCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5kcmFnU3RhcnQoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJuYXRpdmVPblwiOiB7XG4gICAgICAgICAgICBcImZvY3VzXCI6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgICAgICAgICByZXR1cm4gIWRvdC5kaXNhYmxlZCAmJiBfdGhpczcuZm9jdXMoaW5kZXgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiYmx1clwiOiBmdW5jdGlvbiBibHVyKCkge1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LmJsdXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIFtfdGhpczcucmVuZGVyU2xvdCgnZG90JywgZG90LCBudWxsKSwgX3RoaXM3LnJlbmRlclNsb3QoJ3Rvb2x0aXAnLCBkb3QsIG51bGwpXSk7XG4gICAgICB9KSwgdGhpcy5yZW5kZXJTbG90KCdkZWZhdWx0Jywge1xuICAgICAgICB2YWx1ZTogdGhpcy5nZXRWYWx1ZSgpXG4gICAgICB9LCBudWxsLCB0cnVlKV0pXSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRhaWxTaXplXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZ2V0U2l6ZSgodGhpcy5pc0hvcml6b250YWwgPyB0aGlzLmhlaWdodCA6IHRoaXMud2lkdGgpIHx8IERFRkFVTFRfU0xJREVSX1NJWkUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250YWluZXJDbGFzc2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2dWUtc2xpZGVyJywgW1widnVlLXNsaWRlci1cIi5jb25jYXQodGhpcy5kaXJlY3Rpb24pXSwge1xuICAgICAgICAndnVlLXNsaWRlci1kaXNhYmxlZCc6IHRoaXMuZGlzYWJsZWRcbiAgICAgIH1dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250YWluZXJTdHlsZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfcmVmMyA9IEFycmF5LmlzQXJyYXkodGhpcy5kb3RTaXplKSA/IHRoaXMuZG90U2l6ZSA6IFt0aGlzLmRvdFNpemUsIHRoaXMuZG90U2l6ZV0sXG4gICAgICAgICAgX3JlZjQgPSB2dWVfc2xpZGVyX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLFxuICAgICAgICAgIGRvdFdpZHRoID0gX3JlZjRbMF0sXG4gICAgICAgICAgZG90SGVpZ2h0ID0gX3JlZjRbMV07XG5cbiAgICAgIHZhciBjb250YWluZXJXaWR0aCA9IHRoaXMud2lkdGggPyBnZXRTaXplKHRoaXMud2lkdGgpIDogdGhpcy5pc0hvcml6b250YWwgPyAnYXV0bycgOiBnZXRTaXplKERFRkFVTFRfU0xJREVSX1NJWkUpO1xuICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IHRoaXMuaGVpZ2h0ID8gZ2V0U2l6ZSh0aGlzLmhlaWdodCkgOiB0aGlzLmlzSG9yaXpvbnRhbCA/IGdldFNpemUoREVGQVVMVF9TTElERVJfU0laRSkgOiAnYXV0byc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYWRkaW5nOiB0aGlzLmNvbnRhaW5lZCA/IFwiXCIuY29uY2F0KGRvdEhlaWdodCAvIDIsIFwicHggXCIpLmNvbmNhdChkb3RXaWR0aCAvIDIsIFwicHhcIikgOiB0aGlzLmlzSG9yaXpvbnRhbCA/IFwiXCIuY29uY2F0KGRvdEhlaWdodCAvIDIsIFwicHggMFwiKSA6IFwiMCBcIi5jb25jYXQoZG90V2lkdGggLyAyLCBcInB4XCIpLFxuICAgICAgICB3aWR0aDogY29udGFpbmVyV2lkdGgsXG4gICAgICAgIGhlaWdodDogY29udGFpbmVySGVpZ2h0XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwcm9jZXNzQXJyYXlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5jb250cm9sLnByb2Nlc3NBcnJheS5tYXAoZnVuY3Rpb24gKF9yZWY1LCBpbmRleCkge1xuICAgICAgICB2YXIgX29iamVjdFNwcmVhZDI7XG5cbiAgICAgICAgdmFyIF9yZWY2ID0gdnVlX3NsaWRlcl9zbGljZWRUb0FycmF5KF9yZWY1LCAzKSxcbiAgICAgICAgICAgIHN0YXJ0ID0gX3JlZjZbMF0sXG4gICAgICAgICAgICBlbmQgPSBfcmVmNlsxXSxcbiAgICAgICAgICAgIHN0eWxlID0gX3JlZjZbMl07XG5cbiAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgICAgLyogdHNsaW50OmRpc2FibGU6c2VtaWNvbG9uICovXG4gICAgICAgICAgO1xuICAgICAgICAgIHZhciBfcmVmNyA9IFtlbmQsIHN0YXJ0XTtcbiAgICAgICAgICBzdGFydCA9IF9yZWY3WzBdO1xuICAgICAgICAgIGVuZCA9IF9yZWY3WzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpemVTdHlsZUtleSA9IF90aGlzOC5pc0hvcml6b250YWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgIGVuZDogZW5kLFxuICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICBzdHlsZTogdnVlX3NsaWRlcl9vYmplY3RTcHJlYWQodnVlX3NsaWRlcl9vYmplY3RTcHJlYWQoKF9vYmplY3RTcHJlYWQyID0ge30sIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydHkoX29iamVjdFNwcmVhZDIsIF90aGlzOC5pc0hvcml6b250YWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCcsICcxMDAlJyksIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydHkoX29iamVjdFNwcmVhZDIsIF90aGlzOC5pc0hvcml6b250YWwgPyAndG9wJyA6ICdsZWZ0JywgMCksIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydHkoX29iamVjdFNwcmVhZDIsIF90aGlzOC5tYWluRGlyZWN0aW9uLCBcIlwiLmNvbmNhdChzdGFydCwgXCIlXCIpKSwgdnVlX3NsaWRlcl9kZWZpbmVQcm9wZXJ0eShfb2JqZWN0U3ByZWFkMiwgc2l6ZVN0eWxlS2V5LCBcIlwiLmNvbmNhdChlbmQgLSBzdGFydCwgXCIlXCIpKSwgdnVlX3NsaWRlcl9kZWZpbmVQcm9wZXJ0eShfb2JqZWN0U3ByZWFkMiwgXCJ0cmFuc2l0aW9uUHJvcGVydHlcIiwgXCJcIi5jb25jYXQoc2l6ZVN0eWxlS2V5LCBcIixcIikuY29uY2F0KF90aGlzOC5tYWluRGlyZWN0aW9uKSksIHZ1ZV9zbGlkZXJfZGVmaW5lUHJvcGVydHkoX29iamVjdFNwcmVhZDIsIFwidHJhbnNpdGlvbkR1cmF0aW9uXCIsIFwiXCIuY29uY2F0KF90aGlzOC5hbmltYXRlVGltZSwgXCJzXCIpKSwgX29iamVjdFNwcmVhZDIpLCBfdGhpczgucHJvY2Vzc1N0eWxlKSwgc3R5bGUpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZG90QmFzZVN0eWxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3JlZjggPSBBcnJheS5pc0FycmF5KHRoaXMuZG90U2l6ZSkgPyB0aGlzLmRvdFNpemUgOiBbdGhpcy5kb3RTaXplLCB0aGlzLmRvdFNpemVdLFxuICAgICAgICAgIF9yZWY5ID0gdnVlX3NsaWRlcl9zbGljZWRUb0FycmF5KF9yZWY4LCAyKSxcbiAgICAgICAgICBkb3RXaWR0aCA9IF9yZWY5WzBdLFxuICAgICAgICAgIGRvdEhlaWdodCA9IF9yZWY5WzFdO1xuXG4gICAgICB2YXIgZG90UG9zO1xuXG4gICAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgICAgZG90UG9zID0gdnVlX3NsaWRlcl9kZWZpbmVQcm9wZXJ0eSh7XG4gICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIi5jb25jYXQodGhpcy5pc1JldmVyc2UgPyAnNTAlJyA6ICctNTAlJywgXCIsIC01MCUpXCIpLFxuICAgICAgICAgICctV2Via2l0VHJhbnNmb3JtJzogXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHRoaXMuaXNSZXZlcnNlID8gJzUwJScgOiAnLTUwJScsIFwiLCAtNTAlKVwiKSxcbiAgICAgICAgICB0b3A6ICc1MCUnXG4gICAgICAgIH0sIHRoaXMuZGlyZWN0aW9uID09PSAnbHRyJyA/ICdsZWZ0JyA6ICdyaWdodCcsICcwJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb3RQb3MgPSB2dWVfc2xpZGVyX2RlZmluZVByb3BlcnR5KHtcbiAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsIFwiLmNvbmNhdCh0aGlzLmlzUmV2ZXJzZSA/ICc1MCUnIDogJy01MCUnLCBcIilcIiksXG4gICAgICAgICAgJy1XZWJraXRUcmFuc2Zvcm0nOiBcInRyYW5zbGF0ZSgtNTAlLCBcIi5jb25jYXQodGhpcy5pc1JldmVyc2UgPyAnNTAlJyA6ICctNTAlJywgXCIpXCIpLFxuICAgICAgICAgIGxlZnQ6ICc1MCUnXG4gICAgICAgIH0sIHRoaXMuZGlyZWN0aW9uID09PSAnYnR0JyA/ICdib3R0b20nIDogJ3RvcCcsICcwJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2dWVfc2xpZGVyX29iamVjdFNwcmVhZCh7XG4gICAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdChkb3RXaWR0aCwgXCJweFwiKSxcbiAgICAgICAgaGVpZ2h0OiBcIlwiLmNvbmNhdChkb3RIZWlnaHQsIFwicHhcIilcbiAgICAgIH0sIGRvdFBvcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1haW5EaXJlY3Rpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5kaXJlY3Rpb24pIHtcbiAgICAgICAgY2FzZSAnbHRyJzpcbiAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xuXG4gICAgICAgIGNhc2UgJ3J0bCc6XG4gICAgICAgICAgcmV0dXJuICdyaWdodCc7XG5cbiAgICAgICAgY2FzZSAnYnR0JzpcbiAgICAgICAgICByZXR1cm4gJ2JvdHRvbSc7XG5cbiAgICAgICAgY2FzZSAndHRiJzpcbiAgICAgICAgICByZXR1cm4gJ3RvcCc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzSG9yaXpvbnRhbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uID09PSAnbHRyJyB8fCB0aGlzLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzUmV2ZXJzZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uID09PSAncnRsJyB8fCB0aGlzLmRpcmVjdGlvbiA9PT0gJ2J0dCc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvb2x0aXBEaXJlY3Rpb25zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgZGlyID0gdGhpcy50b29sdGlwUGxhY2VtZW50IHx8ICh0aGlzLmlzSG9yaXpvbnRhbCA/ICd0b3AnIDogJ2xlZnQnKTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGlyKSkge1xuICAgICAgICByZXR1cm4gZGlyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG90cy5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBkaXI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkb3RzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuY29udHJvbC5kb3RzUG9zLm1hcChmdW5jdGlvbiAocG9zLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gdnVlX3NsaWRlcl9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIHBvczogcG9zLFxuICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICB2YWx1ZTogX3RoaXM5LmNvbnRyb2wuZG90c1ZhbHVlW2luZGV4XSxcbiAgICAgICAgICBmb2N1czogX3RoaXM5LnN0YXRlcy5oYXMoU2xpZGVyU3RhdGUuRm9jdXMpICYmIF90aGlzOS5mb2N1c0RvdEluZGV4ID09PSBpbmRleCxcbiAgICAgICAgICBkaXNhYmxlZDogX3RoaXM5LmRpc2FibGVkLFxuICAgICAgICAgIHN0eWxlOiBfdGhpczkuZG90U3R5bGVcbiAgICAgICAgfSwgKEFycmF5LmlzQXJyYXkoX3RoaXM5LmRvdE9wdGlvbnMpID8gX3RoaXM5LmRvdE9wdGlvbnNbaW5kZXhdIDogX3RoaXM5LmRvdE9wdGlvbnMpIHx8IHt9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhbmltYXRlVGltZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGVzLmhhcyhTbGlkZXJTdGF0ZS5EcmFnKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZHVyYXRpb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhblNvcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm9yZGVyICYmICF0aGlzLm1pblJhbmdlICYmICF0aGlzLm1heFJhbmdlICYmICF0aGlzLmZpeGVkICYmIHRoaXMuZW5hYmxlQ3Jvc3M7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNsaWRlckRhdGFcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuaXNPYmplY3RBcnJheURhdGEodGhpcy5kYXRhKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtfdGhpczEwLmRhdGFWYWx1ZV07XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzT2JqZWN0RGF0YSh0aGlzLmRhdGEpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2xpZGVyTWFya3NcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpczExID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMubWFya3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya3M7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNPYmplY3RBcnJheURhdGEodGhpcy5kYXRhKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgIHZhciBtYXJrID0ge1xuICAgICAgICAgICAgbGFiZWw6IHZhbFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBfdGhpczExLmRhdGEuc29tZShmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqW190aGlzMTEuZGF0YVZhbHVlXSA9PT0gdmFsKSB7XG4gICAgICAgICAgICAgIG1hcmsubGFiZWwgPSBvYmpbX3RoaXMxMS5kYXRhTGFiZWxdO1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIG1hcms7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNPYmplY3REYXRhKHRoaXMuZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2xpZGVyVG9vbHRpcEZvcm1hdHRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzMTIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy50b29sdGlwRm9ybWF0dGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXBGb3JtYXR0ZXI7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNPYmplY3RBcnJheURhdGEodGhpcy5kYXRhKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgIHZhciB0b29sdGlwVGV4dCA9ICcnICsgdmFsO1xuXG4gICAgICAgICAgX3RoaXMxMi5kYXRhLnNvbWUoZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgaWYgKG9ialtfdGhpczEyLmRhdGFWYWx1ZV0gPT09IHZhbCkge1xuICAgICAgICAgICAgICB0b29sdGlwVGV4dCA9IG9ialtfdGhpczEyLmRhdGFMYWJlbF07XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gdG9vbHRpcFRleHQ7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNPYmplY3REYXRhKHRoaXMuZGF0YSkpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGFbdmFsXTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNOb3RTeW5jXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgdmFsdWVzID0gdGhpcy5jb250cm9sLmRvdHNWYWx1ZTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpID8gdGhpcy52YWx1ZS5sZW5ndGggIT09IHZhbHVlcy5sZW5ndGggfHwgdGhpcy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiB2YWwgIT09IHZhbHVlc1tpbmRleF07XG4gICAgICB9KSA6IHRoaXMudmFsdWUgIT09IHZhbHVlc1swXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ1JhbmdlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgcHJldkRvdCA9IHRoaXMuZG90c1t0aGlzLmZvY3VzRG90SW5kZXggLSAxXTtcbiAgICAgIHZhciBuZXh0RG90ID0gdGhpcy5kb3RzW3RoaXMuZm9jdXNEb3RJbmRleCArIDFdO1xuICAgICAgcmV0dXJuIFtwcmV2RG90ID8gcHJldkRvdC5wb3MgOiAtSW5maW5pdHksIG5leHREb3QgPyBuZXh0RG90LnBvcyA6IEluZmluaXR5XTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVnVlU2xpZGVyO1xufShleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9yb290X1Z1ZV9hbWRfdnVlX2RlZmF1bHQuYSk7XG5cbl9fZGVjb3JhdGUoW01vZGVsKCdjaGFuZ2UnLCB7XG4gIGRlZmF1bHQ6IDBcbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBCb29sZWFuLFxuICBkZWZhdWx0OiBmYWxzZVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwic2lsZW50XCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICBkZWZhdWx0OiAnbHRyJyxcbiAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IoZGlyKSB7XG4gICAgcmV0dXJuIFsnbHRyJywgJ3J0bCcsICd0dGInLCAnYnR0J10uaW5kZXhPZihkaXIpID4gLTE7XG4gIH1cbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcImRpcmVjdGlvblwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgdHlwZTogW051bWJlciwgU3RyaW5nXVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwid2lkdGhcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IFtOdW1iZXIsIFN0cmluZ11cbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcImhlaWdodFwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgZGVmYXVsdDogMTRcbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcImRvdFNpemVcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIGRlZmF1bHQ6IGZhbHNlXG59KV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJjb250YWluZWRcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IE51bWJlcixcbiAgZGVmYXVsdDogMFxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwibWluXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBOdW1iZXIsXG4gIGRlZmF1bHQ6IDEwMFxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwibWF4XCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBOdW1iZXIsXG4gIGRlZmF1bHQ6IDFcbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcImludGVydmFsXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBCb29sZWFuLFxuICBkZWZhdWx0OiBmYWxzZVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IEJvb2xlYW4sXG4gIGRlZmF1bHQ6IHRydWVcbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcImNsaWNrYWJsZVwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgdHlwZTogQm9vbGVhbixcbiAgZGVmYXVsdDogZmFsc2Vcbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcImRyYWdPbkNsaWNrXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBOdW1iZXIsXG4gIGRlZmF1bHQ6IDAuNVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwiZHVyYXRpb25cIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IFtPYmplY3QsIEFycmF5XVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwiZGF0YVwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgdHlwZTogU3RyaW5nLFxuICBkZWZhdWx0OiAndmFsdWUnXG59KV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJkYXRhVmFsdWVcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IFN0cmluZyxcbiAgZGVmYXVsdDogJ2xhYmVsJ1xufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwiZGF0YUxhYmVsXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBCb29sZWFuLFxuICBkZWZhdWx0OiBmYWxzZVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwibGF6eVwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgdHlwZTogU3RyaW5nLFxuICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWwpIHtcbiAgICByZXR1cm4gWydub25lJywgJ2Fsd2F5cycsICdmb2N1cycsICdob3ZlcicsICdhY3RpdmUnXS5pbmRleE9mKHZhbCkgPiAtMTtcbiAgfSxcbiAgZGVmYXVsdDogJ2FjdGl2ZSdcbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcInRvb2x0aXBcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IFtTdHJpbmcsIEFycmF5XSxcbiAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IoZGF0YSkge1xuICAgIHJldHVybiAoQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV0pLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddLmluZGV4T2YodmFsKSA+IC0xO1xuICAgIH0pO1xuICB9XG59KV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJ0b29sdGlwUGxhY2VtZW50XCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBbU3RyaW5nLCBBcnJheSwgRnVuY3Rpb25dXG59KV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJ0b29sdGlwRm9ybWF0dGVyXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBCb29sZWFuLFxuICBkZWZhdWx0OiB0cnVlXG59KV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJ1c2VLZXlib2FyZFwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKEZ1bmN0aW9uKV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJrZXlkb3duSG9va1wiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgdHlwZTogQm9vbGVhbixcbiAgZGVmYXVsdDogdHJ1ZVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwiZW5hYmxlQ3Jvc3NcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCh7XG4gIHR5cGU6IEJvb2xlYW4sXG4gIGRlZmF1bHQ6IGZhbHNlXG59KV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJmaXhlZFwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgdHlwZTogQm9vbGVhbixcbiAgZGVmYXVsdDogdHJ1ZVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwib3JkZXJcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcChOdW1iZXIpXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcIm1pblJhbmdlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoTnVtYmVyKV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJtYXhSYW5nZVwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKHtcbiAgdHlwZTogW0Jvb2xlYW4sIE9iamVjdCwgQXJyYXksIEZ1bmN0aW9uXSxcbiAgZGVmYXVsdDogZmFsc2Vcbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcIm1hcmtzXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBbQm9vbGVhbiwgRnVuY3Rpb25dLFxuICBkZWZhdWx0OiB0cnVlXG59KV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJwcm9jZXNzXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3Aoe1xuICB0eXBlOiBbTnVtYmVyXVxufSldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwiem9vbVwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKEJvb2xlYW4pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcImluY2x1ZGVkXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoQm9vbGVhbildLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwiYWRzb3JiXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoQm9vbGVhbildLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwiaGlkZUxhYmVsXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJkb3RPcHRpb25zXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJkb3RBdHRyc1wiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKCldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwicmFpbFN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJwcm9jZXNzU3R5bGVcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCgpXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcImRvdFN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJ0b29sdGlwU3R5bGVcIiwgdm9pZCAwKTtcblxuX19kZWNvcmF0ZShbUHJvcCgpXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcInN0ZXBTdHlsZVwiLCB2b2lkIDApO1xuXG5fX2RlY29yYXRlKFtQcm9wKCldLCB2dWVfc2xpZGVyX1Z1ZVNsaWRlci5wcm90b3R5cGUsIFwic3RlcEFjdGl2ZVN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJsYWJlbFN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1Byb3AoKV0sIHZ1ZV9zbGlkZXJfVnVlU2xpZGVyLnByb3RvdHlwZSwgXCJsYWJlbEFjdGl2ZVN0eWxlXCIsIHZvaWQgMCk7XG5cbl9fZGVjb3JhdGUoW1dhdGNoKCd2YWx1ZScpXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIucHJvdG90eXBlLCBcIm9uVmFsdWVDaGFuZ2VkXCIsIG51bGwpO1xuXG52dWVfc2xpZGVyX1Z1ZVNsaWRlciA9IF9fZGVjb3JhdGUoW3Z1ZV9jbGFzc19jb21wb25lbnRfY29tbW9uX2RlZmF1bHQoKSh7XG4gIG5hbWU6ICdWdWVTbGlkZXInLFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb250cm9sOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50czoge1xuICAgIFZ1ZVNsaWRlckRvdDogdnVlX3NsaWRlcl9kb3QsXG4gICAgVnVlU2xpZGVyTWFyazogdnVlX3NsaWRlcl9tYXJrXG4gIH1cbn0pXSwgdnVlX3NsaWRlcl9WdWVTbGlkZXIpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdnVlX3NsaWRlciA9ICh2dWVfc2xpZGVyX1Z1ZVNsaWRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL2xpYi9pbmRleC50c1xuLyogdHNsaW50OmRpc2FibGU6aW1wb3J0LXNwYWNpbmcgKi9cblxuXG5cblxudnVlX3NsaWRlci5WdWVTbGlkZXJNYXJrID0gdnVlX3NsaWRlcl9tYXJrO1xudnVlX3NsaWRlci5WdWVTbGlkZXJEb3QgPSB2dWVfc2xpZGVyX2RvdDtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGxpYiA9ICh2dWVfc2xpZGVyKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHZ1ZS9jbGktc2VydmljZS9saWIvY29tbWFuZHMvYnVpbGQvZW50cnktbGliLmpzXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZW50cnlfbGliID0gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAobGliKTtcblxuXG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pW1wiZGVmYXVsdFwiXTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dnVlLXNsaWRlci1jb21wb25lbnQudW1kLmpzLm1hcCIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbmltcG9ydCB7IENvbXBvbmVudCwgVnVlLCBNaXhpbnMgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJ1xyXG5pbXBvcnQgVnVlU2xpZGVyIGZyb20gJ3Z1ZS1zbGlkZXItY29tcG9uZW50J1xyXG4vL2ltcG9ydCAndnVlLXNsaWRlci1jb21wb25lbnQvdGhlbWUvZGVmYXVsdC5jc3MnXHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBjb21wb25lbnRzOiB7XHJcbiAgICBWdWVTbGlkZXIsXHJcbiAgfSxcclxufSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlTbGlkZXJDb21wb25lbnQgZXh0ZW5kcyBWdWUge1xyXG4gIHZhbHVlID0gNTBcclxuXHJcbiAgY3JlYXRlZCgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdNeVNsaWRlckNvbXBvbmVudC52dWUnKVxyXG4gIH1cclxufVxyXG48L3NjcmlwdD5cclxuXHJcbjx0ZW1wbGF0ZT5cclxuICA8ZGl2IGNsYXNzPVwiZXhhbXBsZVwiPlxyXG4gICAgPGgzPk15U2xpZGVyQ29tcG9uZW50LnZ1ZTwvaDM+XHJcbiAgICA8dnVlLXNsaWRlciB2LW1vZGVsPVwidmFsdWVcIj48L3Z1ZS1zbGlkZXI+XHJcblxyXG4gICAgPHA+U2VlIGZpbGUgY29tbWVudHMgaW4gPGNvZGU+c3JjL2NvbXBvbmVudHMvTXlTbGlkZXJDb21wb25lbnQudnVlPC9jb2RlPjwvcD5cclxuICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiPlxyXG5AaW1wb3J0ICd2dWUtc2xpZGVyLWNvbXBvbmVudC9saWIvdGhlbWUvYW50ZC5zY3NzJztcclxuXHJcbi5leGFtcGxlIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XHJcbiAgcGFkZGluZzogMXJlbTtcclxuICBib3JkZXItcmFkaXVzOiAxcmVtO1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbn1cclxuY29kZSB7XHJcbiAgYmFja2dyb3VuZDogI2VlZTtcclxuICBwYWRkaW5nOiA1cHg7XHJcbn1cclxuPC9zdHlsZT5cclxuIiwiXG48ZGl2IGNsYXNzPVwiZXhhbXBsZVwiPlxuICA8aDM+TXlTbGlkZXJDb21wb25lbnQudnVlPC9oMz5cbiAgPHZ1ZS1zbGlkZXIgdi1tb2RlbD1cInZhbHVlXCI+PC92dWUtc2xpZGVyPlxuXG4gIDxwPlNlZSBmaWxlIGNvbW1lbnRzIGluIDxjb2RlPnNyYy9jb21wb25lbnRzL015U2xpZGVyQ29tcG9uZW50LnZ1ZTwvY29kZT48L3A+XG48L2Rpdj5cbiIsImV4cG9ydCBkZWZhdWx0IFwiX19WSVRFX0FTU0VUX19iZDY1YjY0YV9fXCIiLCJcbjxkaXYgaWQ9XCJhcHBcIj5cbiAgPGltZyBzcmM9XCJAL2Fzc2V0cy9sb2dvLnN2Z1wiIGFsdD1cIlZpdGUgbG9nb1wiIC8+XG4gIDxNeVNsaWRlckNvbXBvbmVudCAvPlxuPC9kaXY+XG4iLCI8c2NyaXB0PlxuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJ1xuaW1wb3J0IE15U2xpZGVyQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50cy9NeVNsaWRlckNvbXBvbmVudC52dWUnXG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdBcHAnLFxuICBjb21wb25lbnRzOiB7XG4gICAgTXlTbGlkZXJDb21wb25lbnQsXG4gIH0sXG59KVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdiBpZD1cImFwcFwiPlxuICAgIDxpbWcgc3JjPVwiQC9hc3NldHMvbG9nby5zdmdcIiBhbHQ9XCJWaXRlIGxvZ29cIiAvPlxuICAgIDxNeVNsaWRlckNvbXBvbmVudCAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZT5cbiNhcHAge1xuICBmb250LWZhbWlseTogQXZlbmlyLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogIzJjM2U1MDtcbiAgbWFyZ2luLXRvcDogNjBweDtcbn1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJ1xuXG5uZXcgVnVlKEFwcCkuJG1vdW50KCcjYXBwJylcbiJdLCJuYW1lcyI6WyJpc1ByaW1pdGl2ZSIsInN0ciIsImluZGV4IiwibW9kdWxlcyIsImhhc1Byb3RvIiwiU2V0IiwiVk5vZGUiLCJ0ZXh0IiwiRGVwIiwidGFyZ2V0IiwiT2JzZXJ2ZXIiLCJyZWYiLCJwcm94eSIsIl9hIiwic2V0IiwidmFsIiwib25jZSIsImZucyIsIm9uIiwiYWRkIiwicmVtb3ZlIiwiY3JlYXRlT25jZUhhbmRsZXIiLCJkZWYiLCJhdHRycyIsInByb3BzIiwiaGFzaCIsInJlbmRlciIsImtleSIsImNhY2hlZCIsInAiLCJWdWUiLCJxdWV1ZSIsIkVmZmVjdFNjb3BlIiwiaG9va3MiLCJzdHlsZSIsIldhdGNoZXIiLCJjb21wdXRlZCIsIndhdGNoIiwiaW5qZWN0IiwibGVuIiwicGFyZW50Tm9kZSIsInRhZ05hbWUiLCJub2RlT3BzIiwiY3JlYXRlQ29tcG9uZW50IiwiaSIsImoiLCJwYXRjaCIsIndhcm4iLCJldmVudHMiLCJjaHIiLCJlbnRlciIsImxlYXZlIiwidHJhbnNpdGlvbiIsImgiLCJkZWxpbWl0ZXJzIiwiaHRtbCIsInNob3VsZERlY29kZU5ld2xpbmVzIiwiaXNVbmFyeVRhZyIsImNhbkJlTGVmdE9wZW5UYWciLCJuZXh0IiwiZW5kVGFnIiwiaXNOYXRpdmUiLCJoYW5kbGVyIiwiQ29kZWdlblN0YXRlIiwiaXNSZXNlcnZlZFRhZyIsImNvbW1lbnQiLCJiaW5kIiwiY29tcGlsZVRvRnVuY3Rpb25zIiwiYmFzZUNvbXBpbGUiLCJjcmVhdGVDb21waWxlciIsImJhc2VPcHRpb25zIiwic3RhdGljUmVuZGVyRm5zIiwib2JqIiwiQ29tcG9uZW50IiwidGhpcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJ0b1N0cmluZyIsImEiLCJub29wIiwidXBkYXRlU3R5bGUiLCJyZWZsZWN0aW9uSXNTdXBwb3J0ZWQiLCJjb3B5UmVmbGVjdGlvbk1ldGFkYXRhIiwiZm9yd2FyZE1ldGFkYXRhIiwiZmFrZUFycmF5IiwiY29sbGVjdERhdGFGcm9tQ29uc3RydWN0b3IiLCIkaW50ZXJuYWxIb29rcyIsImNvbXBvbmVudEZhY3RvcnkiLCJmb3J3YXJkU3RhdGljTWVtYmVycyIsInJlZ2lzdGVySG9va3MiLCJfdHlwZW9mIiwiX3NldFByb3RvdHlwZU9mIiwibyIsInNlbGYiLCJfZ2V0UHJvdG90eXBlT2YiLCJWdWVTbGlkZXJEb3QiLCJWdWVTbGlkZU1hcmsiLCJnZXRTaXplIiwiZ2V0T2Zmc2V0IiwiZ2V0UG9zIiwiS0VZX0NPREUiLCJnZXRLZXlib2FyZEhhbmRsZUZ1bmMiLCJEZWNpbWFsIiwidG9OdW1iZXIiLCJfZGVmaW5lUHJvcGVydHkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiRVJST1JfVFlQRSIsImluTGltaXRSYW5nZSIsImdldE1hcmtCeVZhbHVlIiwiU3RhdGUiLCJoYXMiLCJWdWVTbGlkZXIiLCJnZXRWYWx1ZSIsInJlbmRlclNsb3QiLCJNeVNsaWRlckNvbXBvbmVudCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxJQUFJLFNBQVMsV0FBVztBQUMxQixRQUFNLFVBQVUsU0FBUyxjQUFjLE1BQU0sRUFBRTtBQUMvQyxNQUFJLFdBQVcsUUFBUSxZQUFZLFFBQVEsU0FBUyxlQUFlLEdBQUc7QUFDbEU7QUFBQSxFQUNIO0FBQ0QsYUFBVyxRQUFRLFNBQVMsaUJBQWlCLDJCQUEyQixHQUFHO0FBQ3ZFLG1CQUFlLElBQUk7QUFBQSxFQUN0QjtBQUNELE1BQUksaUJBQWlCLENBQUMsY0FBYztBQUNoQyxlQUFXLFlBQVksV0FBVztBQUM5QixVQUFJLFNBQVMsU0FBUyxhQUFhO0FBQy9CO0FBQUEsTUFDSDtBQUNELGlCQUFXLFFBQVEsU0FBUyxZQUFZO0FBQ3BDLFlBQUksS0FBSyxZQUFZLFVBQVUsS0FBSyxRQUFRO0FBQ3hD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
